/*!
 * jQuery JavaScript Library v1.12.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:17Z
 */
!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=pt.type(t);return"function"!==n&&!pt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(pt.isFunction(e))return pt.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return pt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(kt.test(e))return pt.filter(e,t,n);e=pt.filter(e,t)}return pt.grep(t,function(t){return pt.inArray(t,e)>-1!==n})}function r(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function o(t){var e={};return pt.each(t.match(jt)||[],function(t,n){e[n]=!0}),e}function a(){rt.addEventListener?(rt.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s)):(rt.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(rt.addEventListener||"load"===t.event.type||"complete"===rt.readyState)&&(a(),pt.ready())}function l(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(Ot,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Et.test(n)?pt.parseJSON(n):n)}catch(r){}pt.data(t,e,n)}else n=undefined}return n}function u(t){var e;for(e in t)if(("data"!==e||!pt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,i){if(Ft(t)){var r,o,a=pt.expando,s=t.nodeType,l=s?pt.cache:t,u=s?t[a]:t[a]&&a;if(u&&l[u]&&(i||l[u].data)||n!==undefined||"string"!=typeof e)return u||(u=s?t[a]=it.pop()||pt.guid++:a),l[u]||(l[u]=s?{}:{toJSON:pt.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[u]=pt.extend(l[u],e):l[u].data=pt.extend(l[u].data,e)),o=l[u],i||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[pt.camelCase(e)]=n),"string"==typeof e?null==(r=o[e])&&(r=o[pt.camelCase(e)]):r=o,r}}function d(t,e,n){if(Ft(t)){var i,r,o=t.nodeType,a=o?pt.cache:t,s=o?t[pt.expando]:pt.expando;if(a[s]){if(e&&(i=n?a[s]:a[s].data)){r=(e=pt.isArray(e)?e.concat(pt.map(e,pt.camelCase)):e in i?[e]:(e=pt.camelCase(e))in i?[e]:e.split(" ")).length;for(;r--;)delete i[e[r]];if(n?!u(i):!pt.isEmptyObject(i))return}(n||(delete a[s].data,u(a[s])))&&(o?pt.cleanData([t],!0):ft.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function f(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return pt.css(t,e,"")},l=s(),u=n&&n[3]||(pt.cssNumber[e]?"":"px"),c=(pt.cssNumber[e]||"px"!==u&&+l)&&Rt.exec(pt.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{c/=o=o||".5",pt.style(t,e,c+u)}while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function h(t){var e=Xt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function p(t,e){var n,i,r=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||pt.nodeName(i,e)?o.push(i):pt.merge(o,p(i,e));return e===undefined||e&&pt.nodeName(t,e)?pt.merge([t],o):o}function g(t,e){for(var n,i=0;null!=(n=t[i]);i++)pt._data(n,"globalEval",!e||pt._data(e[i],"globalEval"))}function m(t){qt.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,n,i,r){for(var o,a,s,l,u,c,d,f=t.length,v=h(e),b=[],y=0;y<f;y++)if((a=t[y])||0===a)if("object"===pt.type(a))pt.merge(b,a.nodeType?[a]:a);else if(Zt.test(a)){for(l=l||v.appendChild(e.createElement("div")),u=(Wt.exec(a)||["",""])[1].toLowerCase(),d=Gt[u]||Gt._default,l.innerHTML=d[1]+pt.htmlPrefilter(a)+d[2],o=d[0];o--;)l=l.lastChild;if(!ft.leadingWhitespace&&Yt.test(a)&&b.push(e.createTextNode(Yt.exec(a)[0])),!ft.tbody)for(o=(a="table"!==u||Kt.test(a)?"<table>"!==d[1]||Kt.test(a)?0:l:l.firstChild)&&a.childNodes.length;o--;)pt.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(pt.merge(b,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else b.push(e.createTextNode(a));for(l&&v.removeChild(l),ft.appendChecked||pt.grep(p(b,"input"),m),y=0;a=b[y++];)if(i&&pt.inArray(a,i)>-1)r&&r.push(a);else if(s=pt.contains(a.ownerDocument,a),l=p(v.appendChild(a),"script"),s&&g(l),n)for(o=0;a=l[o++];)Vt.test(a.type||"")&&n.push(a);return l=null,v}function b(){return!0}function y(){return!1}function x(){try{return rt.activeElement}catch(t){}}function w(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=undefined),e)w(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=y;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return pt().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,r,i,n)})}function C(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function k(t){return t.type=(null!==pt.find.attr(t,"type"))+"/"+t.type,t}function S(t){var e=le.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){if(1===e.nodeType&&pt.hasData(t)){var n,i,r,o=pt._data(t),a=pt._data(e,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,r=s[n].length;i<r;i++)pt.event.add(e,n,s[n][i]);a.data&&(a.data=pt.extend({},a.data))}}function M(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ft.noCloneEvent&&e[pt.expando]){for(i in(r=pt._data(e)).events)pt.removeEvent(e,i,r.handle);e.removeAttribute(pt.expando)}"script"===n&&e.text!==t.text?(k(e).text=t.text,S(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ft.html5Clone&&t.innerHTML&&!pt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&qt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function D(t,e,n,i){e=at.apply([],e);var r,o,a,s,l,u,c=0,d=t.length,f=d-1,h=e[0],g=pt.isFunction(h);if(g||d>1&&"string"==typeof h&&!ft.checkClone&&se.test(h))return t.each(function(r){var o=t.eq(r);g&&(e[0]=h.call(this,r,o.html())),D(o,e,n,i)});if(d&&(r=(u=v(e,t[0].ownerDocument,!1,t,i)).firstChild,1===u.childNodes.length&&(u=r),r||i)){for(a=(s=pt.map(p(u,"script"),k)).length;c<d;c++)o=u,c!==f&&(o=pt.clone(o,!0,!0),a&&pt.merge(s,p(o,"script"))),n.call(t[c],o,c);if(a)for(l=s[s.length-1].ownerDocument,pt.map(s,S),c=0;c<a;c++)o=s[c],Vt.test(o.type||"")&&!pt._data(o,"globalEval")&&pt.contains(l,o)&&(o.src?pt._evalUrl&&pt._evalUrl(o.src):pt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(ue,"")));u=r=null}return t}function A(t,e,n){for(var i,r=e?pt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||pt.cleanData(p(i)),i.parentNode&&(n&&pt.contains(i.ownerDocument,i)&&g(p(i,"script")),i.parentNode.removeChild(i));return t}function I(t,e){var n=pt(e.createElement(t)).appendTo(e.body),i=pt.css(n[0],"display");return n.detach(),i}function j(t){var e=rt,n=fe[t];return n||("none"!==(n=I(t,e))&&n||((e=((de=(de||pt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||de[0].contentDocument).document).write(),e.close(),n=I(t,e),de.detach()),fe[t]=n),n}function $(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function F(t){if(t in Me)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Te.length;n--;)if((t=Te[n]+e)in Me)return t}function E(t,e){for(var n,i,r,o=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(o[a]=pt._data(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Ht(i)&&(o[a]=pt._data(i,"olddisplay",j(i.nodeName)))):(r=Ht(i),(n&&"none"!==n||!r)&&pt._data(i,"olddisplay",r?n:pt.css(i,"display"))));for(a=0;a<s;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function O(t,e,n){var i=Ce.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function P(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=pt.css(t,n+zt[o],!0,r)),i?("content"===n&&(a-=pt.css(t,"padding"+zt[o],!0,r)),"margin"!==n&&(a-=pt.css(t,"border"+zt[o]+"Width",!0,r))):(a+=pt.css(t,"padding"+zt[o],!0,r),"padding"!==n&&(a+=pt.css(t,"border"+zt[o]+"Width",!0,r)));return a}function L(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=ve(t),a=ft.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=be(t,e,o))<0||null==r)&&(r=t.style[e]),pe.test(r))return r;i=a&&(ft.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+P(t,e,n||(a?"border":"content"),i,o)+"px"}function N(t,e,n,i,r){return new N.prototype.init(t,e,n,i,r)}function B(){return t.setTimeout(function(){De=undefined}),De=pt.now()}function R(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=zt[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function z(t,e,n){for(var i,r=(q.tweeners[e]||[]).concat(q.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function H(t,e,n){var i,r,o,a,s,l,u,c=this,d={},f=t.style,h=t.nodeType&&Ht(t),p=pt._data(t,"fxshow");for(i in n.queue||(null==(s=pt._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,pt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(u=pt.css(t,"display"))?pt._data(t,"olddisplay")||j(t.nodeName):u)&&"none"===pt.css(t,"float")&&(ft.inlineBlockNeedsLayout&&"inline"!==j(t.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ft.shrinkWrapBlocks()||c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),e)if(r=e[i],Ie.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!p||p[i]===undefined)continue;h=!0}d[i]=p&&p[i]||pt.style(t,i)}else u=undefined;if(pt.isEmptyObject(d))"inline"===("none"===u?j(t.nodeName):u)&&(f.display=u);else for(i in p?"hidden"in p&&(h=p.hidden):p=pt._data(t,"fxshow",{}),o&&(p.hidden=!h),h?pt(t).show():c.done(function(){pt(t).hide()}),c.done(function(){var e;for(e in pt._removeData(t,"fxshow"),d)pt.style(t,e,d[e])}),d)a=z(h?p[i]:0,i,c),i in p||(p[i]=a.start,h&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}function U(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=pt.camelCase(n)],o=t[n],pt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=pt.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function q(t,e,n){var i,r,o=0,a=q.prefilters.length,s=pt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=De||B(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(i);return s.notifyWith(t,[u,i,n]),i<1&&a?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},n),originalProperties:e,originalOptions:n,startTime:De||B(),duration:n.duration,tweens:[],createTween:function(e,n){var i=pt.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(U(c,u.opts.specialEasing);o<a;o++)if(i=q.prefilters[o].call(u,t,c,u.opts))return pt.isFunction(i.stop)&&(pt._queueHooks(u.elem,u.opts.queue).stop=pt.proxy(i.stop,i)),i;return pt.map(c,z,u),pt.isFunction(u.opts.start)&&u.opts.start.call(t,u),pt.fx.timer(pt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function W(t){return pt.attr(t,"class")||""}function V(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(jt)||[];if(pt.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Y(t,e,n,i){function r(s){var l;return o[s]=!0,pt.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=t===en;return r(e.dataTypes[0])||!o["*"]&&r("*")}function X(t,e){var n,i,r=pt.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&pt.extend(!0,t,n),t}function G(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),r===undefined&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||t.converters[a+" "+l[0]]){o=a;break}i||(i=a)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}function Z(t,e,n,i){var r,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function K(t){return t.style&&t.style.display||pt.css(t,"display")}function J(t){if(!pt.contains(t.ownerDocument||rt,t))return!0;for(;t&&1===t.nodeType;){if("none"===K(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Q(t,e,n,i){var r;if(pt.isArray(e))pt.each(e,function(e,r){n||sn.test(t)?i(t,r):Q(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==pt.type(e))i(t,e);else for(r in e)Q(t+"["+r+"]",e[r],n,i)}function tt(){try{return new t.XMLHttpRequest}catch(e){}}function et(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function nt(t){return pt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var it=[],rt=t.document,ot=it.slice,at=it.concat,st=it.push,lt=it.indexOf,ut={},ct=ut.toString,dt=ut.hasOwnProperty,ft={},ht="1.12.4",pt=function(t,e){return new pt.fn.init(t,e)},gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,vt=/-([\da-z])/gi,bt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:ht,constructor:pt,selector:"",length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:it.sort,splice:it.splice},pt.extend=pt.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||pt.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(r=arguments[s]))for(i in r)t=a[i],a!==(n=r[i])&&(u&&n&&(pt.isPlainObject(n)||(e=pt.isArray(n)))?(e?(e=!1,o=t&&pt.isArray(t)?t:[]):o=t&&pt.isPlainObject(t)?t:{},a[i]=pt.extend(u,o,n)):n!==undefined&&(a[i]=n));return a},pt.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray||function(t){return"array"===pt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!pt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==pt.type(t)||t.nodeType||pt.isWindow(t))return!1;try{if(t.constructor&&!dt.call(t,"constructor")&&!dt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ft.ownFirst)for(e in t)return dt.call(t,e);for(e in t);return e===undefined||dt.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ut[ct.call(t)]||"object":typeof t},globalEval:function(e){e&&pt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(mt,"ms-").replace(vt,bt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;r<i&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(gt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?pt.merge(i,"string"==typeof t?[t]:t):st.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(lt)return lt.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;)t[r++]=e[i++];if(n!=n)for(;e[i]!==undefined;)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,i){var r,o,a=0,s=[];if(n(t))for(r=t.length;a<r;a++)null!=(o=e(t[a],a,i))&&s.push(o);else for(a in t)null!=(o=e(t[a],a,i))&&s.push(o);return at.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),pt.isFunction(t)?(n=ot.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(ot.call(arguments)))}).guid=t.guid=t.guid||pt.guid++,i):undefined},now:function(){return+new Date},support:ft}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=it[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ut["[object "+e+"]"]=e.toLowerCase()});var yt=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(t){function e(t,e,n,i){var r,o,a,s,l,u,d,h,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&((e?e.ownerDocument||e:R)!==$&&j(e),e=e||$,E)){if(11!==g&&(u=vt.exec(t)))if(r=u[1]){if(9===g){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(p&&(a=p.getElementById(r))&&N(e,a)&&a.id===r)return n.push(a),n}else{if(u[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&w.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(w.qsa&&!W[t+" "]&&(!O||!O.test(t))){if(1!==g)p=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(yt,"\\$&"):e.setAttribute("id",s=B),o=(d=S(t)).length,l=ft.test(s)?"#"+s:"[id='"+s+"']";o--;)d[o]=l+" "+f(d[o]);h=d.join(","),p=bt.test(t)&&c(e.parentNode)||e}if(h)try{return J.apply(n,p.querySelectorAll(h)),n}catch(m){}finally{s===B&&e.removeAttribute("id")}}}return M(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[B]=!0,t}function r(t){var e=$.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)_.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function f(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function h(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=H++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,l,u,c=[z,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((s=(l=(u=e[B]||(e[B]={}))[e.uniqueID]||(u[e.uniqueID]={}))[i])&&s[0]===z&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),u&&e.push(s)));return a}function v(t,e,n,r,o,a){return r&&!r[B]&&(r=v(r)),o&&!o[B]&&(o=v(o,a)),i(function(i,a,s,l){var u,c,d,f=[],h=[],p=a.length,v=i||g(e||"*",s.nodeType?[s]:s,[]),b=!t||!i&&e?v:m(v,f,t,s,l),y=n?o||(i?t:p||r)?[]:a:b;if(n&&n(b,y,s,l),r)for(u=m(y,h),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[h[c]]=!(b[h[c]]=d));if(i){if(o||t){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(b[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?tt(i,d):f[c])>-1&&(i[u]=!(a[u]=d))}}else y=m(y===a?y.splice(p,y.length):y),o?o(null,a,y,l):J.apply(a,y)})}function b(t){for(var e,n,i,r=t.length,o=_.relative[t[0].type],a=o||_.relative[" "],s=o?1:0,l=h(function(t){return t===e},a,!0),u=h(function(t){return tt(e,t)>-1},a,!0),c=[function(t,n,i){var r=!o&&(i||n!==D)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];s<r;s++)if(n=_.relative[t[s].type])c=[h(p(c),n)];else{if((n=_.filter[t[s].type].apply(null,t[s].matches))[B]){for(i=++s;i<r&&!_.relative[t[i].type];i++);return v(s>1&&p(c),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<i&&b(t.slice(s,i)),i<r&&b(t=t.slice(i)),i<r&&f(t))}c.push(n)}return p(c)}function y(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,l,u){var c,d,f,h=0,p="0",g=i&&[],v=[],b=D,y=i||o&&_.find.TAG("*",u),x=z+=null==b?1:Math.random()||.1,w=y.length;for(u&&(D=a===$||a||u);p!==w&&null!=(c=y[p]);p++){if(o&&c){for(d=0,a||c.ownerDocument===$||(j(c),s=!E);f=t[d++];)if(f(c,a||$,s)){l.push(c);break}u&&(z=x)}r&&((c=!f&&c)&&h--,i&&g.push(c))}if(h+=p,r&&p!==h){for(d=0;f=n[d++];)f(g,v,a,s);if(i){if(h>0)for(;p--;)g[p]||v[p]||(v[p]=Z.call(l));v=m(v)}J.apply(l,v),u&&!i&&v.length>0&&h+n.length>1&&e.uniqueSort(l)}return u&&(z=x,D=b),g};return r?i(a):a}var x,w,_,C,k,S,T,M,D,A,I,j,$,F,E,O,P,L,N,B="sizzle"+1*new Date,R=t.document,z=0,H=0,U=n(),q=n(),W=n(),V=function(t,e){return t===e&&(I=!0),0},Y=1<<31,X={}.hasOwnProperty,G=[],Z=G.pop,K=G.push,J=G.push,Q=G.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(ot),ft=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,yt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_t=function(){j()};try{J.apply(G=Q.call(R.childNodes),R.childNodes),G[R.childNodes.length].nodeType}catch(Ct){J={apply:G.length?function(t,e){K.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(x in w=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},j=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:R;return i!==$&&9===i.nodeType&&i.documentElement?(F=($=i).documentElement,E=!k($),(n=$.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",_t,!1):n.attachEvent&&n.attachEvent("onunload",_t)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild($.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=mt.test($.getElementsByClassName),w.getById=r(function(t){return F.appendChild(t).id=B,!$.getElementsByName||!$.getElementsByName(B).length}),w.getById?(_.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&E){var n=e.getElementById(t);return n?[n]:[]}},_.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},_.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&E)return e.getElementsByClassName(t)},P=[],O=[],(w.qsa=mt.test($.querySelectorAll))&&(r(function(t){F.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||O.push(".#.+[+~]")}),r(function(t){var e=$.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(w.matchesSelector=mt.test(L=F.matches||F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&r(function(t){w.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),P.push("!=",ot)}),O=O.length&&new RegExp(O.join("|")),P=P.length&&new RegExp(P.join("|")),e=mt.test(F.compareDocumentPosition),N=e||mt.test(F.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return I=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===$||t.ownerDocument===R&&N(R,t)?-1:e===$||e.ownerDocument===R&&N(R,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return I=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],l=[e];if(!r||!o)return t===$?-1:e===$?1:r?-1:o?1:A?tt(A,t)-tt(A,e):0;if(r===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===R?-1:l[i]===R?1:0},$):$},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==$&&j(t),n=n.replace(ct,"='$1']"),w.matchesSelector&&E&&!W[n+" "]&&(!P||!P.test(n))&&(!O||!O.test(n)))try{var i=L.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(Ct){}return e(n,$,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==$&&j(t),N(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==$&&j(t);var n=_.attrHandle[e.toLowerCase()],i=n&&X.call(_.attrHandle,e.toLowerCase())?n(t,e,!E):undefined;return i!==undefined?i:w.attributes||!E?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(I=!w.detectDuplicates,A=!w.sortStable&&t.slice(0),t.sort(V),I){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},C=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},(_=e.selectors={cacheLength:50,createPseudo:i,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,f,h,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),b=!l&&!s,y=!1;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&b){for(y=(h=(u=(c=(d=(f=m)[B]||(f[B]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]||[])[0]===z&&u[1])&&u[2],f=h&&m.childNodes[h];f=++h&&f&&f[g]||(y=h=0)||p.pop();)if(1===f.nodeType&&++y&&f===e){c[t]=[z,h,y];break}}else if(b&&(y=h=(u=(c=(d=(f=e)[B]||(f[B]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]||[])[0]===z&&u[1]),!1===y)for(;(f=++h&&f&&f[g]||(y=h=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++y||(b&&((c=(d=f[B]||(f[B]={}))[f.uniqueID]||(d[f.uniqueID]={}))[t]=[z,y]),f!==e)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,n){var r,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(r=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)t[i=tt(t,r[a])]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=T(t.replace(st,"$1"));return r[B]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(xt,wt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,wt).toLowerCase(),function(e){var n;do{if(n=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===F},focus:function(t){return t===$.activeElement&&(!$.hasFocus||$.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[n<0?n+e:n]}),even:u(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})_.pseudos[x]=l(x);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,S=e.tokenize=function(t,n){var i,r,o,a,s,l,u,c=q[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=_.preFilter;s;){for(a in i&&!(r=lt.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ut.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),s=s.slice(i.length)),_.filter)!(r=ht[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):q(t,l).slice(0)},T=e.compile=function(t,e){var n,i=[],r=[],o=W[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)(o=b(e[n]))[B]?i.push(o):r.push(o);(o=W(t,y(r,i))).selector=t}return o},M=e.select=function(t,e,n,i){var r,o,a,s,l,u="function"==typeof t&&t,d=!i&&S(t=u.selector||t);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&w.getById&&9===e.nodeType&&E&&_.relative[o[1].type]){if(!(e=(_.find.ID(a.matches[0].replace(xt,wt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ht.needsContext.test(t)?0:o.length;r--&&(a=o[r],!_.relative[s=a.type]);)if((l=_.find[s])&&(i=l(a.matches[0].replace(xt,wt),bt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&f(o)))return J.apply(n,i),n;break}}return(u||T(t,d))(i,e,!E,n,!e||bt.test(t)&&c(e.parentNode)||e),n},w.sortStable=B.split("").sort(V).join("")===B,w.detectDuplicates=!!I,j(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition($.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);pt.find=yt,pt.expr=yt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=yt.uniqueSort,pt.text=yt.getText,pt.isXMLDoc=yt.isXML,pt.contains=yt.contains;var xt=function(t,e,n){for(var i=[],r=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&pt(t).is(n))break;i.push(t)}return i},wt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},_t=pt.expr.match.needsContext,Ct=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,kt=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?pt.find.matchesSelector(i,t)?[i]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;e<r;e++)if(pt.contains(i[e],this))return!0}));for(e=0;e<r;e++)pt.find(t,i[e],n);return(n=this.pushStack(r>1?pt.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&_t.test(t)?pt(t):t||[],!1).length}});var St,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(pt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||St,"string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Tt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:rt,!0)),Ct.test(i[1])&&pt.isPlainObject(e))for(i in e)pt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((r=rt.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return St.find(t);this.length=1,this[0]=r}return this.context=rt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):pt.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(pt):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),pt.makeArray(t,this))}).prototype=pt.fn,St=pt(rt);var Mt=/^(?:parents|prev(?:Until|All))/,Dt={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e,n=pt(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(pt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=_t.test(t)||"string"!=typeof t?pt(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&pt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?pt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?pt.inArray(this[0],pt(t)):pt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,n){return xt(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,n){return xt(t,"nextSibling",n)},prevUntil:function(t,e,n){return xt(t,"previousSibling",n)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return pt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(n,i){var r=pt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=pt.filter(i,r)),this.length>1&&(Dt[t]||(r=pt.uniqueSort(r)),Mt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var At,It,jt=/\S+/g;for(It in pt.Callbacks=function(t){t="string"==typeof t?o(t):pt.extend({},t);var e,n,i,r,a=[],s=[],l=-1,u=function(){for(r=t.once,i=e=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)!1===a[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=a.length,n=!1);t.memory||(n=!1),e=!1,r&&(a=n?[]:"")},c={add:function(){return a&&(n&&!e&&(l=a.length-1,s.push(n)),function i(e){pt.each(e,function(e,n){pt.isFunction(n)?t.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==pt.type(n)&&i(n)})}(arguments),n&&!e&&u()),this},remove:function(){return pt.each(arguments,function(t,e){for(var n;(n=pt.inArray(e,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(t){return t?pt.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=!0,n||c.disable(),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},pt.extend({Deferred:function(t){var e=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return pt.Deferred(function(n){pt.each(e,function(e,o){var a=pt.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?pt.extend(t,i):i}},r={};return i.pipe=i.then,pt.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=ot.call(arguments),a=o.length,s=1!==a||t&&pt.isFunction(t.promise)?a:0,l=1===s?t:pt.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?ot.call(arguments):r,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);r<a;r++)o[r]&&pt.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,e)).done(u(r,i,o)).fail(l.reject):--s;return s||l.resolveWith(i,o),l.promise()}}),pt.fn.ready=function(t){return pt.ready.promise().done(t),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(!0===t?--pt.readyWait:pt.isReady)||(pt.isReady=!0,!0!==t&&--pt.readyWait>0||(At.resolveWith(rt,[pt]),pt.fn.triggerHandler&&(pt(rt).triggerHandler("ready"),pt(rt).off("ready"))))}}),pt.ready.promise=function(e){if(!At)if(At=pt.Deferred(),"complete"===rt.readyState||"loading"!==rt.readyState&&!rt.documentElement.doScroll)t.setTimeout(pt.ready);else if(rt.addEventListener)rt.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s);else{rt.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var n=!1;try{n=null==t.frameElement&&rt.documentElement}catch(i){}n&&n.doScroll&&function e(){if(!pt.isReady){try{n.doScroll("left")}catch(i){return t.setTimeout(e,50)}a(),pt.ready()}}()}return At.promise(e)},pt.ready.promise(),pt(ft))break;ft.ownFirst="0"===It,ft.inlineBlockNeedsLayout=!1,pt(function(){var t,e,n,i;(n=rt.getElementsByTagName("body")[0])&&n.style&&(e=rt.createElement("div"),(i=rt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ft.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=rt.createElement("div");ft.deleteExpando=!0;try{delete t.test}catch(e){ft.deleteExpando=!1}t=null}();var $t,Ft=function(t){var e=pt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ot=/([A-Z])/g;pt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?pt.cache[t[pt.expando]]:t[pt.expando])&&!u(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),pt.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(t===undefined){if(this.length&&(r=pt.data(o),1===o.nodeType&&!pt._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&l(o,i=pt.camelCase(i.slice(5)),r[i]);pt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){pt.data(this,t)}):arguments.length>1?this.each(function(){pt.data(this,t,e)}):o?l(o,t,pt.data(o,t)):undefined},removeData:function(t){return this.each(function(){pt.removeData(this,t)})}}),pt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=pt._data(t,e),n&&(!i||pt.isArray(n)?i=pt._data(t,e,pt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=pt.queue(t,e),i=n.length,r=n.shift(),o=pt._queueHooks(t,e),a=function(){pt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return pt._data(t,n)||pt._data(t,n,{empty:pt.Callbacks("once memory").add(function(){pt._removeData(t,e+"queue"),pt._removeData(t,n)})})}}),pt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?pt.queue(this[0],t):e===undefined?this:this.each(function(){var n=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=pt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=pt._data(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}}),ft.shrinkWrapBlocks=function(){return null!=$t?$t:($t=!1,(e=rt.getElementsByTagName("body")[0])&&e.style?(t=rt.createElement("div"),(n=rt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(rt.createElement("div")).style.width="5px",$t=3!==t.offsetWidth),e.removeChild(n),$t):void 0);var t,e,n};var Pt,Lt,Nt,Bt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Rt=new RegExp("^(?:([+-])=|)("+Bt+")([a-z%]*)$","i"),zt=["Top","Right","Bottom","Left"],Ht=function(t,e){return t=e||t,"none"===pt.css(t,"display")||!pt.contains(t.ownerDocument,t)},Ut=function(t,e,n,i,r,o,a){var s=0,l=t.length,u=null==n;if("object"===pt.type(n))for(s in r=!0,n)Ut(t,e,s,n[s],!0,o,a);else if(i!==undefined&&(r=!0,pt.isFunction(i)||(a=!0),u&&(a?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(pt(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):l?e(t[0],n):o},qt=/^(?:checkbox|radio)$/i,Wt=/<([\w:-]+)/,Vt=/^$|\/(?:java|ecma)script/i,Yt=/^\s+/,Xt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Pt=rt.createElement("div"),Lt=rt.createDocumentFragment(),Nt=rt.createElement("input"),Pt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ft.leadingWhitespace=3===Pt.firstChild.nodeType,ft.tbody=!Pt.getElementsByTagName("tbody").length,ft.htmlSerialize=!!Pt.getElementsByTagName("link").length,ft.html5Clone="<:nav></:nav>"!==rt.createElement("nav").cloneNode(!0).outerHTML,Nt.type="checkbox",Nt.checked=!0,Lt.appendChild(Nt),ft.appendChecked=Nt.checked,Pt.innerHTML="<textarea>x</textarea>",ft.noCloneChecked=!!Pt.cloneNode(!0).lastChild.defaultValue,Lt.appendChild(Pt),(Nt=rt.createElement("input")).setAttribute("type","radio"),Nt.setAttribute("checked","checked"),Nt.setAttribute("name","t"),Pt.appendChild(Nt),ft.checkClone=Pt.cloneNode(!0).cloneNode(!0).lastChild.checked,ft.noCloneEvent=!!Pt.addEventListener,Pt[pt.expando]=1,ft.attributes=!Pt.getAttribute(pt.expando);var Gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ft.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td;var Zt=/<|&#?\w+;/,Kt=/<tbody/i;!function(){var e,n,i=rt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(ft[e]=n in t)||(i.setAttribute(n,"t"),ft[e]=!1===i.attributes[n].expando);i=null}();var Jt=/^(?:input|select|textarea)$/i,Qt=/^key/,te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ee=/^(?:focusinfocus|focusoutblur)$/,ne=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,u,c,d,f,h,p,g,m=pt._data(t);if(m){for(n.handler&&(n=(l=n).handler,r=l.selector),n.guid||(n.guid=pt.guid++),(a=m.events)||(a=m.events={}),(c=m.handle)||((c=m.handle=function(t){return void 0===pt||t&&pt.event.triggered===t.type?undefined:pt.event.dispatch.apply(c.elem,arguments)}).elem=t),s=(e=(e||"").match(jt)||[""]).length;s--;)h=g=(o=ne.exec(e[s])||[])[1],p=(o[2]||"").split(".").sort(),h&&(u=pt.event.special[h]||{},h=(r?u.delegateType:u.bindType)||h,u=pt.event.special[h]||{},d=pt.extend({type:h,origType:g,data:i,handler:n,guid:n.guid,selector:r,
needsContext:r&&pt.expr.match.needsContext.test(r),namespace:p.join(".")},l),(f=a[h])||((f=a[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,p,c)||(t.addEventListener?t.addEventListener(h,c,!1):t.attachEvent&&t.attachEvent("on"+h,c))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,d):f.push(d),pt.event.global[h]=!0);t=null}},remove:function(t,e,n,i,r){var o,a,s,l,u,c,d,f,h,p,g,m=pt.hasData(t)&&pt._data(t);if(m&&(c=m.events)){for(u=(e=(e||"").match(jt)||[""]).length;u--;)if(h=g=(s=ne.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),h){for(d=pt.event.special[h]||{},f=c[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)a=f[o],!r&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(t,a));l&&!f.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||pt.removeEvent(t,h,m.handle),delete c[h])}else for(h in c)pt.event.remove(t,h+e[u],n,i,!0);pt.isEmptyObject(c)&&(delete m.handle,pt._removeData(t,"events"))}},trigger:function(e,n,i,r){var o,a,s,l,u,c,d,f=[i||rt],h=dt.call(e,"type")?e.type:e,p=dt.call(e,"namespace")?e.namespace.split("."):[];if(s=c=i=i||rt,3!==i.nodeType&&8!==i.nodeType&&!ee.test(h+pt.event.triggered)&&(h.indexOf(".")>-1&&(h=(p=h.split(".")).shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,(e=e[pt.expando]?e:new pt.Event(h,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=i),n=null==n?[e]:pt.makeArray(n,[e]),u=pt.event.special[h]||{},r||!u.trigger||!1!==u.trigger.apply(i,n))){if(!r&&!u.noBubble&&!pt.isWindow(i)){for(l=u.delegateType||h,ee.test(l+h)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(i.ownerDocument||rt)&&f.push(c.defaultView||c.parentWindow||t)}for(d=0;(s=f[d++])&&!e.isPropagationStopped();)e.type=d>1?l:u.bindType||h,(o=(pt._data(s,"events")||{})[e.type]&&pt._data(s,"handle"))&&o.apply(s,n),(o=a&&s[a])&&o.apply&&Ft(s)&&(e.result=o.apply(s,n),!1===e.result&&e.preventDefault());if(e.type=h,!r&&!e.isDefaultPrevented()&&(!u._default||!1===u._default.apply(f.pop(),n))&&Ft(i)&&a&&i[h]&&!pt.isWindow(i)){(c=i[a])&&(i[a]=null),pt.event.triggered=h;try{i[h]()}catch(g){}pt.event.triggered=undefined,c&&(i[a]=c)}return e.result}},dispatch:function(t){t=pt.event.fix(t);var e,n,i,r,o,a=[],s=ot.call(arguments),l=(pt._data(this,"events")||{})[t.type]||[],u=pt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(a=pt.event.handlers.call(this,t,l),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,(i=((pt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))!==undefined&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)i[r=(o=e[n]).selector+" "]===undefined&&(i[r]=o.needsContext?pt(r,this).index(l)>-1:pt.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[pt.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=te.test(r)?this.mouseHooks:Qt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new pt.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=o.srcElement||rt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=(i=t.target.ownerDocument||rt).documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||o===undefined||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=pt.extend(new pt.Event,n,{type:t,isSimulated:!0});pt.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},pt.removeEvent=rt.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},pt.Event=function(t,e){if(!(this instanceof pt.Event))return new pt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?b:y):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),this[pt.expando]=!0},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=b,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=b,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=b,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||pt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ft.submit||(pt.event.special.submit={setup:function(){if(pt.nodeName(this,"form"))return!1;pt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=pt.nodeName(e,"input")||pt.nodeName(e,"button")?pt.prop(e,"form"):undefined;n&&!pt._data(n,"submit")&&(pt.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),pt._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&pt.event.simulate("submit",this.parentNode,t))},teardown:function(){if(pt.nodeName(this,"form"))return!1;pt.event.remove(this,"._submit")}}),ft.change||(pt.event.special.change={setup:function(){if(Jt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(pt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),pt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),pt.event.simulate("change",this,t)})),!1;pt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Jt.test(e.nodeName)&&!pt._data(e,"change")&&(pt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||pt.event.simulate("change",this.parentNode,t)}),pt._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return pt.event.remove(this,"._change"),!Jt.test(this.nodeName)}}),ft.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=pt._data(i,e);r||i.addEventListener(t,n,!0),pt._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=pt._data(i,e)-1;r?pt._data(i,e,r):(i.removeEventListener(t,n,!0),pt._removeData(i,e))}}}),pt.fn.extend({on:function(t,e,n,i){return w(this,t,e,n,i)},one:function(t,e,n,i){return w(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,pt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=y),this.each(function(){pt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return pt.event.trigger(t,e,n,!0)}});var ie=/ jQuery\d+="(?:null|\d+)"/g,re=new RegExp("<(?:"+Xt+")[\\s/>]","i"),oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ae=/<script|<style|<link/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,le=/^true\/(.*)/,ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce=h(rt).appendChild(rt.createElement("div"));pt.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s,l=pt.contains(t.ownerDocument,t);if(ft.html5Clone||pt.isXMLDoc(t)||!re.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(ce.innerHTML=t.outerHTML,ce.removeChild(o=ce.firstChild)),!(ft.noCloneEvent&&ft.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(i=p(o),s=p(t),a=0;null!=(r=s[a]);++a)i[a]&&M(r,i[a]);if(e)if(n)for(s=s||p(t),i=i||p(o),a=0;null!=(r=s[a]);a++)T(r,i[a]);else T(t,o);return(i=p(o,"script")).length>0&&g(i,!l&&p(t,"script")),i=s=r=null,o},cleanData:function(t,e){for(var n,i,r,o,a=0,s=pt.expando,l=pt.cache,u=ft.attributes,c=pt.event.special;null!=(n=t[a]);a++)if((e||Ft(n))&&(o=(r=n[s])&&l[r])){if(o.events)for(i in o.events)c[i]?pt.event.remove(n,i):pt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),it.push(r))}}}),pt.fn.extend({domManip:D,detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return Ut(this,function(t){return t===undefined?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||rt).createTextNode(t))},null,t,arguments.length)},append:function(){return D(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||C(this,t).appendChild(t)})},prepend:function(){return D(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return D(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return D(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&pt.cleanData(p(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&pt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Ut(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ie,""):undefined;if("string"==typeof t&&!ae.test(t)&&(ft.htmlSerialize||!re.test(t))&&(ft.leadingWhitespace||!Yt.test(t))&&!Gt[(Wt.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(pt.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return D(this,arguments,function(e){var n=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(p(this)),n&&n.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var n,i=0,r=[],o=pt(t),a=o.length-1;i<=a;i++)n=i===a?this:this.clone(!0),pt(o[i])[e](n),st.apply(r,n.get());return this.pushStack(r)}});var de,fe={HTML:"block",BODY:"block"},he=/^margin/,pe=new RegExp("^("+Bt+")(?!px)[a-z%]+$","i"),ge=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r},me=rt.documentElement;!function(){function e(){var e,c,d=rt.documentElement;d.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=r=s=!1,i=a=!0,t.getComputedStyle&&(c=t.getComputedStyle(u),n="1%"!==(c||{}).top,s="2px"===(c||{}).marginLeft,r="4px"===(c||{width:"4px"}).width,u.style.marginRight="50%",i="4px"===(c||{marginRight:"4px"}).marginRight,(e=u.appendChild(rt.createElement("div"))).style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",u.style.width="1px",a=!parseFloat((t.getComputedStyle(e)||{}).marginRight),u.removeChild(e)),u.style.display="none",(o=0===u.getClientRects().length)&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",(e=u.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",o=0===e[0].offsetHeight)),d.removeChild(l)}var n,i,r,o,a,s,l=rt.createElement("div"),u=rt.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",ft.opacity="0.5"===u.style.opacity,ft.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",ft.clearCloneStyle="content-box"===u.style.backgroundClip,(l=rt.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",l.appendChild(u),ft.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,pt.extend(ft,{reliableHiddenOffsets:function(){return null==n&&e(),o},boxSizingReliable:function(){return null==n&&e(),r},pixelMarginRight:function(){return null==n&&e(),i},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),a},reliableMarginLeft:function(){return null==n&&e(),s}}))}();var ve,be,ye=/^(top|right|bottom|left)$/;t.getComputedStyle?(ve=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},be=function(t,e,n){var i,r,o,a,s=t.style;return""!==(a=(n=n||ve(t))?n.getPropertyValue(e)||n[e]:undefined)&&a!==undefined||pt.contains(t.ownerDocument,t)||(a=pt.style(t,e)),n&&!ft.pixelMarginRight()&&pe.test(a)&&he.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),a===undefined?a:a+""}):me.currentStyle&&(ve=function(t){return t.currentStyle},be=function(t,e,n){var i,r,o,a,s=t.style;return null==(a=(n=n||ve(t))?n[e]:undefined)&&s&&s[e]&&(a=s[e]),pe.test(a)&&!ye.test(e)&&(i=s.left,(o=(r=t.runtimeStyle)&&r.left)&&(r.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),a===undefined?a:a+""||"auto"});var xe=/alpha\([^)]*\)/i,we=/opacity\s*=\s*([^)]*)/i,_e=/^(none|table(?!-c[ea]).+)/,Ce=new RegExp("^("+Bt+")(.*)$","i"),ke={position:"absolute",visibility:"hidden",display:"block"},Se={letterSpacing:"0",fontWeight:"400"},Te=["Webkit","O","Moz","ms"],Me=rt.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=be(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ft.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=pt.camelCase(e),l=t.style;if(e=pt.cssProps[s]||(pt.cssProps[s]=F(s)||s),a=pt.cssHooks[e]||pt.cssHooks[s],n===undefined)return a&&"get"in a&&(r=a.get(t,!1,i))!==undefined?r:l[e];if("string"===(o=typeof n)&&(r=Rt.exec(n))&&r[1]&&(n=f(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(pt.cssNumber[s]?"":"px")),ft.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&(n=a.set(t,n,i))===undefined)))try{l[e]=n}catch(u){}}},css:function(t,e,n,i){var r,o,a,s=pt.camelCase(e);return e=pt.cssProps[s]||(pt.cssProps[s]=F(s)||s),(a=pt.cssHooks[e]||pt.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),o===undefined&&(o=be(t,e,i)),"normal"===o&&e in Se&&(o=Se[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,n,i){if(n)return _e.test(pt.css(t,"display"))&&0===t.offsetWidth?ge(t,ke,function(){return L(t,e,i)}):L(t,e,i)},set:function(t,n,i){var r=i&&ve(t);return O(t,n,i?P(t,e,i,ft.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,r),r):0)}}}),ft.opacity||(pt.cssHooks.opacity={get:function(t,e){return we.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=pt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===pt.trim(o.replace(xe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=xe.test(o)?o.replace(xe,r):o+" "+r)}}),pt.cssHooks.marginRight=$(ft.reliableMarginRight,function(t,e){if(e)return ge(t,{display:"inline-block"},be,[t,"marginRight"])}),pt.cssHooks.marginLeft=$(ft.reliableMarginLeft,function(t,e){if(e)return(parseFloat(be(t,"marginLeft"))||(pt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-ge(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+zt[i]+e]=o[i]||o[i-2]||o[0];return r}},he.test(t)||(pt.cssHooks[t+e].set=O)}),pt.fn.extend({css:function(t,e){return Ut(this,function(t,e,n){var i,r,o={},a=0;if(pt.isArray(e)){for(i=ve(t),r=e.length;a<r;a++)o[e[a]]=pt.css(t,e[a],!1,i);return o}return n!==undefined?pt.style(t,e,n):pt.css(t,e)},t,e,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ht(this)?pt(this).show():pt(this).hide()})}}),pt.Tween=N,N.prototype={constructor:N,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(pt.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=N.prototype.init,pt.fx.step={};var De,Ae,Ie=/^(?:toggle|show|hide)$/,je=/queueHooks$/;pt.Animation=pt.extend(q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return f(n.elem,t,Rt.exec(e),n),n}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(jt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(e)},prefilters:[H],prefilter:function(t,e){e?q.prefilters.unshift(t):q.prefilters.push(t)}}),pt.speed=function(t,e,n){var i=t&&"object"==typeof t?pt.extend({},t):{complete:n||!n&&e||pt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!pt.isFunction(e)&&e};return i.duration=pt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in pt.fx.speeds?pt.fx.speeds[i.duration]:pt.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){pt.isFunction(i.old)&&i.old.call(this),i.queue&&pt.dequeue(this,i.queue)},i},pt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ht).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=pt.isEmptyObject(t),o=pt.speed(e,n,i),a=function(){var e=q(this,pt.extend({},t),o);(r||pt._data(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=undefined),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=pt.timers,a=pt._data(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&je.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||pt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=pt._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=pt.timers,a=i?i.length:0;for(n.finish=!0,pt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var n=pt.fn[e];pt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(R(e,!0),t,i,r)}}),pt.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),pt.timers=[],pt.fx.tick=function(){var t,e=pt.timers,n=0;for(De=pt.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||pt.fx.stop(),De=undefined},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){Ae||(Ae=t.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){t.clearInterval(Ae),Ae=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,n){return e=pt.fx&&pt.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t,e=rt.createElement("input"),n=rt.createElement("div"),i=rt.createElement("select"),r=i.appendChild(rt.createElement("option"));(n=rt.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),(t=n.getElementsByTagName("a")[0]).style.cssText="top:1px",ft.getSetAttribute="t"!==n.className,ft.style=/top/.test(t.getAttribute("style")),ft.hrefNormalized="/a"===t.getAttribute("href"),ft.checkOn=!!e.value,ft.optSelected=r.selected,ft.enctype=!!rt.createElement("form").enctype,i.disabled=!0,ft.optDisabled=!r.disabled,(e=rt.createElement("input")).setAttribute("value",""),ft.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ft.radioValue="t"===e.value}();var $e=/\r/g,Fe=/[\x20\t\r\n\f]+/g;pt.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=pt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,pt(this).val()):t)?r="":"number"==typeof r?r+="":pt.isArray(r)&&(r=pt.map(r,function(t){return null==t?"":t+""})),(e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,r,"value")!==undefined||(this.value=r))})):r?(e=pt.valHooks[r.type]||pt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&(n=e.get(r,"value"))!==undefined?n:"string"==typeof(n=r.value)?n.replace($e,""):null==n?"":n:void 0}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:pt.trim(pt.text(t)).replace(Fe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(ft.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!pt.nodeName(n.parentNode,"optgroup"))){if(e=pt(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=pt.makeArray(e),a=r.length;a--;)if(i=r[a],pt.inArray(pt.valHooks.option.get(i),o)>-1)try{i.selected=n=!0}catch(_){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){if(pt.isArray(e))return t.checked=pt.inArray(pt(t).val(),e)>-1}},ft.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ee,Oe,Pe=pt.expr.attrHandle,Le=/^(?:checked|selected)$/i,Ne=ft.getSetAttribute,Be=ft.input;pt.fn.extend({attr:function(t,e){return Ut(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?pt.prop(t,e,n):(1===o&&pt.isXMLDoc(t)||(e=e.toLowerCase(),r=pt.attrHooks[e]||(pt.expr.match.bool.test(e)?Oe:Ee)),n!==undefined?null===n?void pt.removeAttr(t,e):r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=pt.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!ft.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(jt);if(o&&1===t.nodeType)for(;n=o[r++];)i=pt.propFix[n]||n,pt.expr.match.bool.test(n)?Be&&Ne||!Le.test(n)?t[i]=!1:t[pt.camelCase("default-"+n)]=t[i]=!1:pt.attr(t,n,""),t.removeAttribute(Ne?n:i)}}),Oe={set:function(t,e,n){return!1===e?pt.removeAttr(t,n):Be&&Ne||!Le.test(n)?t.setAttribute(!Ne&&pt.propFix[n]||n,n):t[pt.camelCase("default-"+n)]=t[n]=!0,n}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Pe[e]||pt.find.attr;Be&&Ne||!Le.test(e)?Pe[e]=function(t,e,i){var r,o;return i||(o=Pe[e],Pe[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,Pe[e]=o),r}:Pe[e]=function(t,e,n){if(!n)return t[pt.camelCase("default-"+e)]?e.toLowerCase():null}}),Be&&Ne||(pt.attrHooks.value={set:function(t,e,n){if(!pt.nodeName(t,"input"))return Ee&&Ee.set(t,e,n);t.defaultValue=e}}),Ne||(Ee={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},Pe.id=Pe.name=Pe.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},pt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Ee.set},pt.attrHooks.contenteditable={set:function(t,e,n){Ee.set(t,""!==e&&e,n)}},pt.each(["width","height"],function(t,e){pt.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}})),ft.style||(pt.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var Re=/^(?:input|select|textarea|button|object)$/i,ze=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Ut(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=pt.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(e){}})}}),pt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,r=pt.propHooks[e]),n!==undefined?r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):Re.test(t.nodeName)||ze.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ft.hrefNormalized||pt.each(["href","src"],function(t,e){pt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ft.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),ft.enctype||(pt.propFix.enctype="encoding");var He=/[\t\r\n\f]/g;pt.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,W(this)))});if("string"==typeof t&&t)for(e=t.match(jt)||[];n=this[l++];)if(r=W(n),i=1===n.nodeType&&(" "+r+" ").replace(He," ")){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=pt.trim(i))&&pt.attr(n,"class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(jt)||[];n=this[l++];)if(r=W(n),i=1===n.nodeType&&(" "+r+" ").replace(He," ")){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=pt.trim(i))&&pt.attr(n,"class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(n){pt(this).toggleClass(t.call(this,n,W(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=pt(this),o=t.match(jt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else t!==undefined&&"boolean"!==n||((e=W(this))&&pt._data(this,"__className__",e),pt.attr(this,"class",e||!1===t?"":pt._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(He," ").indexOf(e)>-1)return!0;return!1}}),pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Ue=t.location,qe=pt.now(),We=/\?/,Ve=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,r=pt.trim(e+"");return r&&!pt.trim(r.replace(Ve,function(t,e,r,o){return n&&e&&(i=0),0===i?t:(n=r||e,i+=!o-!r,"")}))?Function("return "+r)():pt.error("Invalid JSON: "+e)},pt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?n=(new t.DOMParser).parseFromString(e,"text/xml"):((n=new t.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(e))}catch(i){n=undefined}
return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),n};var Ye=/#.*$/,Xe=/([?&])_=[^&]*/,Ge=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ze=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ke=/^(?:GET|HEAD)$/,Je=/^\/\//,Qe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,tn={},en={},nn="*/".concat("*"),rn=Ue.href,on=Qe.exec(rn.toLowerCase())||[];pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:rn,type:"GET",isLocal:Ze.test(on[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,pt.ajaxSettings),e):X(pt.ajaxSettings,t)},ajaxPrefilter:V(tn),ajaxTransport:V(en),ajax:function(e,n){function i(e,n,i,r){var o,d,b,y,w,C=n;2!==x&&(x=2,l&&t.clearTimeout(l),c=undefined,s=r||"",_.readyState=e>0?4:0,o=e>=200&&e<300||304===e,i&&(y=G(f,_,i)),y=Z(f,y,_,o),o?(f.ifModified&&((w=_.getResponseHeader("Last-Modified"))&&(pt.lastModified[a]=w),(w=_.getResponseHeader("etag"))&&(pt.etag[a]=w)),204===e||"HEAD"===f.type?C="nocontent":304===e?C="notmodified":(C=y.state,d=y.data,o=!(b=y.error))):(b=C,!e&&C||(C="error",e<0&&(e=0))),_.status=e,_.statusText=(n||C)+"",o?g.resolveWith(h,[d,C,_]):g.rejectWith(h,[_,C,b]),_.statusCode(v),v=undefined,u&&p.trigger(o?"ajaxSuccess":"ajaxError",[_,f,o?d:b]),m.fireWith(h,[_,C]),u&&(p.trigger("ajaxComplete",[_,f]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=undefined),n=n||{};var r,o,a,s,l,u,c,d,f=pt.ajaxSetup({},n),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?pt(h):pt.event,g=pt.Deferred(),m=pt.Callbacks("once memory"),v=f.statusCode||{},b={},y={},x=0,w="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!d)for(d={};e=Ge.exec(s);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=y[n]=y[n]||t,b[t]=e),this},overrideMimeType:function(t){return x||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)v[e]=[v[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||w;return c&&c.abort(e),i(0,e),this}};if(g.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,f.url=((e||f.url||rn)+"").replace(Ye,"").replace(Je,on[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=pt.trim(f.dataType||"*").toLowerCase().match(jt)||[""],null==f.crossDomain&&(r=Qe.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===on[1]&&r[2]===on[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(on[3]||("http:"===on[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=pt.param(f.data,f.traditional)),Y(tn,f,n,_),2===x)return _;for(o in(u=pt.event&&f.global)&&0==pt.active++&&pt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ke.test(f.type),a=f.url,f.hasContent||(f.data&&(a=f.url+=(We.test(a)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=Xe.test(a)?a.replace(Xe,"$1_="+qe++):a+(We.test(a)?"&":"?")+"_="+qe++)),f.ifModified&&(pt.lastModified[a]&&_.setRequestHeader("If-Modified-Since",pt.lastModified[a]),pt.etag[a]&&_.setRequestHeader("If-None-Match",pt.etag[a])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&_.setRequestHeader("Content-Type",f.contentType),_.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+nn+"; q=0.01":""):f.accepts["*"]),f.headers)_.setRequestHeader(o,f.headers[o]);if(f.beforeSend&&(!1===f.beforeSend.call(h,_,f)||2===x))return _.abort();for(o in w="abort",{success:1,error:1,complete:1})_[o](f[o]);if(c=Y(en,f,n,_)){if(_.readyState=1,u&&p.trigger("ajaxSend",[_,f]),2===x)return _;f.async&&f.timeout>0&&(l=t.setTimeout(function(){_.abort("timeout")},f.timeout));try{x=1,c.send(b,i)}catch(C){if(!(x<2))throw C;i(-1,C)}}else i(-1,"No Transport");return _},getJSON:function(t,e,n){return pt.get(t,e,n,"json")},getScript:function(t,e){return pt.get(t,undefined,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,n,i,r){return pt.isFunction(n)&&(r=r||i,i=n,n=undefined),pt.ajax(pt.extend({url:t,type:e,dataType:r,data:n,success:i},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pt.fn.extend({wrapAll:function(t){if(pt.isFunction(t))return this.each(function(e){pt(this).wrapAll(t.call(this,e))});if(this[0]){var e=pt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(n){pt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)}).end()}}),pt.expr.filters.hidden=function(t){return ft.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:J(t)},pt.expr.filters.visible=function(t){return!pt.expr.filters.hidden(t)};var an=/%20/g,sn=/\[\]$/,ln=/\r?\n/g,un=/^(?:submit|button|image|reset|file)$/i,cn=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var n,i=[],r=function(t,e){e=pt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){r(this.name,this.value)});else for(n in t)Q(n,t[n],e,r);return i.join("&").replace(an,"+")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&cn.test(this.nodeName)&&!un.test(t)&&(this.checked||!qt.test(t))}).map(function(t,e){var n=pt(this).val();return null==n?null:pt.isArray(n)?pt.map(n,function(t){return{name:e.name,value:t.replace(ln,"\r\n")}}):{name:e.name,value:n.replace(ln,"\r\n")}}).get()}}),pt.ajaxSettings.xhr=t.ActiveXObject!==undefined?function(){return this.isLocal?et():rt.documentMode>8?tt():/^(get|post|head|put|delete|options)$/i.test(this.type)&&tt()||et()}:tt;var dn=0,fn={},hn=pt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in fn)fn[t](undefined,!0)}),ft.cors=!!hn&&"withCredentials"in hn,(hn=ft.ajax=!!hn)&&pt.ajaxTransport(function(e){var n;if(!e.crossDomain||ft.cors)return{send:function(i,r){var o,a=e.xhr(),s=++dn;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)i[o]!==undefined&&a.setRequestHeader(o,i[o]+"");a.send(e.hasContent&&e.data||null),n=function(t,i){var o,l,u;if(n&&(i||4===a.readyState))if(delete fn[s],n=undefined,a.onreadystatechange=pt.noop,i)4!==a.readyState&&a.abort();else{u={},o=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);try{l=a.statusText}catch(c){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=u.text?200:404}u&&r(o,l,u,a.getAllResponseHeaders())},e.async?4===a.readyState?t.setTimeout(n):a.onreadystatechange=fn[s]=n:n()},abort:function(){n&&n(undefined,!0)}}}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=rt.head||pt("head")[0]||rt.documentElement;return{send:function(i,r){(e=rt.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(undefined,!0)}}}});var pn=[],gn=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=pn.pop()||pt.expando+"_"+qe++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=!1!==e.jsonp&&(gn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&gn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(gn,"$1"+r):!1!==e.jsonp&&(e.url+=(We.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||pt.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){o===undefined?pt(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,pn.push(r)),a&&pt.isFunction(o)&&o(a[0]),a=o=undefined}),"script"}),pt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||rt;var i=Ct.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=v([t],e,r),r&&r.length&&pt(r).remove(),pt.merge([],i.childNodes))};var mn=pt.fn.load;pt.fn.load=function(t,e,n){if("string"!=typeof t&&mn)return mn.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=pt.trim(t.slice(s,t.length)),t=t.slice(0,s)),pt.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(r="POST"),a.length>0&&pt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?pt("<div>").append(pt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.filters.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,u=pt.css(t,"position"),c=pt(t),d={};"static"===u&&(t.style.position="relative"),s=c.offset(),o=pt.css(t,"top"),l=pt.css(t,"left"),("absolute"===u||"fixed"===u)&&pt.inArray("auto",[o,l])>-1?(a=(i=c.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),pt.isFunction(e)&&(e=e.call(t,n,pt.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):c.css(d)}},pt.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,pt.contains(e,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=nt(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===pt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(n=t.offset()),n.top+=pt.css(t[0],"borderTopWidth",!0),n.left+=pt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-pt.css(i,"marginTop",!0),left:e.left-n.left-pt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!pt.nodeName(t,"html")&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||me})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);pt.fn[t]=function(i){return Ut(this,function(t,i,r){var o=nt(t);if(r===undefined)return o?e in o?o[e]:o.document.documentElement[i]:t[i];o?o.scrollTo(n?pt(o).scrollLeft():r,n?r:pt(o).scrollTop()):t[i]=r},t,i,arguments.length,null)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=$(ft.pixelPosition,function(t,n){if(n)return n=be(t,e),pe.test(n)?pt(t).position()[e]+"px":n})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){pt.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===r?"margin":"border");return Ut(this,function(e,n,i){var r;return pt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):i===undefined?pt.css(e,n,a):pt.style(e,n,i,a)},e,o?i:undefined,o,null)}})}),pt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),pt.fn.size=function(){return this.length},pt.fn.andSelf=pt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var vn=t.jQuery,bn=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=bn),e&&t.jQuery===pt&&(t.jQuery=vn),pt},e||(t.jQuery=t.$=pt),pt}),function(t,e){"use strict";var n;t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),!1!==r.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(i){var r,o,a,s,l,u;if(n.fire(i,"ajax:before")){if(s=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.data("ujs:submit-button-formmethod")||i.attr("method"),o=i.data("ujs:submit-button-formaction")||i.attr("action"),a=t(i[0]).serializeArray();var c=i.data("ujs:submit-button");c&&(a.push(c),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),a=i.data("params")||null);return u={type:r||"GET",data:a,dataType:l,beforeSend:function(t,r){if(r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),!n.fire(i,"ajax:beforeSend",[t,r]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(o)},s&&(u.xhrFields={withCredentials:s}),o&&(u.url=o),n.ajax(u)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(i){var r=n.href(i),o=i.data("method"),a=i.attr("target"),s=n.csrfToken(),l=n.csrfParam(),u=t('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';l===e||s===e||n.isCrossDomain(r)||(c+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&u.attr("target",a),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",(i=t.data("disable-with"))!==e&&(t.data("ujs:enable-with",t[n]()),t[n](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),r=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{r=n.confirm(i)}catch(o){(console.error||console.log).call(console,o.stack||o)}e=n.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(e,n,i){var r,o,a,s=t(),l=n||"input,textarea",u=e.find(l),c={};return u.each(function(){(r=t(this)).is("input[type=radio]")?(a=r.attr("name"),c[a]||(0===e.find('input[type=radio]:checked[name="'+a+'"]').length&&(o=e.find('input[type=radio][name="'+a+'"]'),s=s.add(o)),c[a]=a)):(r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val())===i&&(s=s.add(r))}),!!s.length&&s},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");i!==e&&(t.data("ujs:enable-with",t.html()),t.html(i)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),i.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(t(this))}),i.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(t(this))}),i.on("click.rails",n.linkClickSelector,function(e){var i=t(this),r=i.data("method"),o=i.data("params"),a=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!a&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(a&&(!r||"GET"===r)&&!o)return!0;var s=n.handleRemote(i);return!1===s?n.enableElement(i):s.fail(function(){n.enableElement(i)}),!1}return r?(n.handleMethod(i),!1):void 0}),i.on("click.rails",n.buttonClickSelector,function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return!1===r?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.on("change.rails",n.inputChangeSelector,function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.on("submit.rails",n.formSubmitSelector,function(i){var r,o,a=t(this),s=n.isRemote(a);if(!n.allowAction(a))return n.stopEverything(i);if(a.attr("novalidate")===e)if(a.data("ujs:formnovalidate-button")===e){if((r=n.blankInputs(a,n.requiredInputSelector,!1))&&n.fire(a,"ajax:aborted:required",[r]))return n.stopEverything(i)}else a.data("ujs:formnovalidate-button",e);if(s){if(o=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),i.on("click.rails",n.formInputClickSelector,function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null,a=i.closest("form");0===a.length&&(a=t("#"+i.attr("form"))),a.data("ujs:submit-button",o),a.data("ujs:formnovalidate-button",i.attr("formnovalidate")),a.data("ujs:submit-button-formaction",i.attr("formaction")),a.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.on("ajax:send.rails",n.formSubmitSelector,function(e){this===e.target&&n.disableFormElements(t(this))}),i.on("ajax:complete.rails",n.formSubmitSelector,function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),
/*! jQuery UI - v1.10.2 - 2013-04-20
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.sortable.js, jquery.ui.effect.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
function(t,e){function n(e,n){var r,o,a,s=e.nodeName.toLowerCase();return"area"===s?(o=(r=e.parentNode).name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(!!(a=t("img[usemap=#"+o+"]")[0])&&i(a))):(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s&&e.href||n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,r,o=t(this[0]);o.length&&o[0]!==document;){if(("absolute"===(i=o.css("position"))||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function r(e,n,i,r){return t.each(o,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?s["inner"+i].call(this):this.each(function(){t(this).css(a,r(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(a,r(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;r.length>i;i++)t.options[r[i][0]]&&r[i][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)}})}(jQuery),function(t,e){var n=0,i=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(o){}r(e)},t.widget=function(n,i,r){var o,a,s,l,u={},c=n.split(".")[0];n=n.split(".")[1],o=c+"-"+n,r||(r=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][n],s=t[c][n]=function(t,n){return this._createWidget?(arguments.length&&this._createWidget(t,n),e):new s(t,n)},t.extend(s,a,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),(l=new i).options=t.widget.extend({},l.options),t.each(r,function(n,r){return t.isFunction(r)?(u[n]=function(){var t=function(){return i.prototype[n].apply(this,arguments)},e=function(t){return i.prototype[n].apply(this,t)};return function(){var n,i=this._super,o=this._superApply;return this._super=t,this._superApply=e,n=r.apply(this,arguments),this._super=i,this._superApply=o,n}}(),e):(u[n]=r,e)}),s.prototype=t.widget.extend(l,{widgetEventPrefix:a?l.widgetEventPrefix:n},u,{constructor:s,namespace:c,widgetName:n,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete a._childConstructors):i._childConstructors.push(s),t.widget.bridge(n,s)},t.widget.extend=function(n){for(var r,o,a=i.call(arguments,1),s=0,l=a.length;l>s;s++)for(r in a[s])o=a[s][r],a[s].hasOwnProperty(r)&&o!==e&&(n[r]=t.isPlainObject(o)?t.isPlainObject(n[r])?t.widget.extend({},n[r],o):t.widget.extend({},o):o);return n},t.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;t.fn[n]=function(a){var s="string"==typeof a,l=i.call(arguments,1),u=this;return a=!s&&l.length?t.widget.extend.apply(null,[a].concat(l)):a,s?this.each(function(){var i,r=t.data(this,o);return r?t.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,l))!==r&&i!==e?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):e:t.error("no such method '"+a+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new r(a,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var r,o,a,s=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(s={},n=(r=n.split(".")).shift(),r.length){for(o=s[n]=t.widget.extend({},this.options[n]),a=0;r.length-1>a;a++)o[r[a]]=o[r[a]]||{},o=o[r[a]];if(n=r.pop(),i===e)return o[n]===e?null:o[n];o[n]=i}else{if(i===e)return this.options[n]===e?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,i,r){var o,a=this;"boolean"!=typeof n&&(r=i,i=n,n=!1),r?(i=o=t(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,o=this.widget()),t.each(r,function(r,s){function l(){return n||!0!==a.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?a[s]:s).apply(a,arguments):e}"string"!=typeof s&&(l.guid=s.guid=s.guid||l.guid||t.guid++);var u=r.match(/^(\w+)\s*(.*)$/),c=u[1]+a.eventNamespace,d=u[2];d?o.delegate(d,c,l):i.bind(c,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,a=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===n.iframeFix?"iframe":n.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,n){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n,i=this,r=!1,o=!1;for(t.ui.ddmanager&&!this.options.dropBehaviour&&(o=t.ui.ddmanager.drop(this,e)),this.dropped&&(o=this.dropped,this.dropped=!1),n=this.element[0];n&&(n=n.parentNode);)n===document&&(r=!0);return!(!r&&"original"===this.options.helper)&&("invalid"===this.options.revert&&!o||"valid"===this.options.revert&&o||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,o)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1)},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;if("parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=["document"===r.containment?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===r.containment?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===r.containment?0:t(window).scrollLeft())+t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===r.containment?0:t(window).scrollTop())+(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||r.containment.constructor===Array)r.containment.constructor===Array&&(this.containment=r.containment);else{if(!(i=(n=t(r.containment))[0]))return;e="hidden"!==t(i).css("overflow"),this.containment=[(parseInt(t(i).css("borderLeftWidth"),10)||0)+(parseInt(t(i).css("paddingLeft"),10)||0),(parseInt(t(i).css("borderTopWidth"),10)||0)+(parseInt(t(i).css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t(i).css("borderRightWidth"),10)||0)-(parseInt(t(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t(i).css("borderBottomWidth"),10)||0)-(parseInt(t(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r,o,a=this.options,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName),u=e.pageX,c=e.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n){var i=t(this).data("ui-draggable"),r=i.options,o=t.extend({},n,{item:i.element});i.sortables=[],t(r.connectToSortable).each(function(){var n=t.data(this,"ui-sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",e,o))})},stop:function(e,n){var i=t(this).data("ui-draggable"),r=t.extend({},n,{item:i.element});t.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,n){var i=t(this).data("ui-draggable"),r=this;t.each(i.sortables,function(){var o=!1,a=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(a.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",e),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",e),i.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),n=t(this).data("ui-draggable").options;e.css("cursor")&&(n._cursor=e.css("cursor")),e.css("cursor",n.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n){var i=t(n.helper),r=t(this).data("ui-draggable").options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(e,n){var i=t(this).data("ui-draggable").options;i._opacity&&t(n.helper).css("opacity",i._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var n=t(this).data("ui-draggable"),i=n.options,r=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-t(document).scrollTop()<i.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-i.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<i.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-t(document).scrollLeft()<i.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-i.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<i.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+i.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),n=e.options;e.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=t(this),i=n.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})})},drag:function(e,n){var i,r,o,a,s,l,u,c,d,f,h=t(this).data("ui-draggable"),p=h.options,g=p.snapTolerance,m=n.offset.left,v=m+h.helperProportions.width,b=n.offset.top,y=b+h.helperProportions.height;for(d=h.snapElements.length-1;d>=0;d--)l=(s=h.snapElements[d].left)+h.snapElements[d].width,c=(u=h.snapElements[d].top)+h.snapElements[d].height,m>s-g&&l+g>m&&b>u-g&&c+g>b||m>s-g&&l+g>m&&y>u-g&&c+g>y||v>s-g&&l+g>v&&b>u-g&&c+g>b||v>s-g&&l+g>v&&y>u-g&&c+g>y?("inner"!==p.snapMode&&(i=g>=Math.abs(u-y),r=g>=Math.abs(c-b),o=g>=Math.abs(s-v),a=g>=Math.abs(l-m),i&&(n.position.top=h._convertPositionTo("relative",{top:u-h.helperProportions.height,left:0}).top-h.margins.top),r&&(n.position.top=h._convertPositionTo("relative",{top:c,left:0}).top-h.margins.top),o&&(n.position.left=h._convertPositionTo("relative",{top:0,left:s-h.helperProportions.width}).left-h.margins.left),a&&(n.position.left=h._convertPositionTo("relative",{top:0,left:l}).left-h.margins.left)),f=i||r||o||a,"outer"!==p.snapMode&&(i=g>=Math.abs(u-b),r=g>=Math.abs(c-y),o=g>=Math.abs(s-m),a=g>=Math.abs(l-v),i&&(n.position.top=h._convertPositionTo("relative",{top:u,left:0}).top-h.margins.top),r&&(n.position.top=h._convertPositionTo("relative",{top:c-h.helperProportions.height,left:0}).top-h.margins.top),o&&(n.position.left=h._convertPositionTo("relative",{top:0,left:s}).left-h.margins.left),a&&(n.position.left=h._convertPositionTo("relative",{top:0,left:l-h.helperProportions.width}).left-h.margins.left)),!h.snapElements[d].snapping&&(i||r||o||a||f)&&h.options.snap.snap&&h.options.snap.snap.call(h.element,e,t.extend(h._uiHash(),{snapItem:h.snapElements[d].item})),h.snapElements[d].snapping=i||r||o||a||f):(h.snapElements[d].snapping&&h.options.snap.release&&h.options.snap.release.call(h.element,e,t.extend(h._uiHash(),{snapItem:h.snapElements[d].item})),h.snapElements[d].snapping=!1)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,n=this.data("ui-draggable").options,i=t.makeArray(t(n.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});i.length&&(e=parseInt(t(i[0]).css("zIndex"),10)||0,t(i).each(function(n){t(this).css("zIndex",e+n)}),this.css("zIndex",e+i.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n){var i=t(n.helper),r=t(this).data("ui-draggable").options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(e,n){var i=t(this).data("ui-draggable").options;i._zIndex&&t(n.helper).css("zIndex",i._zIndex)}})}(jQuery),function(t){function e(t,e,n){return t>e&&e+n>t}t.widget("ui.droppable",{version:"1.10.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,n=e.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,n=t.ui.ddmanager.droppables[this.options.scope];n.length>e;e++)n[e]===this&&n.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){"accept"===e&&(this.accept=t.isFunction(n)?n:function(t){return t.is(n)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),
n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===i.options.scope&&e.accept.call(e.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(r=!0,!1):undefined}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,n,i){if(!n.offset)return!1;var r,o=(t.positionAbs||t.position.absolute).left,a=o+t.helperProportions.width,s=(t.positionAbs||t.position.absolute).top,l=s+t.helperProportions.height,u=n.offset.left,c=u+n.proportions.width,d=n.offset.top,f=d+n.proportions.height;switch(i){case"fit":return o>=u&&c>=a&&s>=d&&f>=l;case"intersect":return o+t.helperProportions.width/2>u&&c>a-t.helperProportions.width/2&&s+t.helperProportions.height/2>d&&f>l-t.helperProportions.height/2;case"pointer":return r=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,e((t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,d,n.proportions.height)&&e(r,u,n.proportions.width);case"touch":return(s>=d&&f>=s||l>=d&&f>=l||d>s&&l>f)&&(o>=u&&c>=o||a>=u&&c>=a||u>o&&a>c);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=n?n.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;s.length>r;r++)if(s[r]===o[i].element[0]){o[i].proportions.height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===a&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions={width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight})}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,a=t.ui.intersect(e,this,this.options.tolerance),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===r})).length&&((i=t.data(o[0],"ui-droppable")).greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}}}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function n(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,n,i,r,o=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},n=0;e.length>n;n++)i=t.trim(e[n]),(r=t("<div class='ui-resizable-handle "+("ui-resizable-"+i)+"'></div>")).css({zIndex:a.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(e){var n,i,r,o;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String&&(this.handles[n]=t(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),t(this.handles[n]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){a.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(n){var i,r,o,a=this.options,s=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),i=e(this.helper.css("left")),r=e(this.helper.css("top")),a.containment&&(i+=t(a.containment).scrollLeft()||0,r+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:r},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:i,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(e){var n,i=this.helper,r={},o=this.originalMousePosition,a=this.axis,s=this.position.top,l=this.position.left,u=this.size.width,c=this.size.height,d=e.pageX-o.left||0,f=e.pageY-o.top||0,h=this._change[a];return!!h&&(n=h.apply(this,[e,d,f]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),this.position.top!==s&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==u&&(r.width=this.size.width+"px"),this.size.height!==c&&(r.height=this.size.height+"px"),i.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(r)||this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,a,s,l,u=this.options,c=this;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&t.ui.hasScroll(n[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-r},s=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(t.extend(a,{top:l,left:s})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,i,r,o,a,s=this.options;a={minWidth:n(s.minWidth)?s.minWidth:0,maxWidth:n(s.maxWidth)?s.maxWidth:1/0,minHeight:n(s.minHeight)?s.minHeight:0,maxHeight:n(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,r=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),r>a.minHeight&&(a.minHeight=r),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>o&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),n(t.left)&&(this.position.left=t.left),n(t.top)&&(this.position.top=t.top),n(t.height)&&(this.size.height=t.height),n(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,r=this.axis;return n(t.height)?t.width=t.height*this.aspectRatio:n(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===r&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===r&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,r=n(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=n(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=n(t.width)&&e.minWidth&&e.minWidth>t.width,s=n(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,c=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return a&&(t.width=e.minWidth),s&&(t.height=e.minHeight),r&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),a&&c&&(t.left=l-e.minWidth),r&&c&&(t.left=l-e.maxWidth),s&&d&&(t.top=u-e.minHeight),o&&d&&(t.top=u-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,n,i,r,o=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(r=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],n=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],i=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],e=0;n.length>e;e++)this.borderDif[e]=(parseInt(n[e],10)||0)+(parseInt(i[e],10)||0);r.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).data("ui-resizable"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&t.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var n,i,r,o,a,s,l,u=t(this).data("ui-resizable"),c=u.options,d=u.element,f=c.containment,h=f instanceof t?f.get(0):/parent/.test(f)?d.parent().get(0):f;h&&(u.containerElement=t(h),/document/.test(f)||f===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(n=t(h),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,r){i[t]=e(n.css("padding"+r))}),u.containerOffset=n.offset(),u.containerPosition=n.position(),u.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},r=u.containerOffset,o=u.containerSize.height,a=u.containerSize.width,s=t.ui.hasScroll(h,"left")?h.scrollWidth:a,l=t.ui.hasScroll(h)?h.scrollHeight:o,u.parentData={element:h,left:r.left,top:r.top,width:s,height:l}))},resize:function(e){var n,i,r,o,a=t(this).data("ui-resizable"),s=a.options,l=a.containerOffset,u=a.position,c=a._aspectRatio||e.shiftKey,d={top:0,left:0},f=a.containerElement;f[0]!==document&&/static/.test(f.css("position"))&&(d=l),u.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),c&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=s.helper?l.left:0),u.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,n=Math.abs((a._helper,a.offset.left-d.left+a.sizeDiff.width)),i=Math.abs((a._helper?a.offset.top-d.top:a.offset.top-l.top)+a.sizeDiff.height),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o&&(n-=a.parentData.left),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,c&&(a.size.height=a.size.width/a.aspectRatio)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,c&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,a=t(e.helper),s=a.offset(),l=a.outerWidth()-e.sizeDiff.width,u=a.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:u}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable").options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?n(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],n(e.alsoResize)):t.each(e.alsoResize,function(t){n(t)})},resize:function(e,n){var i=t(this).data("ui-resizable"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0},l=function(e,i){t(e).each(function(){var e=t(this),r=t(this).data("ui-resizable-alsoresize"),o={},a=i&&i.length?i:e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var n=(r[e]||0)+(s[e]||0);n&&n>=0&&(o[e]=n||null)}),e.css(o)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):t.each(r.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),n=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),n=e.options,i=e.size,r=e.originalSize,o=e.originalPosition,a=e.axis,s="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=s[0]||1,u=s[1]||1,c=Math.round((i.width-r.width)/l)*l,d=Math.round((i.height-r.height)/u)*u,f=r.width+c,h=r.height+d,p=n.maxWidth&&f>n.maxWidth,g=n.maxHeight&&h>n.maxHeight,m=n.minWidth&&n.minWidth>f,v=n.minHeight&&n.minHeight>h;n.grid=s,m&&(f+=l),v&&(h+=u),p&&(f-=l),g&&(h-=u),/^(se|s|e)$/.test(a)?(e.size.width=f,e.size.height=h):/^(ne)$/.test(a)?(e.size.width=f,e.size.height=h,e.position.top=o.top-d):/^(sw)$/.test(a)?(e.size.width=f,e.size.height=h,e.position.left=o.left-c):(e.size.width=f,e.size.height=h,e.position.top=o.top-d,e.position.left=o.left-c)}})}(jQuery),function(t){function e(t,e,n){return t>e&&e+n>t}function n(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||n(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,n){"disabled"===e?(this.options[e]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):undefined}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),!1!==s&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,l=s+t.height,u=this.offset.click.top,c=this.offset.click.left,d=i+u>s&&l>i+u&&e+c>o&&a>e+c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:e+this.helperProportions.width/2>o&&a>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>s&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=n&&i,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return!!r&&(this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(t){var n=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:r&&("down"===r&&n||"up"===r&&!n)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,o,a=[],s=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(i=(r=t(l[n])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&s.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(s.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(function(){a.push(this)});return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;e.length>n;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,a,s,l,u,c=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith()
;if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(i=(r=t(f[n])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(d.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(a=d[n][1],i=0,u=(s=d[n][0]).length;u>i;i++)(l=t(s[i])).data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,o;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t(e.document[0].createElement(i)).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?r.append("<td colspan='99'>&#160;</td>"):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(i){var r,o,a,s,l,u,c,d,f,h,p=null,g=null;for(r=this.containers.length-1;r>=0;r--)if(!t.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(p&&t.contains(this.containers[r].element[0],p.element[0]))continue;p=this.containers[r],g=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",i,this._uiHash(this)),this.containers[r].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",i,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,s=null,l=(h=p.floating||n(this.currentItem))?"left":"top",u=h?"width":"height",c=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!h||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(d=this.items[o].item.offset()[l],f=!1,Math.abs(d-c)>Math.abs(d+this.items[o][u]-c)&&(f=!0,d+=this.items[o][u]),a>Math.abs(d-c)&&(a=Math.abs(d-c),s=this.items[o],this.direction=f?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;s?this._rearrange(i,s,null,!0):this._rearrange(i,null,this.containers[g].element,!0),this._trigger("change",i,this._uiHash()),this.containers[g]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",i,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(i.push(function(t){this._trigger("remove",t,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),n=0;i.length>n;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(n=0;i.length>n;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}(jQuery),function(t,e){var n="ui-effects-";t.effects={effect:{}},function(t,e){function n(t,e,n){var i=d[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:t>i.max?i.max:t)}function i(n){var i=u(),r=i._rgba=[];return n=n.toLowerCase(),p(l,function(t,o){var a,s=o.re.exec(n),l=s&&o.parse(s),u=o.space||"rgba";return l?(a=i[u](l),i[c[u].cache]=a[c[u].cache],r=i._rgba=a._rgba,!1):e}),r.length?("0,0,0,0"===r.join()&&t.extend(r,o.transparent),i):o[n]}function r(t,e,n){return 1>6*(n=(n+1)%1)?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],u=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=u.support={},h=t("<p>")[0],p=t.each;h.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=h.style.backgroundColor.indexOf("rgba")>-1,p(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(r,a,s,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(a),a=e);var d=this,f=t.type(r),h=this._rgba=[];return a!==e&&(r=[r,a,s,l],f="array"),"string"===f?this.parse(i(r)||o._default):"array"===f?(p(c.rgba.props,function(t,e){h[e.idx]=n(r[e.idx],e)}),this):"object"===f?(p(c,r instanceof u?function(t,e){r[e.cache]&&(d[e.cache]=r[e.cache].slice())}:function(e,i){var o=i.cache;p(i.props,function(t,e){if(!d[o]&&i.to){if("alpha"===t||null==r[t])return;d[o]=i.to(d._rgba)}d[o][e.idx]=n(r[t],e,!0)}),d[o]&&0>t.inArray(null,d[o].slice(0,3))&&(d[o][3]=1,i.from&&(d._rgba=i.from(d[o])))}),this):e},is:function(t){var n=u(t),i=!0,r=this;return p(c,function(t,o){var a,s=n[o.cache];return s&&(a=r[o.cache]||o.to&&o.to(r._rgba)||[],p(o.props,function(t,n){return null!=s[n.idx]?i=s[n.idx]===a[n.idx]:e})),i}),i},_space:function(){var t=[],e=this;return p(c,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=u(t),r=i._space(),o=c[r],a=0===this.alpha()?u("transparent"):this,s=a[o.cache]||o.to(a._rgba),l=s.slice();return i=i[o.cache],p(o.props,function(t,r){var o=r.idx,a=s[o],u=i[o],c=d[r.type]||{};null!==u&&(null===a?l[o]=u:(c.mod&&(u-a>c.mod/2?a+=c.mod:a-u>c.mod/2&&(a-=c.mod)),l[o]=n((u-a)*e+a,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=u(e)._rgba;return u(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=t[3],s=Math.max(i,r,o),l=Math.min(i,r,o),u=s-l,c=s+l,d=.5*c;return e=l===s?0:i===s?60*(r-o)/u+360:r===s?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:.5>=d?u/c:u/(2-c),[Math.round(e)%360,n,d,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,e+1/3)),Math.round(255*r(s,a,e)),Math.round(255*r(s,a,e-1/3)),o]},p(c,function(i,r){var o=r.props,a=r.cache,l=r.to,c=r.from;u.fn[i]=function(i){if(l&&!this[a]&&(this[a]=l(this._rgba)),i===e)return this[a].slice();var r,s=t.type(i),d="array"===s||"object"===s?i:arguments,f=this[a].slice();return p(o,function(t,e){var i=d["object"===s?t:e.idx];null==i&&(i=f[e.idx]),f[e.idx]=n(i,e)}),c?((r=u(c(f)))[a]=f,r):u(f)},p(o,function(e,n){u.fn[e]||(u.fn[e]=function(r){var o,a=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,u=this[l](),c=u[n.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=t.type(r)),null==r&&n.empty?this:("string"===a&&((o=s.exec(r))&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1))),u[n.idx]=r,this[l](u)))})})}),u.hook=function(e){var n=e.split(" ");p(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,a,s="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=u(o||r),!f.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=u(e.elem,n),e.end=u(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},u.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function n(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)"string"==typeof r[n=r[i]]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function i(e,n){var i,r,a={};for(i in n)r=n[i],e[i]!==r&&(o[i]||(t.fx.step[i]||!isNaN(parseFloat(r)))&&(a[i]=r));return a}var r=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,o,a,s){var l=t.speed(o,a,s);return this.queue(function(){var o,a=t(this),s=a.attr("class")||"",u=l.children?a.find("*").addBack():a;u=u.map(function(){return{el:t(this),start:n(this)}}),(o=function(){t.each(r,function(t,n){e[n]&&a[n+"Class"](e[n])})})(),u=u.map(function(){return this.end=n(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",s),u=u.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,u.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(n){return function(i,r,o,a,s){return"boolean"==typeof r||r===e?o?t.effects.animateClass.call(this,r?{add:i}:{remove:i},o,a,s):n.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},r,o,a)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function i(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function r(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}t.extend(t.effects,{version:"1.10.2",save:function(t,e){for(var i=0;e.length>i;i++)null!==e[i]&&t.data(n+e[i],t[0].style[e[i]])},restore:function(t,i){var r,o;for(o=0;i.length>o;o++)null!==i[o]&&((r=t.data(n+i[o]))===e&&(r=""),t.css(i[o],r))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function e(e){function i(){t.isFunction(o)&&o.call(r[0]),t.isFunction(e)&&e()}var r=t(this),o=n.complete,s=n.mode;(r.is(":hidden")?"hide"===s:"show"===s)?(r[s](),i()):a.call(r[0],n,i)}var n=i.apply(this,arguments),r=n.mode,o=n.queue,a=t.effects.effect[n.effect];return t.fx.off||!a?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):!1===o?this.each(e):this.queue(o||"fx",e)},show:function(t){return function(e){if(r(e))return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(e){if(r(e))return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(e){if(r(e)||"boolean"==typeof e)return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;((e=Math.pow(2,--n))-1)/11>t;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}()}(jQuery),
/**
 * sifter.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=r(String(t||"").toLowerCase()))||!t.length)return[];var e,n,i,a,l=[],u=t.split(/ +/);for(e=0,n=u.length;e<n;e++){if(i=o(u[e]),this.settings.diacritics)for(a in s)s.hasOwnProperty(a)&&(i=i.replace(new RegExp(a,"g"),s[a]));l.push({string:u[e],regex:new RegExp(i,"i")})}return l},t.prototype.iterator=function(t,e){(a(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)}).apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,r,o,a;t=this.prepareSearch(t,e),r=t.tokens,n=t.options.fields,o=r.length,a=t.options.nesting;var s,l=function(t,e){var n,i;return t?-1===(i=(t=String(t||"")).search(e.regex))?0:(n=e.string.length/t.length,0===i&&(n+=.5),n):0},u=(s=n.length)?1===s?function(t,e){return l(i(e,n[0],a),t)}:function(t,e){for(var r=0,o=0;r<s;r++)o+=l(i(e,n[r],a),t);return o/s}:function(){return 0};return o?1===o?function(t){return u(r[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<o;n++){if((e=u(r[n],t))<=0)return 0;i+=e}return i/o}:function(t){for(var e=0,n=0;e<o;e++)n+=u(r[e],t);return n/o}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var r,o,a,s,l,u,c,d,f,h,p;if(p=!(t=(a=this).prepareSearch(t,n)).query&&n.sort_empty||n.sort,f=function(t,e){return"$score"===t?e.score:i(a.items[e.id],t,n.nesting)},l=[],p)for(r=0,o=p.length;r<o;r++)(t.query||"$score"!==p[r].field)&&l.push(p[r]);if(t.query){for(h=!0,r=0,o=l.length;r<o;r++)if("$score"===l[r].field){h=!1;break}h&&l.unshift({field:"$score",direction:"desc"})}else for(r=0,o=l.length;r<o;r++)if("$score"===l[r].field){l.splice(r,1);break}for(d=[],r=0,o=l.length;r<o;r++)d.push("desc"===l[r].direction?-1:1);return(u=l.length)?1===u?(s=l[0].field,c=d[0],function(t,n){return c*e(f(s,t),f(s,n))}):function(t,n){var i,r,o;for(i=0;i<u;i++)if(o=l[i].field,r=d[i]*e(f(o,t),f(o,n)))return r;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;var i=(e=n({},e)).fields,r=e.sort,o=e.sort_empty;return i&&!a(i)&&(e.fields=[i]),r&&!a(r)&&(e.sort=[r]),o&&!a(o)&&(e.sort_empty=[o]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,r,o,a=this;return i=this.prepareSearch(t,e),e=i.options,t=i.query,o=e.score||a.getScoreFunction(i),t.length?a.iterator(a.items,function(t,r){n=o(t),(!1===e.filter||n>0)&&i.items.push({score:n,id:r})}):a.iterator(a.items,function(t,e){i.items.push({score:1,id:e})}),(r=a.getSortFunction(i,e))&&i.items.sort(r),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=l(String(t||"")))>(e=l(String(e||"")))?1:e>t?-1:0},n=function(t){var e,n,i,r;for(e=1,n=arguments.length;e<n;e++)if(r=arguments[e])for(i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);return t},i=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},r=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},o=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},a=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s={a:"[a\u1e00\u1e01\u0102\u0103\xc2\xe2\u01cd\u01ce\u023a\u2c65\u0226\u0227\u1ea0\u1ea1\xc4\xe4\xc0\xe0\xc1\xe1\u0100\u0101\xc3\xe3\xc5\xe5\u0105\u0104\xc3\u0105\u0104]",b:"[b\u2422\u03b2\u0392B\u0e3f\ud800\udf01\u16d2]",c:"[c\u0106\u0107\u0108\u0109\u010c\u010d\u010a\u010bC\u0304c\u0304\xc7\xe7\u1e08\u1e09\u023b\u023c\u0187\u0188\u0255\u1d04\uff23\uff43]",d:"[d\u010e\u010f\u1e0a\u1e0b\u1e10\u1e11\u1e0c\u1e0d\u1e12\u1e13\u1e0e\u1e0f\u0110\u0111D\u0326d\u0326\u0189\u0256\u018a\u0257\u018b\u018c\u1d6d\u1d81\u1d91\u0221\u1d05\uff24\uff44\xf0]",e:"[e\xc9\xe9\xc8\xe8\xca\xea\u1e18\u1e19\u011a\u011b\u0114\u0115\u1ebc\u1ebd\u1e1a\u1e1b\u1eba\u1ebb\u0116\u0117\xcb\xeb\u0112\u0113\u0228\u0229\u0118\u0119\u1d92\u0246\u0247\u0204\u0205\u1ebe\u1ebf\u1ec0\u1ec1\u1ec4\u1ec5\u1ec2\u1ec3\u1e1c\u1e1d\u1e16\u1e17\u1e14\u1e15\u0206\u0207\u1eb8\u1eb9\u1ec6\u1ec7\u2c78\u1d07\uff25\uff45\u0258\u01dd\u018f\u0190\u03b5]",f:"[f\u0191\u0192\u1e1e\u1e1f]",g:"[g\u0262\u20b2\u01e4\u01e5\u011c\u011d\u011e\u011f\u0122\u0123\u0193\u0260\u0120\u0121]",h:"[h\u0124\u0125\u0126\u0127\u1e28\u1e29\u1e96\u1e96\u1e24\u1e25\u1e22\u1e23\u0266\u02b0\u01f6\u0195]",i:"[i\xcd\xed\xcc\xec\u012c\u012d\xce\xee\u01cf\u01d0\xcf\xef\u1e2e\u1e2f\u0128\u0129\u012e\u012f\u012a\u012b\u1ec8\u1ec9\u0208\u0209\u020a\u020b\u1eca\u1ecb\u1e2c\u1e2d\u0197\u0268\u0268\u0306\u1d7b\u1d96\u0130iI\u0131\u026a\uff29\uff49]",j:"[j\u0237\u0134\u0135\u0248\u0249\u029d\u025f\u02b2]",k:"[k\u0198\u0199\ua740\ua741\u1e30\u1e31\u01e8\u01e9\u1e32\u1e33\u1e34\u1e35\u03ba\u03f0\u20ad]",l:"[l\u0141\u0142\u013d\u013e\u013b\u013c\u0139\u013a\u1e36\u1e37\u1e38\u1e39\u1e3c\u1e3d\u1e3a\u1e3b\u013f\u0140\u023d\u019a\u2c60\u2c61\u2c62\u026b\u026c\u1d85\u026d\u0234\u029f\uff2c\uff4c]",n:"[n\u0143\u0144\u01f8\u01f9\u0147\u0148\xd1\xf1\u1e44\u1e45\u0145\u0146\u1e46\u1e47\u1e4a\u1e4b\u1e48\u1e49N\u0308n\u0308\u019d\u0272\u0220\u019e\u1d70\u1d87\u0273\u0235\u0274\uff2e\uff4e\u014a\u014b]",o:"[o\xd8\xf8\xd6\xf6\xd3\xf3\xd2\xf2\xd4\xf4\u01d1\u01d2\u0150\u0151\u014e\u014f\u022e\u022f\u1ecc\u1ecd\u019f\u0275\u01a0\u01a1\u1ece\u1ecf\u014c\u014d\xd5\xf5\u01ea\u01eb\u020c\u020d\u0555\u0585]",p:"[p\u1e54\u1e55\u1e56\u1e57\u2c63\u1d7d\u01a4\u01a5\u1d71]",q:"[q\ua756\ua757\u02a0\u024a\u024b\ua758\ua759q\u0303]",r:"[r\u0154\u0155\u024c\u024d\u0158\u0159\u0156\u0157\u1e58\u1e59\u0210\u0211\u0212\u0213\u1e5a\u1e5b\u2c64\u027d]",s:"[s\u015a\u015b\u1e60\u1e61\u1e62\u1e63\ua7a8\ua7a9\u015c\u015d\u0160\u0161\u015e\u015f\u0218\u0219S\u0308s\u0308]",t:"[t\u0164\u0165\u1e6a\u1e6b\u0162\u0163\u1e6c\u1e6d\u01ae\u0288\u021a\u021b\u1e70\u1e71\u1e6e\u1e6f\u01ac\u01ad]",u:"[u\u016c\u016d\u0244\u0289\u1ee4\u1ee5\xdc\xfc\xda\xfa\xd9\xf9\xdb\xfb\u01d3\u01d4\u0170\u0171\u016c\u016d\u01af\u01b0\u1ee6\u1ee7\u016a\u016b\u0168\u0169\u0172\u0173\u0214\u0215\u222a]",v:"[v\u1e7c\u1e7d\u1e7e\u1e7f\u01b2\u028b\ua75e\ua75f\u2c71\u028b]",w:"[w\u1e82\u1e83\u1e80\u1e81\u0174\u0175\u1e84\u1e85\u1e86\u1e87\u1e88\u1e89]",x:"[x\u1e8c\u1e8d\u1e8a\u1e8b\u03c7]",y:"[y\xdd\xfd\u1ef2\u1ef3\u0176\u0177\u0178\xff\u1ef8\u1ef9\u1e8e\u1e8f\u1ef4\u1ef5\u024e\u024f\u01b3\u01b4]",z:"[z\u0179\u017a\u1e90\u1e91\u017d\u017e\u017b\u017c\u1e92\u1e93\u1e94\u1e95\u01b5\u01b6]"},l=function(){var t,e,n,i,r="",o={};for(n in s)if(s.hasOwnProperty(n))for(r+=i=s[n].substring(2,s[n].length-1),t=0,e=i.length;t<e;t++)o[i.charAt(t)]=n;var a=new RegExp("["+r+"]","g");return function(t){return t.replace(a,function(t){return o[t]}).toLowerCase()}}();return t}),
/**
 * microplugin.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={mixin:function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,r,o=this,a=[];if(o.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;n<i;n++)"string"==typeof t[n]?a.push(t[n]):(o.plugins.settings[t[n].name]=t[n].options,a.push(t[n].name));else if(t)for(r in t)t.hasOwnProperty(r)&&(o.plugins.settings[r]=t[r],a.push(r));for(;a.length;)o.require(a.shift())},t.prototype.loadPlugin=function(e){var n=this,i=n.plugins,r=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=r.fn.apply(n,[n.plugins.settings[e]||{}]),i.names.push(e)},t.prototype.require=function(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}}},e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),
/**
 * selectize.js (v0.12.4)
 * Copyright (c) 20132015 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var r=t.data.search(n);if(r>=0&&t.data.length>0){var o=t.data.match(n),a=document.createElement("span");a.className="highlight";var s=t.splitText(r),l=(s.splitText(o[0].length),s.cloneNode(!0));a.appendChild(l),s.parentNode.replaceChild(a,s),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var u=0;u<t.childNodes.length;++u)u+=i(t.childNodes[u]);return e};return t.each(function(){i(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var r=function(){};r.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=r.prototype[e[n]]};var o=/Mac/.test(navigator.userAgent),a=65,s=13,l=27,u=37,c=38,d=80,f=39,h=40,p=78,g=8,m=46,v=16,b=o?91:17,y=o?18:17,x=9,w=1,_=2,C=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,k=function(t){return void 0!==t},S=function(t){return null==t?null:"boolean"==typeof t?t?"1":"0":t+""},T=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},M={before:function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},after:function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}}},D=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},A=function(t,e){var n;return function(){var i=this,r=arguments;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(i,r)},e)}},I=function(t,e,n){var i,r=t.trigger,o={};for(i in t.trigger=function(){var n=arguments[0];if(-1===e.indexOf(n))return r.apply(t,arguments);o[n]=arguments},n.apply(t,[]),t.trigger=r,o)o.hasOwnProperty(i)&&r.apply(t,o[i])},j=function(t,e,n,i){t.on(e,n,function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,i.apply(this,[e])})},$=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},F=function(t,e,n){var i,r,o={};if(n)for(i=0,r=n.length;i<r;i++)o[n[i]]=t.css(n[i]);else o=t.css();e.css(o)},E=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");F(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=i.width();return i.remove(),r},O=function(t){var e=null,n=function(n,i){var r,o,a,s,l,u,c,d;i=i||{},(n=n||window.event||{}).metaKey||n.altKey||(i.force||!1!==t.data("grow"))&&(r=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(a=(o=n.keyCode)>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||32===o,o===m||o===g?(d=$(t[0])).length?r=r.substring(0,d.start)+r.substring(d.start+d.length):o===g&&d.start?r=r.substring(0,d.start-1)+r.substring(d.start+1):o===m&&"undefined"!=typeof d.start&&(r=r.substring(0,d.start)+r.substring(d.start+1)):a&&(u=n.shiftKey,c=String.fromCharCode(n.keyCode),r+=c=u?c.toUpperCase():c.toLowerCase())),s=t.attr("placeholder"),!r&&s&&(r=s),(l=E(r,t)+4)!==e&&(e=l,t.width(l),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()},P=function(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML},L=function(t,e){e||(e={});var n="Selectize";console.error(n+": "+t),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())},N=function(n,i){var r,o,a,s,l=this;(s=n[0]).selectize=l;var u=window.getComputedStyle&&window.getComputedStyle(s,null);if(a=(a=u?u.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction)||n.parents("[dir]:first").attr("dir")||"",t.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?w:_,rtl:/rtl/i.test(a),eventNS:".selectize"+ ++N.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:A(l.onSearchChange,i.loadThrottle)}),l.sifter=new e(this.options,{diacritics:i.diacritics}),l.settings.options){for(r=0,o=l.settings.options.length;r<o;r++)l.registerOption(l.settings.options[r]);delete l.settings.options}if(l.settings.optgroups){for(r=0,o=l.settings.optgroups.length;r<o;r++)l.registerOptionGroup(l.settings.optgroups[r]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return r.mixin(N),void 0!==n?n.mixin(N):L("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),t.extend(N.prototype,{setup:function(){var e,n,i,r,a,s,l,u,c,d,f=this,h=f.settings,p=f.eventNS,g=t(window),m=t(document),x=f.$input;if(l=f.settings.mode,u=x.attr("class")||"",e=t("<div>").addClass(h.wrapperClass).addClass(u).addClass(l),n=t("<div>").addClass(h.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",x.is(":disabled")?"-1":f.tabIndex),s=t(h.dropdownParent||e),r=t("<div>").addClass(h.dropdownClass).addClass(l).hide().appendTo(s),a=t("<div>").addClass(h.dropdownContentClass).appendTo(r),(d=x.attr("id"))&&(i.attr("id",d+"-selectized"),t("label[for='"+d+"']").attr("for",d+"-selectized")),f.settings.copyClassesToDropdown&&r.addClass(u),e.css({width:x[0].style.width}),f.plugins.names.length&&(c="plugin-"+f.plugins.names.join(" plugin-"),e.addClass(c),r.addClass(c)),(null===h.maxItems||h.maxItems>1)&&f.tagType===w&&x.attr("multiple","multiple"),f.settings.placeholder&&i.attr("placeholder",h.placeholder),!f.settings.splitOn&&f.settings.delimiter){var _=f.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");f.settings.splitOn=new RegExp("\\s*"+_+"+\\s*")}x.attr("autocorrect")&&i.attr("autocorrect",x.attr("autocorrect")),x.attr("autocapitalize")&&i.attr("autocapitalize",x.attr("autocapitalize")),f.$wrapper=e,f.$control=n,f.$control_input=i,f.$dropdown=r,f.$dropdown_content=a,r.on("mouseenter","[data-selectable]",function(){return f.onOptionHover.apply(f,arguments)}),r.on("mousedown click","[data-selectable]",function(){return f.onOptionSelect.apply(f,arguments)}),j(n,"mousedown","*:not(input)",function(){return f.onItemSelect.apply(f,arguments)}),O(i),n.on({mousedown:function(){return f.onMouseDown.apply(f,arguments)},click:function(){return f.onClick.apply(f,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return f.onKeyDown.apply(f,arguments)},keyup:function(){return f.onKeyUp.apply(f,arguments)},keypress:function(){return f.onKeyPress.apply(f,arguments)},resize:function(){f.positionDropdown.apply(f,[])},blur:function(){return f.onBlur.apply(f,arguments)},focus:function(){return f.ignoreBlur=!1,f.onFocus.apply(f,arguments)},paste:function(){return f.onPaste.apply(f,arguments)}}),m.on("keydown"+p,function(t){f.isCmdDown=t[o?"metaKey":"ctrlKey"],f.isCtrlDown=t[o?"altKey":"ctrlKey"],f.isShiftDown=t.shiftKey}),m.on("keyup"+p,function(t){t.keyCode===y&&(f.isCtrlDown=!1),t.keyCode===v&&(f.isShiftDown=!1),t.keyCode===b&&(f.isCmdDown=!1)}),m.on("mousedown"+p,function(t){if(f.isFocused){if(t.target===f.$dropdown[0]||t.target.parentNode===f.$dropdown[0])return!1;f.$control.has(t.target).length||t.target===f.$control[0]||f.blur(t.target)}}),g.on(["scroll"+p,"resize"+p].join(" "),function(){f.isOpen&&f.positionDropdown.apply(f,arguments)}),g.on("mousemove"+p,function(){f.ignoreHover=!1}),this.revertSettings={$children:x.children().detach(),tabindex:x.attr("tabindex")},x.attr("tabindex",-1).hide().after(f.$wrapper),t.isArray(h.items)&&(f.setValue(h.items),delete h.items),C&&x.on("invalid"+p,function(t){t.preventDefault(),f.isInvalid=!0,f.refreshState()}),f.updateOriginalInput(),f.refreshItems(),f.refreshState(),f.updatePlaceholder(),f.isSetup=!0,x.is(":disabled")&&f.disable(),f.on("change",this.onChange),x.data("selectize",f),x.addClass("selectized"),f.trigger("initialize"),!0===h.preload&&f.onSearchChange("")},setupTemplates:function(){var e=this,n=e.settings.labelField,i=e.settings.optgroupLabelField,r={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">+ <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},r,e.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();t(e.target);if(n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;n.isFull()||n.isInputHidden||n.isLocked?e.preventDefault():n.settings.splitOn&&setTimeout(function(){var e=n.$control_input.val();if(e.match(n.settings.splitOn))for(var i=t.trim(e).split(n.settings.splitOn),r=0,o=i.length;r<o;r++)n.createItem(i[r])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){t.target,this.$control_input[0];var e=this;if(e.isLocked)t.keyCode!==x&&t.preventDefault();else{switch(t.keyCode){case a:if(e.isCmdDown)return void e.selectAll();break;case l:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case p:if(!t.ctrlKey||t.altKey)break;case h:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case d:if(!t.ctrlKey||t.altKey)break;case c:if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,-1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case s:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case u:return void e.advanceSelection(-1,t);case f:return void e.advanceSelection(1,t);case x:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case g:case m:return void e.deleteSelection(t)}!e.isFull()&&!e.isInputHidden||(o?t.metaKey:t.ctrlKey)||t.preventDefault()}},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this,n=e.isFocused;if(e.isDisabled)return e.blur(),t&&t.preventDefault(),!1;e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,r=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(i=t(e.currentTarget)).hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):void 0!==(n=i.attr("data-value"))&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(n),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&r.setActiveOption(r.getOption(n)))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return this.tagType===w&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){I(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var i,r,o,a,s,l,u,c,d=this;if("single"!==d.settings.mode){if(!(e=t(e)).length)return t(d.$activeItems).removeClass("active"),d.$activeItems=[],void(d.isFocused&&d.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&d.isShiftDown&&d.$activeItems.length){for(c=d.$control.children(".active:last"),(a=Array.prototype.indexOf.apply(d.$control[0].childNodes,[c[0]]))>(s=Array.prototype.indexOf.apply(d.$control[0].childNodes,[e[0]]))&&(u=a,a=s,s=u),r=a;r<=s;r++)l=d.$control[0].childNodes[r],-1===d.$activeItems.indexOf(l)&&(t(l).addClass("active"),d.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&d.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(o=d.$activeItems.indexOf(e[0]),d.$activeItems.splice(o,1),e.removeClass("active")):d.$activeItems.push(e.addClass("active")[0]):(t(d.$activeItems).removeClass("active"),d.$activeItems=[e.addClass("active")[0]]);d.hideInput(),this.isFocused||d.focus()}},setActiveOption:function(e,n,i){var r,o,a,s,l,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,(e=t(e)).length&&(u.$activeOption=e.addClass("active"),!n&&k(n)||(r=u.$dropdown_content.height(),o=u.$activeOption.outerHeight(!0),n=u.$dropdown_content.scrollTop()||0,s=a=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n,l=a-r+o,a+o>r+n?u.$dropdown_content.stop().animate({scrollTop:l},i?u.settings.scrollDuration:0):a<n&&u.$dropdown_content.stop().animate({scrollTop:s},i?u.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,r,o=this,a=o.settings,s=this.getSearchOptions();if(a.score&&"function"!=typeof(r=o.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==o.lastQuery?(o.lastQuery=e,i=o.sifter.search(e,t.extend(s,{score:r})),o.currentResults=i):i=t.extend(!0,{},o.currentResults),a.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==o.items.indexOf(S(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,r,o,a,s,l,u,c,d,f,h,p,g,m,v,b;void 0===e&&(e=!0);var y=this,x=t.trim(y.$control_input.val()),w=y.search(x),_=y.$dropdown_content,C=y.$activeOption&&S(y.$activeOption.attr("data-value"));for(a=w.items.length,"number"==typeof y.settings.maxOptions&&(a=Math.min(a,y.settings.maxOptions)),s={},l=[],n=0;n<a;n++)for(u=y.options[w.items[n].id],c=y.render("option",u),d=u[y.settings.optgroupField]||"",r=0,o=(f=t.isArray(d)?d:[d])&&f.length;r<o;r++)d=f[r],y.optgroups.hasOwnProperty(d)||(d=""),s.hasOwnProperty(d)||(s[d]=document.createDocumentFragment(),l.push(d)),s[d].appendChild(c);for(this.settings.lockOptgroupOrder&&l.sort(function(t,e){return(y.optgroups[t].$order||0)-(y.optgroups[e].$order||0)}),h=document.createDocumentFragment(),n=0,a=l.length;n<a;n++)d=l[n],y.optgroups.hasOwnProperty(d)&&s[d].childNodes.length?((p=document.createDocumentFragment()).appendChild(y.render("optgroup_header",y.optgroups[d])),p.appendChild(s[d]),h.appendChild(y.render("optgroup",t.extend({},y.optgroups[d],{html:P(p),dom:p})))):h.appendChild(s[d]);if(_.html(h),y.settings.highlight&&w.query.length&&w.tokens.length)for(_.removeHighlight(),n=0,a=w.tokens.length;n<a;n++)i(_,w.tokens[n].regex);if(!y.settings.hideSelected)for(n=0,a=y.items.length;n<a;n++)y.getOption(y.items[n]).addClass("selected");(g=y.canCreate(x))&&(_.prepend(y.render("option_create",{input:x})),b=t(_[0].childNodes[0])),y.hasOptions=w.items.length>0||g,y.hasOptions?(w.items.length>0?((v=C&&y.getOption(C))&&v.length?m=v:"single"===y.settings.mode&&y.items.length&&(m=y.getOption(y.items[0])),m&&m.length||(m=b&&!y.settings.addPrecedence?y.getAdjacentOption(b,1):_.find("[data-selectable]:first"))):m=b,y.setActiveOption(m),e&&!y.isOpen&&y.open()):(y.setActiveOption(null),e&&y.isOpen&&y.close())},addOption:function(e){var n,i,r,o=this;if(t.isArray(e))for(n=0,i=e.length;n<i;n++)o.addOption(e[n]);else(r=o.registerOption(e))&&(o.userOptions[r]=!0,o.lastQuery=null,o.trigger("option_add",r,e))},registerOption:function(t){var e=S(t[this.settings.valueField]);return null!=e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=S(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,r,o,a,s,l,u,c=this;if(e=S(e),o=S(n[c.settings.valueField]),null!==e&&c.options.hasOwnProperty(e)){if("string"!=typeof o)throw new Error("Value must be set in option data");u=c.options[e].$order,o!==e&&(delete c.options[e],-1!==(a=c.items.indexOf(e))&&c.items.splice(a,1,o)),n.$order=n.$order||u,c.options[o]=n,s=c.renderCache.item,l=c.renderCache.option,s&&(delete s[e],delete s[o]),l&&(delete l[e],delete l[o]),-1!==c.items.indexOf(o)&&(i=c.getItem(e),r=t(c.render("item",n)),i.hasClass("active")&&r.addClass("active"),i.replaceWith(r)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(t,e){var n=this;t=S(t);var i=n.renderCache.item,r=n.renderCache.option;i&&delete i[t],r&&delete r[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),r=i.index(e)+n;return r>=0&&r<i.length?i.eq(r):t()},getElementWithValue:function(e,n){if(null!=(e=S(e)))for(var i=0,r=n.length;i<r;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],r=0,o=i.length;r<o;r++)this.isPending=r<o-1,this.addItem(i[r],n)},addItem:function(e,n){I(this,n?[]:["change"],function(){var i,r,o,a,s,l=this,u=l.settings.mode;e=S(e),-1===l.items.indexOf(e)?l.options.hasOwnProperty(e)&&("single"===u&&l.clear(n),"multi"===u&&l.isFull()||(i=t(l.render("item",l.options[e])),s=l.isFull(),l.items.splice(l.caretPos,0,e),l.insertAtCaret(i),(!l.isPending||!s&&l.isFull())&&l.refreshState(),l.isSetup&&(o=l.$dropdown_content.find("[data-selectable]"),l.isPending||(r=l.getOption(e),a=l.getAdjacentOption(r,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==u),a&&l.setActiveOption(l.getOption(a))),!o.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",e,i),l.updateOriginalInput({silent:n})))):"single"===u&&l.close()})},removeItem:function(e,n){var i,r,o,a=this;i=e instanceof t?e:a.getItem(e),e=S(i.attr("data-value")),-1!==(r=a.items.indexOf(e))&&(i.remove(),i.hasClass("active")&&(o=a.$activeItems.indexOf(i[0]),a.$activeItems.splice(o,1)),a.items.splice(r,1),a.lastQuery=null,!a.settings.persist&&a.userOptions.hasOwnProperty(e)&&a.removeOption(e,n),r<a.caretPos&&a.setCaret(a.caretPos-1),a.refreshState(),a.updatePlaceholder(),a.updateOriginalInput({silent:n}),a.positionDropdown(),a.trigger("item_remove",e,i))},createItem:function(e,n){var i=this,r=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return o(),!1;i.lock();var a="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},s=D(function(t){if(i.unlock(),!t||"object"!=typeof t)return o();var e=S(t[i.settings.valueField]);if("string"!=typeof e)return o();i.setTextboxValue(""),i.addOption(t),i.setCaret(r),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),o(t)}),l=a.apply(this,[e,s]);return void 0!==l&&s(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this,n=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,r,o=this;if(t=t||{},o.tagType===w){for(i=[],e=0,n=o.items.length;e<n;e++)r=o.options[o.items[e]][o.settings.labelField]||"",i.push('<option value="'+T(o.items[e])+'" selected="selected">'+T(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),o.$input.html(i.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(t.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,r,o,a,s,l,u,c,d=this;if(r=e&&e.keyCode===g?-1:1,o=$(d.$control_input[0]),d.$activeOption&&!d.settings.hideSelected&&(l=d.getAdjacentOption(d.$activeOption,-1).attr("data-value")),a=[],d.$activeItems.length){for(c=d.$control.children(".active:"+(r>0?"last":"first")),s=d.$control.children(":not(input)").index(c),r>0&&s++,n=0,i=d.$activeItems.length;n<i;n++)a.push(t(d.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(d.isFocused||"single"===d.settings.mode)&&d.items.length&&(r<0&&0===o.start&&0===o.length?a.push(d.items[d.caretPos-1]):r>0&&o.start===d.$control_input.val().length&&a.push(d.items[d.caretPos]));if(!a.length||"function"==typeof d.settings.onDelete&&!1===d.settings.onDelete.apply(d,[a]))return!1;for(void 0!==s&&d.setCaret(s);a.length;)d.removeItem(a.pop());return d.showInput(),d.positionDropdown(),d.refreshOptions(!0),l&&(u=d.getOption(l)).length&&d.setActiveOption(u),!0},advanceSelection:function(t,e){var n,i,r,o,a,s=this;0!==t&&(s.rtl&&(t*=-1),n=t>0?"last":"first",i=$(s.$control_input[0]),s.isFocused&&!s.isInputHidden?(o=s.$control_input.val().length,(t<0?0===i.start&&0===i.length:i.start===o)&&!o&&s.advanceCaret(t,e)):(a=s.$control.children(".active:"+n)).length&&(r=s.$control.children(":not(input)").index(a),s.setActiveItem(null),s.setCaret(t>0?r+1:r)))},advanceCaret:function(t,e){var n,i,r=this;0!==t&&(n=t>0?"next":"prev",r.isShiftDown?(i=r.$control_input[n]()).length&&(r.hideInput(),r.setActiveItem(i),e&&e.preventDefault()):r.setCaret(r.caretPos+t))},setCaret:function(e){var n,i,r,o,a=this;if(e="single"===a.settings.mode?a.items.length:Math.max(0,Math.min(a.items.length,e)),!a.isPending)for(n=0,i=(r=a.$control.children(":not(input)")).length;n<i;n++)o=t(r[n]).detach(),n<e?a.$control_input.before(o):a.$control.append(o);a.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,n=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(n),t(document).off(n),t(document.body).off(n),delete e.$input[0].selectize},render:function(e,n){var i,r,o="",a=!1,s=this;return"option"!==e&&"item"!==e||(a=!!(i=S(n[s.settings.valueField]))),a&&(k(s.renderCache[e])||(s.renderCache[e]={}),s.renderCache[e].hasOwnProperty(i))?s.renderCache[e][i]:(o=t(s.settings.render[e].apply(this,[n,T])),"option"===e||"option_create"===e?o.attr("data-selectable",""):"optgroup"===e&&(r=n[s.settings.optgroupValueField]||"",o.attr("data-group",r)),"option"!==e&&"item"!==e||o.attr("data-value",i||""),a&&(s.renderCache[e][i]=o[0]),o[0])},clearCache:function(t){var e=this;void 0===t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var n=e.settings.createFilter;return t.length&&("function"!=typeof n||n.apply(e,[t]))&&("string"!=typeof n||new RegExp(n).test(t))&&(!(n instanceof RegExp)||n.test(t))}}),N.count=0,N.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),r=i.dataAttr,o=i.labelField,a=i.valueField,s=i.optgroupField,l=i.optgroupLabelField,u=i.optgroupValueField,c=function(e,n){var s,l,u,c,d=e.attr(r);if(d)for(n.options=JSON.parse(d),s=0,l=n.options.length;s<l;s++)n.items.push(n.options[s][a]);else{var f=t.trim(e.val()||"");if(!i.allowEmptyOption&&!f.length)return;for(s=0,l=(u=f.split(i.delimiter)).length;s<l;s++)(c={})[o]=u[s],c[a]=u[s],n.options.push(c);n.items=u}},d=function(e,n){var c,d,f,h,p=n.options,g={},m=function(t){var e=r&&t.attr(r);return"string"==typeof e&&e.length?JSON.parse(e):null},v=function(e,r){e=t(e);var l=S(e.val());if(l||i.allowEmptyOption)if(g.hasOwnProperty(l)){if(r){var u=g[l][s];u?t.isArray(u)?u.push(r):g[l][s]=[u,r]:g[l][s]=r}}else{var c=m(e)||{};c[o]=c[o]||e.text(),c[a]=c[a]||l,c[s]=c[s]||r,g[l]=c,p.push(c),e.is(":selected")&&n.items.push(l)}},b=function(e){var i,r,o,a,s
;for((o=(e=t(e)).attr("label"))&&((a=m(e)||{})[l]=o,a[u]=o,n.optgroups.push(a)),i=0,r=(s=t("option",e)).length;i<r;i++)v(s[i],o)};for(n.maxItems=e.attr("multiple")?null:1,c=0,d=(h=e.children()).length;c<d;c++)"optgroup"===(f=h[c].tagName.toLowerCase())?b(h[c]):"option"===f&&v(h[c])};return this.each(function(){if(!this.selectize){var r=t(this),o=this.tagName.toLowerCase(),a=r.attr("placeholder")||r.attr("data-placeholder");a||i.allowEmptyOption||(a=r.children('option[value=""]').text());var s={placeholder:a,options:[],optgroups:[],items:[]};"select"===o?d(r,s):c(r,s),new N(r,t.extend(!0,{},n,s,e))}})},t.fn.selectize.defaults=N.defaults,t.fn.selectize.support={validity:C},N.define("drag_drop",function(){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var e,n=this;n.lock=(e=n.lock,function(){var t=n.$control.data("sortable");return t&&t.disable(),e.apply(n,arguments)}),n.unlock=function(){var t=n.unlock;return function(){var e=n.$control.data("sortable");return e&&e.enable(),t.apply(n,arguments)}}(),n.setup=function(){var e=n.setup;return function(){e.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var e=n.$activeItems?n.$activeItems.slice():null,r=[];i.children("[data-value]").each(function(){r.push(t(this).attr("data-value"))}),n.setValue(r),n.setActiveItem(e)}})}}()}}),N.define("dropdown_header",function(e){var n,i=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),i.setup=(n=i.setup,function(){n.apply(i,arguments),i.$dropdown_header=t(e.html(e)),i.$dropdown.prepend(i.$dropdown_header)})}),N.define("optgroup_columns",function(e){var n,i=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),r=i.index(e)+n;return r>=0&&r<i.length?i.eq(r):t()},this.onKeyDown=(n=i.onKeyDown,function(t){var e,r,o,a;return!this.isOpen||t.keyCode!==u&&t.keyCode!==f?n.apply(this,arguments):(i.ignoreHover=!0,e=(a=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((r=(o=(a=t.keyCode===u?a.prev("[data-group]"):a.next("[data-group]")).find("[data-selectable]")).eq(Math.min(o.length-1,e))).length&&this.setActiveOption(r)))});var r=function(){var t,e=r.width,n=document;return void 0===e&&((t=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=r.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},o=function(){var n,o,a,s,l,u,c;if((o=(c=t("[data-group]",i.$dropdown_content)).length)&&i.$dropdown_content.width()){if(e.equalizeHeight){for(a=0,n=0;n<o;n++)a=Math.max(a,c.eq(n).height());c.css({height:a})}e.equalizeWidth&&(u=i.$dropdown_content.innerWidth()-r(),s=Math.round(u/o),c.css({width:s}),o>1&&(l=u-s*(o-1),c.eq(o-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(M.after(this,"positionDropdown",o),M.after(this,"refreshOptions",o))}),N.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n=function(e,n){n.className="remove-single";var i,r=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+T(n.title)+'">'+n.label+"</a>",a=function(t,e){return t+e};e.setup=(i=r.setup,function(){if(n.append){var s=t(r.$input.context).attr("id"),l=(t("#"+s),r.settings.render.item);r.settings.render.item=function(){return a(l.apply(e,arguments),o)}}i.apply(e,arguments),e.$control.on("click","."+n.className,function(t){t.preventDefault(),r.isLocked||r.clear()})})},i=function(e,n){var i,r=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+T(n.title)+'">'+n.label+"</a>",a=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)};e.setup=(i=r.setup,function(){if(n.append){var s=r.settings.render.item;r.settings.render.item=function(){return a(s.apply(e,arguments),o)}}i.apply(e,arguments),e.$control.on("click","."+n.className,function(e){if(e.preventDefault(),!r.isLocked){var n=t(e.currentTarget).parent();r.setActiveItem(n),r.deleteSelection()&&r.setCaret(r.items.length)}})})};"single"!==this.settings.mode?i(this,e):n(this,e)}),N.define("restore_on_backspace",function(t){var e,n=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=(e=n.onKeyDown,function(n){var i,r;return n.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(r=this.options[this.items[i]],this.deleteSelection(n)&&(this.setTextboxValue(t.text.apply(this,[r])),this.refreshOptions(!0)),void n.preventDefault()):e.apply(this,arguments)})}),N}),
/**
 * Plugin: "disable_options" (selectize.js)
 * Copyright (c) 2013 Mondo Robot & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @authors Jake Myers <jmyers0022@gmail.com>, Vaughn Draughon <vaughn@rocksolidwebdesign.com>
 */
Selectize.define("disable_options",function(t){var e,n=this;t=$.extend({disableOptions:[]},t),n.onFocus=(e=n.onFocus,function(){e.apply(this,arguments),$.each(t.disableOptions,function(t,e){n.$dropdown_content.find('[data-value="'+String(e)+'"]').addClass("option-disabled")})}),n.onOptionSelect=function(){var t=n.onOptionSelect;return function(e){var i,r;if(e.preventDefault&&(e.preventDefault(),e.stopPropagation()),!(r=$(e.currentTarget)).hasClass("option-disabled"))return r.hasClass("create")?n.createItem():((i=r.attr("data-value"))&&(n.lastQuery=null,n.setTextboxValue(""),n.addItem(i),!n.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&n.setActiveOption(n.getOption(i))),n.blur()),t.apply(this,arguments)}}()}),function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}var n=function(e,n){var o=this;this.element=t(e),this.container=n.container||"body",this.language=n.language||this.element.data("date-language")||"en",this.language=this.language in i?this.language:"en",this.isRTL=i[this.language].rtl||!1,this.formatType=n.formatType||this.element.data("format-type")||"standard",this.format=r.parseFormat(n.format||this.element.data("date-format")||i[this.language].format||r.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.fontAwesome=n.fontAwesome||this.element.data("font-awesome")||!1,this.bootcssVer=n.bootcssVer||(this.isInput?this.element.is(".form-control")?3:2:this.bootcssVer=this.element.is(".input-group")?3:2),this.component=!!this.element.is(".date")&&(3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-calendar .fa-calendar .fa-clock-o").parent():this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar .fa-calendar .fa-clock-o").parent()),this.componentReset=!!this.element.is(".date")&&(3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-remove .fa-times").parent():this.element.find(".add-on .icon-remove .fa-times").parent()),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=n.linkField||this.element.data("link-field")||!1,this.linkFormat=r.parseFormat(n.linkFormat||this.element.data("link-format")||r.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=n.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=n.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=n.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=n.initialDate||new Date,this.icons={leftArrow:this.fontAwesome?"fa fa-arrow-left":3===this.bootcssVer?"glyphicon-arrow-left":"icon-arrow-left",rightArrow:this.fontAwesome?"fa fa-arrow-right":3===this.bootcssVer?"glyphicon-arrow-right":"icon-arrow-right"},this.icontype=this.fontAwesome?"fa":"glyphicon",this._attachEvents(),this.formatViewType="datetime","formatViewType"in n?this.formatViewType=n.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in n?this.minView=n.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=r.convertViewMode(this.minView),this.maxView=r.modes.length-1,"maxView"in n?this.maxView=n.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=r.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in n?this.wheelViewModeNavigation=n.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in n?this.wheelViewModeNavigationInverseDirection=n.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in n?this.wheelViewModeNavigationDelay=n.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in n?this.startViewMode=n.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=r.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in n?this.viewSelect=n.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=r.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in n?this.forceParse=n.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse"));for(var a=3===this.bootcssVer?r.templateV3:r.template;-1!==a.indexOf("{iconType}");)a=a.replace("{iconType}",this.icontype);for(;-1!==a.indexOf("{leftArrow}");)a=a.replace("{leftArrow}",this.icons.leftArrow);for(;-1!==a.indexOf("{rightArrow}");)a=a.replace("{rightArrow}",this.icons.rightArrow);if(this.picker=t(a).appendTo(this.isInline?this.element:this.container).on({click:t.proxy(this.click,this),mousedown:t.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&(t.fn.mousewheel?this.picker.on({mousewheel:t.proxy(this.mousewheel,this)}):console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),this.isInline?this.picker.addClass("datetimepicker-inline"):this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL){this.picker.addClass("datetimepicker-rtl");var s=3===this.bootcssVer?".prev span, .next span":".prev i, .next i";this.picker.find(s).toggleClass(this.icons.leftArrow+" "+this.icons.rightArrow)}t(document).on("mousedown",function(e){0===t(e.target).closest(".datetimepicker").length&&o.hide()}),this.autoclose=!1,"autoclose"in n?this.autoclose=n.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in n?this.keyboardNavigation=n.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=n.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=n.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=(n.weekStart||this.element.data("date-weekstart")||i[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-Infinity,this.endDate=Infinity,this.daysOfWeekDisabled=[],this.setStartDate(n.startDate||this.element.data("date-startdate")),this.setEndDate(n.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(n.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.setMinutesDisabled(n.minutesDisabled||this.element.data("date-minute-disabled")),this.setHoursDisabled(n.hoursDisabled||this.element.data("date-hour-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};n.prototype={constructor:n,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:t.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]];for(var e,n,i=0;i<this._events.length;i++)e=this._events[i][0],n=this._events[i][1],e.on(n)},_detachEvents:function(){for(var t,e,n=0;n<this._events.length;n++)t=this._events[n][0],e=this._events[n][1],t.off(e);this._events=[]},show:function(e){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),t(window).on("resize",t.proxy(this.place,this)),e&&(e.stopPropagation(),e.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(){this.isVisible&&(this.isInline||(this.picker.hide(),t(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||t(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){t>=this.startDate&&t<=this.endDate?(this.date=t,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:t,startDate:this.startDate,endDate:this.endDate})},setFormat:function(t){var e;this.format=r.parseFormat(t,this.formatType),this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val()&&this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e):(this.component&&this.element.find("input").val(e),this.element.data("date",e)),this.linkField&&t("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(t){return t==undefined&&(t=this.format),r.formatDate(this.date,t,this.language,this.formatType)},setStartDate:function(t){this.startDate=t||-Infinity,this.startDate!==-Infinity&&(this.startDate=r.parseDate(this.startDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setEndDate:function(t){this.endDate=t||Infinity,this.endDate!==Infinity&&(this.endDate=r.parseDate(this.endDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this.daysOfWeekDisabled=e||[],t.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=t.map(this.daysOfWeekDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},setMinutesDisabled:function(e){this.minutesDisabled=e||[],t.isArray(this.minutesDisabled)||(this.minutesDisabled=this.minutesDisabled.split(/,\s*/)),this.minutesDisabled=t.map(this.minutesDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},setHoursDisabled:function(e){this.hoursDisabled=e||[],t.isArray(this.hoursDisabled)||(this.hoursDisabled=this.hoursDisabled.split(/,\s*/)),this.hoursDisabled=t.map(this.hoursDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=0;t("div").each(function(){var n=parseInt(t(this).css("zIndex"),10);n>e&&(e=n)});var n,i,r,o,a=e+10;o=this.container instanceof t?this.container.offset():t(this.container).offset(),this.component?(r=(n=this.component.offset()).left,"bottom-left"!=this.pickerPosition&&"top-left"!=this.pickerPosition||(r+=this.component.outerWidth()-this.picker.outerWidth())):r=(n=this.element.offset()).left,r+220>document.body.clientWidth&&(r=document.body.clientWidth-220),i="top-left"==this.pickerPosition||"top-right"==this.pickerPosition?n.top-this.picker.outerHeight():n.top+this.height,i-=o.top,r-=o.left,this.picker.css({top:i,left:r,zIndex:a})}},update:function(){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):("string"==typeof(t=(this.isInput?this.element.val():this.element.find("input").val())||this.element.data("date")||this.initialDate)||t instanceof String)&&(t=t.replace(/^\s+|\s+$/g,"")),t||(t=new Date,e=!1),this.date=r.parseDate(t,this.format,this.language,this.formatType),e&&this.setValue(),this.date<this.startDate?this.viewDate=new Date(this.startDate):this.date>this.endDate?this.viewDate=new Date(this.endDate):this.viewDate=new Date(this.date),this.fill()},fillDow:function(){for(var t=this.weekStart,e="<tr>";t<this.weekStart+7;)e+='<th class="dow">'+i[this.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datetimepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+i[this.language].monthsShort[e++]+"</span>";this.picker.find(".datetimepicker-months td").html(t)},fill:function(){if(null!=this.date&&null!=this.viewDate){var n=new Date(this.viewDate),o=n.getUTCFullYear(),a=n.getUTCMonth(),s=n.getUTCDate(),l=n.getUTCHours(),u=n.getUTCMinutes(),c=this.startDate!==-Infinity?this.startDate.getUTCFullYear():-Infinity,d=this.startDate!==-Infinity?this.startDate.getUTCMonth()+1:-Infinity,f=this.endDate!==Infinity?this.endDate.getUTCFullYear():Infinity,h=this.endDate!==Infinity?this.endDate.getUTCMonth()+1:Infinity,p=new e(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),g=new Date;if(this.picker.find(".datetimepicker-days thead th:eq(1)").text(i[this.language].months[a]+" "+o),"time"==this.formatViewType){var m=l%12?l%12:12,v=(m<10?"0":"")+m,b=(u<10?"0":"")+u,y=i[this.language].meridiem[l<12?0:1];this.picker.find(".datetimepicker-hours thead th:eq(1)").text(v+":"+b+" "+(y?y.toUpperCase():"")),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(v+":"+b+" "+(y?y.toUpperCase():""))}else this.picker.find(".datetimepicker-hours thead th:eq(1)").text(s+" "+i[this.language].months[a]+" "+o),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(s+" "+i[this.language].months[a]+" "+o);this.picker.find("tfoot th.today").text(i[this.language].today).toggle(!1!==this.todayBtn),this.updateNavArrows(),this.fillMonths();var x=e(o,a-1,28,0,0,0,0),w=r.getDaysInMonth(x.getUTCFullYear(),x.getUTCMonth());x.setUTCDate(w),x.setUTCDate(w-(x.getUTCDay()-this.weekStart+7)%7);var _=new Date(x);_.setUTCDate(_.getUTCDate()+42),_=_.valueOf();for(var C,k=[];x.valueOf()<_;)x.getUTCDay()==this.weekStart&&k.push("<tr>"),C="",x.getUTCFullYear()<o||x.getUTCFullYear()==o&&x.getUTCMonth()<a?C+=" old":(x.getUTCFullYear()>o||x.getUTCFullYear()==o&&x.getUTCMonth()>a)&&(C+=" new"),this.todayHighlight&&x.getUTCFullYear()==g.getFullYear()&&x.getUTCMonth()==g.getMonth()&&x.getUTCDate()==g.getDate()&&(C+=" today"),x.valueOf()==p&&(C+=" active"),(x.valueOf()+864e5<=this.startDate||x.valueOf()>this.endDate||-1!==t.inArray(x.getUTCDay(),this.daysOfWeekDisabled))&&(C+=" disabled"),k.push('<td class="day'+C+'">'+x.getUTCDate()+"</td>"),x.getUTCDay()==this.weekEnd&&k.push("</tr>"),x.setUTCDate(x.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(k.join("")),k=[];for(var S="",T="",M="",D=this.hoursDisabled||[],A=0;A<24;A++){if(-1===D.indexOf(A))C="",(j=e(o,a,s,A)).valueOf()+36e5<=this.startDate||j.valueOf()>this.endDate?C+=" disabled":l==A&&(C+=" active"),this.showMeridian&&2==i[this.language].meridiem.length?((T=A<12?i[this.language].meridiem[0]:i[this.language].meridiem[1])!=M&&(""!=M&&k.push("</fieldset>"),k.push('<fieldset class="hour"><legend>'+T.toUpperCase()+"</legend>")),M=T,S=A%12?A%12:12,k.push('<span class="hour'+C+" hour_"+(A<12?"am":"pm")+'">'+S+"</span>"),23==A&&k.push("</fieldset>")):(S=A+":00",k.push('<span class="hour'+C+'">'+S+"</span>"))}this.picker.find(".datetimepicker-hours td").html(k.join("")),k=[],S="",T="",M="";var I=this.minutesDisabled||[];for(A=0;A<60;A+=this.minuteStep){var j;if(-1===I.indexOf(A))C="",(j=e(o,a,s,l,A,0)).valueOf()<this.startDate||j.valueOf()>this.endDate?C+=" disabled":Math.floor(u/this.minuteStep)==Math.floor(A/this.minuteStep)&&(C+=" active"),this.showMeridian&&2==i[this.language].meridiem.length?((T=l<12?i[this.language].meridiem[0]:i[this.language].meridiem[1])!=M&&(""!=M&&k.push("</fieldset>"),k.push('<fieldset class="minute"><legend>'+T.toUpperCase()+"</legend>")),M=T,S=l%12?l%12:12,k.push('<span class="minute'+C+'">'+S+":"+(A<10?"0"+A:A)+"</span>"),59==A&&k.push("</fieldset>")):(S=A+":00",k.push('<span class="minute'+C+'">'+l+":"+(A<10?"0"+A:A)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(k.join(""));var $=this.date.getUTCFullYear(),F=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");$==o&&F.eq(this.date.getUTCMonth()+2).addClass("active"),(o<c||o>f)&&F.addClass("disabled"),o==c&&F.slice(0,d+1).addClass("disabled"),o==f&&F.slice(h).addClass("disabled"),k="",o=10*parseInt(o/10,10);var E=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(A=-1;A<11;A++)k+='<span class="year'+(-1==A||10==A?" old":"")+($==o?" active":"")+(o<c||o>f?" disabled":"")+'">'+o+"</span>",o+=1;E.html(k),this.place()}},updateNavArrows:function(){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth(),i=t.getUTCDate(),r=t.getUTCHours();switch(this.viewMode){case 0:this.startDate!==-Infinity&&e<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()&&i<=this.startDate.getUTCDate()&&r<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==Infinity&&e>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()&&i>=this.endDate.getUTCDate()&&r>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:this.startDate!==-Infinity&&e<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()&&i<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==Infinity&&e>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()&&i>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:this.startDate!==-Infinity&&e<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==Infinity&&e>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:this.startDate!==-Infinity&&e<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==Infinity&&e>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},mousewheel:function(e){if(e.preventDefault(),e.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var n=e.originalEvent.wheelDelta,i=n>0?1:0===n?0:-1;this.wheelViewModeNavigationInverseDirection&&(i=-i),this.showMode(i),setTimeout(t.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(n){n.stopPropagation(),n.preventDefault();var i=t(n.target).closest("span, td, th, legend");if(i.is("."+this.icontype)&&(i=t(i).parent().closest("span, td, th, legend")),1==i.length){if(i.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var o=r.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,o);break;case 1:this.viewDate=this.moveDate(this.viewDate,o);break;case 2:this.viewDate=this.moveMonth(this.viewDate,o);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,o)}this.fill(),this.element.trigger({type:i[0].className+":"+this.convertViewModeText(this.viewMode),date:this.viewDate,startDate:this.startDate,endDate:this.endDate});break;case"today":var a=new Date;(a=e(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),0))<this.startDate?a=this.startDate:a>this.endDate&&(a=this.endDate),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(a),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!i.is(".disabled")){var s=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),u=this.viewDate.getUTCDate(),c=this.viewDate.getUTCHours(),d=this.viewDate.getUTCMinutes(),f=this.viewDate.getUTCSeconds();if(i.is(".month")?(this.viewDate.setUTCDate(1),l=i.parent().find("span").index(i),u=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(l),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(e(s,l,u,c,d,f,0))):i.is(".year")?(this.viewDate.setUTCDate(1),s=parseInt(i.text(),10)||0,this.viewDate.setUTCFullYear(s),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(e(s,l,u,c,d,f,0))):i.is(".hour")?(c=parseInt(i.text(),10)||0,(i.hasClass("hour_am")||i.hasClass("hour_pm"))&&(12==c&&i.hasClass("hour_am")?c=0:12!=c&&i.hasClass("hour_pm")&&(c+=12)),this.viewDate.setUTCHours(c),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(e(s,l,u,c,d,f,0))):i.is(".minute")&&(d=parseInt(i.text().substr(i.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(d),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(e(s,l,u,c,d,f,0))),0!=this.viewMode){var h=this.viewMode;this.showMode(-1),this.fill(),h==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){u=parseInt(i.text(),10)||1,s=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),c=this.viewDate.getUTCHours(),d=this.viewDate.getUTCMinutes(),f=this.viewDate.getUTCSeconds();i.is(".old")?0===l?(l=11,s-=1):l-=1:i.is(".new")&&(11==l?(l=0,s+=1):l+=1),this.viewDate.setUTCFullYear(s),this.viewDate.setUTCMonth(l,u),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(e(s,l,u,c,d,f,0))}h=this.viewMode;this.showMode(-1),this.fill(),h==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(t,e){var n;e&&"date"!=e||(this.date=t),e&&"view"!=e||(this.viewDate=t),this.fill(),this.setValue(),this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&(n.change(),this.autoclose),this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(t,e){if(!e)return t;var n=new Date(t.valueOf());return n.setUTCMinutes(n.getUTCMinutes()+e*this.minuteStep),n},moveHour:function(t,e){if(!e)return t;var n=new Date(t.valueOf());return n.setUTCHours(n.getUTCHours()+e),n},moveDate:function(t,e){if(!e)return t;var n=new Date(t.valueOf());return n.setUTCDate(n.getUTCDate()+e),n},moveMonth:function(t,e){if(!e)return t;var n,i,r=new Date(t.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),s=Math.abs(e);if(e=e>0?1:-1,1==s)i=-1==e?function(){return r.getUTCMonth()==a}:function(){return r.getUTCMonth()!=n},n=a+e,r.setUTCMonth(n),(n<0||n>11)&&(n=(n+12)%12);else{for(var l=0;l<s;l++)r=this.moveMonth(r,e);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!=r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.startDate&&t<=this.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))27==t.keyCode&&this.show();else{var e,n,i,r,o=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;e=37==t.keyCode?-1:1,viewMode=this.viewMode,t.ctrlKey?viewMode+=2:t.shiftKey&&(viewMode+=1),4==viewMode?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e)):3==viewMode?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e)):2==viewMode?(n=this.moveDate(this.date,e),i=this.moveDate(this.viewDate,e)):1==viewMode?(n=this.moveHour(this.date,e),i=this.moveHour(this.viewDate,e)):0==viewMode&&(n=this.moveMinute(this.date,e),i=this.moveMinute(this.viewDate,e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;e=38==t.keyCode?-1:1,viewMode=this.viewMode,t.ctrlKey?viewMode+=2:t.shiftKey&&(viewMode+=1),4==viewMode?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e)):3==viewMode?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e)):2==viewMode?(n=this.moveDate(this.date,7*e),i=this.moveDate(this.viewDate,7*e)):1==viewMode?this.showMeridian?(n=this.moveHour(this.date,6*e),i=this.moveHour(this.viewDate,6*e)):(n=this.moveHour(this.date,4*e),i=this.moveHour(this.viewDate,4*e)):0==viewMode&&(n=this.moveMinute(this.date,4*e),i=this.moveMinute(this.viewDate,4*e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 13:if(0!=this.viewMode){var a=this.viewMode;this.showMode(-1),this.fill(),a==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();t.preventDefault();break;case 9:this.hide()}if(o)this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change(),this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(t){if(t){var e=Math.max(0,Math.min(r.modes.length-1,this.viewMode+t));e>=this.minView&&e<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:e}),this.viewMode=e)}this.picker.find(">div").hide().filter(".datetimepicker-"+r.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(){this._setDate(null,"date")},convertViewModeText:function(t){switch(t){case 4:return"decade";case 3:return"year";case 2:return"month";case 1:return"day";case 0:return"hour"}}},t.fn.datetimepicker=function(e){var i,r=Array.apply(null,arguments);return r.shift(),this.each(function(){var o=t(this),a=o.data("datetimepicker"),s="object"==typeof e&&e;if(a||o.data("datetimepicker",a=new n(this,t.extend({},t.fn.datetimepicker.defaults,s))),"string"==typeof e&&"function"==typeof a[e]&&(i=a[e].apply(a,r))!==undefined)return!1}),i!==undefined?i:this},t.fn.datetimepicker.defaults={},t.fn.datetimepicker.Constructor=n;var i=t.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}},r={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,r.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},getDefaultFormat:function(t,e){if("standard"==t)return"input"==e?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"==t)return"input"==e?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(t){if("standard"==t)return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"==t)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(t,e){var n=t.replace(this.validParts(e),"\0").split("\0"),i=t.match(this.validParts(e));if(!n||!n.length||!i||0==i.length)throw new Error("Invalid date format.");return{separators:n,parts:i}},parseDate:function(r,o,a,s){if(r instanceof Date){var l=new Date(r.valueOf()-6e4*r.getTimezoneOffset());return l.setMilliseconds(0),l}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(r)&&(o=this.parseFormat("yyyy-mm-dd",s)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(r)&&(o=this.parseFormat("yyyy-mm-dd hh:ii",s)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(r)&&(o=this.parseFormat("yyyy-mm-dd hh:ii:ss",s)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(r)){var u,c=/([-+]\d+)([dmwy])/,d=r.match(/([-+]\d+)([dmwy])/g);r=new Date;for(var f=0;f<d.length;f++)switch(g=c.exec(d[f]),u=parseInt(g[1]),g[2]){case"d":r.setUTCDate(r.getUTCDate()+u);break;case"m":r=n.prototype.moveMonth.call(n.prototype,r,u);break;case"w":r.setUTCDate(r.getUTCDate()+7*u);break;case"y":r=n.prototype.moveYear.call(n.prototype,r,u)}return e(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),0)}d=r&&r.match(this.nonpunctuation)||[],r=new Date(0,0,0,0,0,0,0);var h,p,g,m={},v=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],b={hh:function(t,e){return t.setUTCHours(e)},h:function(t,e){return t.setUTCHours(e)},HH:function(t,e){return t.setUTCHours(12==e?0:e)},H:function(t,e){return t.setUTCHours(12==e?0:e)},ii:function(t,e){return t.setUTCMinutes(e)},i:function(t,e){return t.setUTCMinutes(e)},ss:function(t,e){return t.setUTCSeconds(e)},s:function(t,e){return t.setUTCSeconds(e)},yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;){if(isNaN(t.getUTCMonth()))return t;t.setUTCDate(t.getUTCDate()-1)}return t},d:function(t,e){return t.setUTCDate(e)},p:function(t,e){return t.setUTCHours(1==e?t.getUTCHours()+12:t.getUTCHours())}};if(b.M=b.MM=b.mm=b.m,b.dd=b.d,b.P=b.p,r=e(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds()),d.length==o.parts.length){f=0;for(var y=o.parts.length;f<y;f++){if(h=parseInt(d[f],10),g=o.parts[f],isNaN(h))switch(g){case"MM":p=t(i[a].months).filter(function(){var t=this.slice(0,d[f].length);return t==d[f].slice(0,t.length)}),h=t.inArray(p[0],i[a].months)+1;break;case"M":p=t(i[a].monthsShort).filter(function(){var t=this.slice(0,d[f].length),e=d[f].slice(0,t.length);return t.toLowerCase()==e.toLowerCase()}),h=t.inArray(p[0],i[a].monthsShort)+1;break;case"p":case"P":h=t.inArray(d[f].toLowerCase(),i[a].meridiem)}m[g]=h}var x;for(f=0;f<v.length;f++)(x=v[f])in m&&!isNaN(m[x])&&b[x](r,m[x])}return r},formatDate:function(e,n,o,a){if(null==e)return"";var s;if("standard"==a)s={yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear(),m:e.getUTCMonth()+1,M:i[o].monthsShort[e.getUTCMonth()],MM:i[o].months[e.getUTCMonth()],d:e.getUTCDate(),D:i[o].daysShort[e.getUTCDay()],DD:i[o].days[e.getUTCDay()],p:2==i[o].meridiem.length?i[o].meridiem[e.getUTCHours()<12?0:1]:"",h:e.getUTCHours(),i:e.getUTCMinutes(),s:e.getUTCSeconds()},2==i[o].meridiem.length?s.H=s.h%12==0?12:s.h%12:s.H=s.h,s.HH=(s.H<10?"0":"")+s.H,s.P=s.p.toUpperCase(),s.hh=(s.h<10?"0":"")+s.h,s.ii=(s.i<10?"0":"")+s.i,s.ss=(s.s<10?"0":"")+s.s,s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m;else{if("php"!=a)throw new Error("Invalid format type.");(s={y:e.getUTCFullYear().toString().substring(2),Y:e.getUTCFullYear(),F:i[o].months[e.getUTCMonth()],M:i[o].monthsShort[e.getUTCMonth()],n:e.getUTCMonth()+1,t:r.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth()),j:e.getUTCDate(),l:i[o].days[e.getUTCDay()],D:i[o].daysShort[e.getUTCDay()],w:e.getUTCDay(),N:0==e.getUTCDay()?7:e.getUTCDay(),S:e.getUTCDate()%10<=i[o].suffix.length?i[o].suffix[e.getUTCDate()%10-1]:"",a:2==i[o].meridiem.length?i[o].meridiem[e.getUTCHours()<12?0:1]:"",g:e.getUTCHours()%12==0?12:e.getUTCHours()%12,G:e.getUTCHours(),i:e.getUTCMinutes(),s:e.getUTCSeconds()}).m=(s.n<10?"0":"")+s.n,s.d=(s.j<10?"0":"")+s.j,s.A=s.a.toString().toUpperCase(),s.h=(s.g<10?"0":"")+s.g,s.H=(s.G<10?"0":"")+s.G,s.i=(s.i<10?"0":"")+s.i,s.s=(s.s<10?"0":"")+s.s}e=[];for(var l=t.extend([],n.separators),u=0,c=n.parts.length;u<c;u++)l.length&&e.push(l.shift()),e.push(s[n.parts[u]]);return l.length&&e.push(l.shift()),e.join("")},convertViewMode:function(t){switch(t){case 4:case"decade":t=4;break;case 3:case"year":t=3;break;case 2:
case"month":t=2;break;case 1:case"day":t=1;break;case 0:case"hour":t=0}return t},headTemplate:'<thead><tr><th class="prev"><i class="{leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{rightArrow}"/></th></tr></thead>',headTemplateV3:'<thead><tr><th class="prev"><span class="{iconType} {leftArrow}"></span> </th><th colspan="5" class="switch"></th><th class="next"><span class="{iconType} {rightArrow}"></span> </th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};r.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table></div></div>",r.templateV3='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+r.headTemplateV3+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+r.headTemplateV3+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+r.headTemplateV3+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+r.headTemplateV3+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+r.headTemplateV3+r.contTemplate+r.footTemplate+"</table></div></div>",t.fn.datetimepicker.DPGlobal=r,t.fn.datetimepicker.noConflict=function(){return t.fn.datetimepicker=old,this},t(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(e){var n=t(this);n.data("datetimepicker")||(e.preventDefault(),n.datetimepicker("show"))}),t(function(){t('[data-provide="datetimepicker-inline"]').datetimepicker()})}(window.jQuery),function(){function t(t){function e(e,n,i,r,o,a){for(;o>=0&&o<a;o+=t){var s=r?r[o]:o;i=n(i,e[s],s,e)}return i}return function(n,i,r,o){i=y(i,o,4);var a=!T(n)&&b.keys(n),s=(a||n).length,l=t>0?0:s-1;return arguments.length<3&&(r=n[a?a[l]:l],l+=t),e(n,i,r,a,l,s)}}function e(t){return function(e,n,i){n=x(n,i);for(var r=S(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function n(t,e,n){return function(i,r,o){var a=0,s=S(i);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=e(c.call(i,a,s),b.isNaN))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(i[o]===r)return o;return-1}}function i(t,e){var n=j.length,i=t.constructor,r=b.isFunction(i)&&i.prototype||s,o="constructor";for(b.has(t,o)&&!b.contains(e,o)&&e.push(o);n--;)(o=j[n])in t&&t[o]!==r[o]&&!b.contains(e,o)&&e.push(o)}var r=this,o=r._,a=Array.prototype,s=Object.prototype,l=Function.prototype,u=a.push,c=a.slice,d=s.toString,f=s.hasOwnProperty,h=Array.isArray,p=Object.keys,g=l.bind,m=Object.create,v=function(){},b=function(t){return t instanceof b?t:this instanceof b?void(this._wrapped=t):new b(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports._=b):r._=b,b.VERSION="1.8.3";var y=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},x=function(t,e,n){return null==t?b.identity:b.isFunction(t)?y(t,e,n):b.isObject(t)?b.matcher(t):b.property(t)};b.iteratee=function(t,e){return x(t,e,Infinity)};var w=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var u=a[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}},_=function(t){if(!b.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},k=Math.pow(2,53)-1,S=C("length"),T=function(t){var e=S(t);return"number"==typeof e&&e>=0&&e<=k};b.each=b.forEach=function(t,e,n){var i,r;if(e=y(e,n),T(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=b.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},b.map=b.collect=function(t,e,n){e=x(e,n);for(var i=!T(t)&&b.keys(t),r=(i||t).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o},b.reduce=b.foldl=b.inject=t(1),b.reduceRight=b.foldr=t(-1),b.find=b.detect=function(t,e,n){var i;if(void 0!==(i=T(t)?b.findIndex(t,e,n):b.findKey(t,e,n))&&-1!==i)return t[i]},b.filter=b.select=function(t,e,n){var i=[];return e=x(e,n),b.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},b.reject=function(t,e,n){return b.filter(t,b.negate(x(e)),n)},b.every=b.all=function(t,e,n){e=x(e,n);for(var i=!T(t)&&b.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0},b.some=b.any=function(t,e,n){e=x(e,n);for(var i=!T(t)&&b.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1},b.contains=b.includes=b.include=function(t,e,n,i){return T(t)||(t=b.values(t)),("number"!=typeof n||i)&&(n=0),b.indexOf(t,e,n)>=0},b.invoke=function(t,e){var n=c.call(arguments,2),i=b.isFunction(e);return b.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},b.pluck=function(t,e){return b.map(t,b.property(e))},b.where=function(t,e){return b.filter(t,b.matcher(e))},b.findWhere=function(t,e){return b.find(t,b.matcher(e))},b.max=function(t,e,n){var i,r,o=-Infinity,a=-Infinity;if(null==e&&null!=t)for(var s=0,l=(t=T(t)?t:b.values(t)).length;s<l;s++)(i=t[s])>o&&(o=i);else e=x(e,n),b.each(t,function(t,n,i){((r=e(t,n,i))>a||r===-Infinity&&o===-Infinity)&&(o=t,a=r)});return o},b.min=function(t,e,n){var i,r,o=Infinity,a=Infinity;if(null==e&&null!=t)for(var s=0,l=(t=T(t)?t:b.values(t)).length;s<l;s++)(i=t[s])<o&&(o=i);else e=x(e,n),b.each(t,function(t,n,i){((r=e(t,n,i))<a||r===Infinity&&o===Infinity)&&(o=t,a=r)});return o},b.shuffle=function(t){for(var e,n=T(t)?t:b.values(t),i=n.length,r=Array(i),o=0;o<i;o++)(e=b.random(0,o))!==o&&(r[o]=r[e]),r[e]=n[o];return r},b.sample=function(t,e,n){return null==e||n?(T(t)||(t=b.values(t)),t[b.random(t.length-1)]):b.shuffle(t).slice(0,Math.max(0,e))},b.sortBy=function(t,e,n){return e=x(e,n),b.pluck(b.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var M=function(t){return function(e,n,i){var r={};return n=x(n,i),b.each(e,function(i,o){var a=n(i,o,e);t(r,i,a)}),r}};b.groupBy=M(function(t,e,n){b.has(t,n)?t[n].push(e):t[n]=[e]}),b.indexBy=M(function(t,e,n){t[n]=e}),b.countBy=M(function(t,e,n){b.has(t,n)?t[n]++:t[n]=1}),b.toArray=function(t){return t?b.isArray(t)?c.call(t):T(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:T(t)?t.length:b.keys(t).length},b.partition=function(t,e,n){e=x(e,n);var i=[],r=[];return b.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},b.first=b.head=b.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:b.initial(t,t.length-e)},b.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},b.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:b.rest(t,Math.max(0,t.length-e))},b.rest=b.tail=b.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},b.compact=function(t){return b.filter(t,b.identity)};var D=function(t,e,n,i){for(var r=[],o=0,a=i||0,s=S(t);a<s;a++){var l=t[a];if(T(l)&&(b.isArray(l)||b.isArguments(l))){e||(l=D(l,e,n));var u=0,c=l.length;for(r.length+=c;u<c;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};b.flatten=function(t,e){return D(t,e,!1)},b.without=function(t){return b.difference(t,c.call(arguments,1))},b.uniq=b.unique=function(t,e,n,i){b.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=x(n,i));for(var r=[],o=[],a=0,s=S(t);a<s;a++){var l=t[a],u=n?n(l,a,t):l;e?(a&&o===u||r.push(l),o=u):n?b.contains(o,u)||(o.push(u),r.push(l)):b.contains(r,l)||r.push(l)}return r},b.union=function(){return b.uniq(D(arguments,!0,!0))},b.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=S(t);i<r;i++){var o=t[i];if(!b.contains(e,o)){for(var a=1;a<n&&b.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},b.difference=function(t){var e=D(arguments,!0,!0,1);return b.filter(t,function(t){return!b.contains(e,t)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(t){for(var e=t&&b.max(t,S).length||0,n=Array(e),i=0;i<e;i++)n[i]=b.pluck(t,i);return n},b.object=function(t,e){for(var n={},i=0,r=S(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},b.findIndex=e(1),b.findLastIndex=e(-1),b.sortedIndex=function(t,e,n,i){for(var r=(n=x(n,i,1))(e),o=0,a=S(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o},b.indexOf=n(1,b.findIndex,b.sortedIndex),b.lastIndexOf=n(-1,b.findLastIndex),b.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var A=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=_(t.prototype),a=t.apply(o,r);return b.isObject(a)?a:o};b.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return A(t,i,e,this,n.concat(c.call(arguments)))};return i},b.partial=function(t){var e=c.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),a=0;a<r;a++)o[a]=e[a]===b?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return A(t,n,this,this,o)};return n},b.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=b.bind(t[n],t);return t},b.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return b.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},b.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},b.defer=b.partial(b.delay,b,1),b.throttle=function(t,e,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:b.now(),a=null,o=t.apply(i,r),a||(i=r=null)};return function(){var u=b.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return i=this,r=arguments,c<=0||c>e?(a&&(clearTimeout(a),a=null),s=u,o=t.apply(i,r),a||(i=r=null)):a||!1===n.trailing||(a=setTimeout(l,c)),o}},b.debounce=function(t,e,n){var i,r,o,a,s,l=function(){var u=b.now()-a;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,n||(s=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=b.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(s=t.apply(o,r),o=r=null),s}},b.wrap=function(t,e){return b.partial(e,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},b.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},b.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},b.once=b.partial(b.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),j=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(t){if(!b.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)b.has(t,n)&&e.push(n);return I&&i(t,e),e},b.allKeys=function(t){if(!b.isObject(t))return[];var e=[];for(var n in t)e.push(n);return I&&i(t,e),e},b.values=function(t){for(var e=b.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},b.mapObject=function(t,e,n){e=x(e,n);for(var i,r=b.keys(t),o=r.length,a={},s=0;s<o;s++)a[i=r[s]]=e(t[i],i,t);return a},b.pairs=function(t){for(var e=b.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},b.invert=function(t){for(var e={},n=b.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},b.functions=b.methods=function(t){var e=[];for(var n in t)b.isFunction(t[n])&&e.push(n);return e.sort()},b.extend=w(b.allKeys),b.extendOwn=b.assign=w(b.keys),b.findKey=function(t,e,n){e=x(e,n);for(var i,r=b.keys(t),o=0,a=r.length;o<a;o++)if(e(t[i=r[o]],i,t))return i},b.pick=function(t,e,n){var i,r,o={},a=t;if(null==a)return o;b.isFunction(e)?(r=b.allKeys(a),i=y(e,n)):(r=D(arguments,!1,!1,1),i=function(t,e,n){return e in n},a=Object(a));for(var s=0,l=r.length;s<l;s++){var u=r[s],c=a[u];i(c,u,a)&&(o[u]=c)}return o},b.omit=function(t,e,n){if(b.isFunction(e))e=b.negate(e);else{var i=b.map(D(arguments,!1,!1,1),String);e=function(t,e){return!b.contains(i,e)}}return b.pick(t,e,n)},b.defaults=w(b.allKeys,!0),b.create=function(t,e){var n=_(t);return e&&b.extendOwn(n,e),n},b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,e){return e(t),t},b.isMatch=function(t,e){var n=b.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0};var $=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof b&&(t=t._wrapped),e instanceof b&&(e=e._wrapped);var r=d.call(t);if(r!==d.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!$(t[l],e[l],n,i))return!1}else{var u,c=b.keys(t);if(l=c.length,b.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!b.has(e,u)||!$(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};b.isEqual=function(t,e){return $(t,e)},b.isEmpty=function(t){return null==t||(T(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length)},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=h||function(t){return"[object Array]"===d.call(t)},b.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){b["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),b.isArguments(arguments)||(b.isArguments=function(t){return b.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&t!==+t},b.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===d.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,e){return null!=t&&f.call(t,e)},b.noConflict=function(){return r._=o,this},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=C,b.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(e){return b.isMatch(e,t)}},b.times=function(t,e,n){var i=Array(Math.max(0,t));e=y(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},b.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},E=b.invert(F),O=function(t){var e=function(e){return t[e]},n="(?:"+b.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};b.escape=O(F),b.unescape=O(E),b.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),b.isFunction(i)?i.call(t):i};var P=0;b.uniqueId=function(t){var e=++P+"";return t?t+e:e},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,R=function(t){return"\\"+N[t]};b.template=function(t,e,n){!e&&n&&(e=n),e=b.defaults({},e,b.templateSettings);var i=RegExp([(e.escape||L).source,(e.interpolate||L).source,(e.evaluate||L).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,a,s){return o+=t.slice(r,s).replace(B,R),r=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(u){throw u.source=o,u}var s=function(t){return a.call(this,t,b)},l=e.variable||"obj";return s.source="function("+l+"){\n"+o+"}",s},b.chain=function(t){var e=b(t);return e._chain=!0,e};var z=function(t,e){return t._chain?b(e).chain():e};b.mixin=function(t){b.each(b.functions(t),function(e){var n=b[e]=t[e];b.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),z(this,n.apply(b,t))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];b.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),b.each(["concat","join","slice"],function(t){var e=a[t];b.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}.call(this),function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function r(t){return!isNaN(t)}function o(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}function a(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function u(){this._=Object.create(null)}function c(t){return(t+="")===ya||t[0]===xa?xa+t:t}function d(t){return(t+="")[0]===xa?t.slice(1):t}function f(t){return c(t)in this._}function h(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(d(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function b(t){return t}function y(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function x(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=wa.length;n<i;++n){var r=wa[n]+e;if(r in t)return r}}function w(){}function _(){}function C(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new u;return e.on=function(e,r){var o,a=i.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function k(){la.event.preventDefault()}function S(){for(var t,e=la.event;t=e.sourceEvent;)e=t;return e}function T(t){for(var e=new _,n=0,i=arguments.length;++n<i;)e[arguments[n]]=C(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=la.event;r.target=t,la.event=r,e[r.type].apply(n,i)}finally{la.event=o}}},e}function M(t){return Ca(t,Ma),t}function D(t){return"function"==typeof t?t:function(){return ka(t,this)}}function A(t){return"function"==typeof t?t:function(){return Sa(t,this)}}function I(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=la.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:a:t.local?o:r}function j(t){return t.trim().replace(/\s+/g," ")}function $(t){return new RegExp("(?:^|\\s+)"+la.requote(t)+"(?:\\s+|$)","g")}function F(t){return(t+"").trim().split(/^|\s+/)}function E(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}var r=(t=F(t).map(O)).length;return"function"==typeof e?i:n}function O(t){var e=$(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",j(r+" "+t))):n.setAttribute("class",j(r.replace(e," ")))}}function P(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function o(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?o:r}function L(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function N(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=la.ns.qualify(t)).local?n:e}function B(){var t=this.parentNode;t&&t.removeChild(this)}function R(t){return{__data__:t}}function z(t){return function(){return Ta(this,t)}}function H(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function U(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,o=t[n],a=0,s=o.length;a<s;a++)(r=o[a])&&e(r,a,n);return t}function q(t){return Ca(t,Aa),t}function W(t){var e,n;return function(i,r,o){var a,s=t[o].update,l=s.length;for(o!=n&&(n=o,e=0),r>=e&&(e=r+1);!(a=s[e])&&++e<l;);return a}}function V(t,e,n){function i(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function r(){var r=l(e,ca(arguments));i.call(this),this.addEventListener(t,this[a]=r,r.$=n),r._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+la.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var a="__on"+t,s=t.indexOf("."),l=Y;s>0&&(t=t.slice(0,s));var u=Ia.get(t);return u&&(t=u,l=X),s?e?r:i:e?w:o}function Y(t,e){return function(n){var i=la.event;la.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{la.event=i}}}function X(t,e){var n=Y(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function G(n){var i=".dragsuppress-"+ ++$a,r="click"+i,o=la.select(e(n)).on("touchmove"+i,k).on("dragstart"+i,k).on("selectstart"+i,k);if(null==ja&&(ja=!("onselectstart"in n)&&x(n.style,"userSelect")),ja){var a=t(n).style,s=a[ja];a[ja]="none"}return function(t){if(o.on(i,null),ja&&(a[ja]=s),t){var e=function(){o.on(r,null)};o.on(r,function(){k(),e()},!0),setTimeout(e,0)}}}function Z(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(Fa<0){var o=e(t);if(o.scrollX||o.scrollY){var a=(i=la.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Fa=!(a.f||a.e),i.remove()}}return Fa?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function K(){return la.event.changedTouches[0].identifier}function J(t){return t>0?1:t<0?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:t<-1?Pa:Math.acos(t)}function et(t){return t>1?Ba:t<-1?-Ba:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):wt(""+t,_t,st):new st(t,e,n)}function lt(t,e,n){function i(t){return t>360?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,o=2*(n=n<0?0:n>1?1:n)-(a=n<=.5?n*(1+e):n+e-n*e),new vt(r(t+120),r(t),r(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):ht(t instanceof dt?t.l:(t=Ct((t=la.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new dt(n,Math.cos(t*=Ra)*e,Math.sin(t)*e)}function dt(t,e,n){return this instanceof dt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof dt?new dt(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):Ct((t=vt(t)).r,t.g,t.b):new dt(t,e,n)}function ft(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return new vt(mt(3.2404542*(r=pt(r)*Ka)-1.5371385*(i=pt(i)*Ja)-.4985314*(o=pt(o)*Qa)),mt(-.969266*r+1.8760108*i+.041556*o),mt(.0556434*r-.2040259*i+1.0572252*o))}function ht(t,e,n){return t>0?new ut(Math.atan2(n,e)*za,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):wt(""+t,vt,lt):new vt(t,e,n)}function bt(t){return new vt(t>>16,t>>8&255,255&t)}function yt(t){return bt(t)+""}function xt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function wt(t,e,n){var i,r,o,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(St(r[0]),St(r[1]),St(r[2]))}return(o=ns.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function _t(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(r=l<.5?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=l>0&&l<1?0:i),new st(i,r,l)}function Ct(t,e,n){var i=gt((.4124564*(t=kt(t))+.3575761*(e=kt(e))+.1804375*(n=kt(n)))/Ka),r=gt((.2126729*t+.7151522*e+.072175*n)/Ja);return dt(116*r-16,500*(i-r),200*(r-gt((.0193339*t+.119192*e+.9503041*n)/Qa)))}function kt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function St(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Tt(t){return"function"==typeof t?t:function(){return t}}function Mt(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Dt(e,n,t,i)}}function Dt(t,e,n,i){function r(){var t,e=l.status;if(!e&&It(l)||e>=200&&e<300||304===e){try{t=n.call(o,l)}catch(i){return void a.error.call(o,i)}a.load.call(o,t)}else a.error.call(o,l)}var o={},a=la.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=la.event;la.event=t;try{a.progress.call(o,l)}finally{la.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(ca(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),a.beforesend.call(o,l),l.send(null==i?null:i),o},o.abort=function(){return l.abort(),o},la.rebind(o,a,"on"),null==i?o:o.get(At(i))}function At(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function It(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function jt(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,n:null};return rs?rs.n=r:is=r,rs=r,os||(as=clearTimeout(as),os=1,ss($t)),r}function $t(){var t=Ft(),e=Et()-t;e>24?(isFinite(e)&&(clearTimeout(as),as=setTimeout($t,e)),os=0):(os=1,ss($t))}function Ft(){for(var t=Date.now(),e=is;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Et(){for(var t,e=is,n=Infinity;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:is=e.n;return rs=t,n}function Ot(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Pt(t,e){var n=Math.pow(10,3*ba(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Lt(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,o=i&&n?function(t,e){for(var r=t.length,o=[],a=0,s=i[0],l=0;r>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>e));)s=i[a=(a+1)%i.length];return o.reverse().join(n)}:b;return function(t){var n=us.exec(t),i=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],d=n[7],f=n[8],h=n[9],p=1,g="",m="",v=!1,b=!0;switch(f&&(f=+f.substring(1)),(u||"0"===i&&"="===a)&&(u=i="0",a="="),h){case"n":d=!0,h="g";break;case"%":p=100,m="%",h="f";break;case"p":p=100,m="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+h.toLowerCase());case"c":b=!1;case"d":v=!0,f=0;break;case"s":p=-1,h="r"}"$"===l&&(g=r[0],m=r[1]),"r"!=h||f||(h="g"),null!=f&&("g"==h?f=Math.max(1,Math.min(21,f)):"e"!=h&&"f"!=h||(f=Math.max(0,Math.min(20,f)))),h=cs.get(h)||Nt;var y=u&&d;return function(t){var n=m;if(v&&t%1)return"";var r=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(p<0){var l=la.formatPrefix(t,f);t=l.scale(t),n=l.symbol+m}else t*=p;var x,w,_=(t=h(t,f)).lastIndexOf(".");if(_<0){var C=b?t.lastIndexOf("e"):-1;C<0?(x=t,w=""):(x=t.substring(0,C),w=t.substring(C))}else x=t.substring(0,_),w=e+t.substring(_+1);!u&&d&&(x=o(x,Infinity));var k=g.length+x.length+w.length+(y?0:r.length),S=k<c?new Array(k=c-k+1).join(i):"";return y&&(x=o(S+x,S.length?c-w.length:Infinity)),r+=g,t=x+w,("<"===a?r+t+S:">"===a?S+r+t:"^"===a?S.substring(0,k>>=1)+r+t+S.substring(k):r+(y?t:S+t))+n}}}function Nt(t){return t+""}function Bt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Rt(t,e,n){function i(e){var n=t(e),i=o(n,1);return e-n<i-e?n:i}function r(n){return e(n=t(new fs(n-1)),1),n}function o(t,n){return e(t=new fs(+t),n),t}function a(t,i,o){var a=r(t),s=[];if(o>1)for(;a<i;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<i;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{fs=Bt;var i=new Bt;return i._=t,a(i,e,n)}finally{fs=Date}}t.floor=t,t.round=i,t.ceil=r,
t.offset=o,t.range=a;var l=t.utc=zt(t);return l.floor=l,l.round=zt(i),l.ceil=zt(r),l.offset=zt(o),l.range=s,t}function zt(t){return function(e,n){try{fs=Bt;var i=new Bt;return i._=e,t(i,n)._}finally{fs=Date}}}function Ht(t){function e(t){function e(e){for(var n,r,o,a=[],s=-1,l=0;++s<i;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(r=ps[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=D[n])&&(n=o(e,null==r?"e"===n?" ":"0":r)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(i,t,e,0)!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var r=null!=i.Z&&fs!==Bt,o=new(r?Bt:fs);return"j"in i?o.setFullYear(i.y,0,i.j):"W"in i||"U"in i?("w"in i||(i.w="W"in i?1:0),o.setFullYear(i.y,0,1),o.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(o.getDay()+5)%7:i.w+7*i.U-(o.getDay()+6)%7)):o.setFullYear(i.y,i.m,i.d),o.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),r?o._:o},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,o,a,s=0,l=e.length,u=n.length;s<l;){if(i>=u)return-1;if(37===(r=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=A[a in ps?e.charAt(s++):a])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){_.lastIndex=0;var i=_.exec(e.slice(n));return i?(t.w=C.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){x.lastIndex=0;var i=x.exec(e.slice(n));return i?(t.w=w.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){T.lastIndex=0;var i=T.exec(e.slice(n));return i?(t.m=M.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){k.lastIndex=0;var i=k.exec(e.slice(n));return i?(t.m=S.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,i){return n(t,D.c.toString(),e,i)}function l(t,e,i){return n(t,D.x.toString(),e,i)}function u(t,e,i){return n(t,D.X.toString(),e,i)}function c(t,e,n){var i=y.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var d=t.dateTime,f=t.date,h=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,b=t.shortMonths;e.utc=function(t){function n(t){try{var e=new(fs=Bt);return e._=t,i(e)}finally{fs=Date}}var i=e(t);return n.parse=function(t){try{fs=Bt;var e=i.parse(t);return e&&e._}finally{fs=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=le;var y=la.map(),x=qt(g),w=Wt(g),_=qt(m),C=Wt(m),k=qt(v),S=Wt(v),T=qt(b),M=Wt(b);p.forEach(function(t,e){y.set(t.toLowerCase(),e)});var D={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return b[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(d),d:function(t,e){return Ut(t.getDate(),e,2)},e:function(t,e){return Ut(t.getDate(),e,2)},H:function(t,e){return Ut(t.getHours(),e,2)},I:function(t,e){return Ut(t.getHours()%12||12,e,2)},j:function(t,e){return Ut(1+ds.dayOfYear(t),e,3)},L:function(t,e){return Ut(t.getMilliseconds(),e,3)},m:function(t,e){return Ut(t.getMonth()+1,e,2)},M:function(t,e){return Ut(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Ut(t.getSeconds(),e,2)},U:function(t,e){return Ut(ds.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ut(ds.mondayOfYear(t),e,2)},x:e(f),X:e(h),y:function(t,e){return Ut(t.getFullYear()%100,e,2)},Y:function(t,e){return Ut(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},A={a:i,A:r,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Qt,M:ie,p:c,S:re,U:Yt,w:Vt,W:Xt,x:l,X:u,y:Zt,Y:Gt,Z:Kt,"%":se};return e}function Ut(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function qt(t){return new RegExp("^(?:"+t.map(la.requote).join("|")+")","i")}function Wt(t){for(var e=new u,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Vt(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Yt(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Xt(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Gt(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Zt(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+2));return i?(t.y=Jt(+i[0]),n+i[0].length):-1}function Kt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Jt(t){return t+(t>68?1900:2e3)}function Qt(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function te(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ee(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ne(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ie(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function re(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function oe(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=ba(e)/60|0,r=ba(e)%60;return n+Ut(i,"0",2)+Ut(r,"0",2)}function se(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function le(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function ue(){}function ce(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function de(t,e){t&&xs.hasOwnProperty(t.type)&&xs[t.type](t,e)}function fe(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function he(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)fe(t[n],e,1);e.polygonEnd()}function pe(){function t(t,e){e=e*Ra/2+Pa/4;var n=(t*=Ra)-i,a=n>=0?1:-1,s=a*n,l=Math.cos(e),u=Math.sin(e),c=o*u,d=r*l+c*Math.cos(s),f=c*a*Math.sin(s);Fs.add(Math.atan2(f,d)),i=t,r=l,o=u}var e,n,i,r,o;Es.point=function(a,s){Es.point=t,i=(e=a)*Ra,r=Math.cos(s=(n=s)*Ra/2+Pa/4),o=Math.sin(s)},Es.lineEnd=function(){t(e,n)}}function ge(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function be(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ye(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function xe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function we(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function _e(t,e){return ba(t[0]-e[0])<Ea&&ba(t[1]-e[1])<Ea}function Ce(t,e){t*=Ra;var n=Math.cos(e*=Ra);ke(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function ke(t,e,n){ks+=(t-ks)/++_s,Ss+=(e-Ss)/_s,Ts+=(n-Ts)/_s}function Se(){function t(t,r){t*=Ra;var o=Math.cos(r*=Ra),a=o*Math.cos(t),s=o*Math.sin(t),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=n*l-i*s)*u+(u=i*a-e*l)*u+(u=e*s-n*a)*u),e*a+n*s+i*l);Cs+=u,Ms+=u*(e+(e=a)),Ds+=u*(n+(n=s)),As+=u*(i+(i=l)),ke(e,n,i)}var e,n,i;Os.point=function(r,o){r*=Ra;var a=Math.cos(o*=Ra);e=a*Math.cos(r),n=a*Math.sin(r),i=Math.sin(o),Os.point=t,ke(e,n,i)}}function Te(){Os.point=Ce}function Me(){function t(t,e){t*=Ra;var n=Math.cos(e*=Ra),a=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=r*l-o*s,c=o*a-i*l,d=i*s-r*a,f=Math.sqrt(u*u+c*c+d*d),h=i*a+r*s+o*l,p=f&&-tt(h)/f,g=Math.atan2(f,h);Is+=p*u,js+=p*c,$s+=p*d,Cs+=g,Ms+=g*(i+(i=a)),Ds+=g*(r+(r=s)),As+=g*(o+(o=l)),ke(i,r,o)}var e,n,i,r,o;Os.point=function(a,s){e=a,n=s,Os.point=t,a*=Ra;var l=Math.cos(s*=Ra);i=l*Math.cos(a),r=l*Math.sin(a),o=Math.sin(s),ke(i,r,o)},Os.lineEnd=function(){t(e,n),Os.lineEnd=Te,Os.point=Ce}}function De(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Ae(){return!0}function Ie(t,e,n,i,r){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(_e(n,i)){r.lineStart();for(var s=0;s<e;++s)r.point((n=t[s])[0],n[1]);r.lineEnd()}else{var l=new $e(n,t,null,!0),u=new $e(n,null,l,!1);l.o=u,o.push(l),a.push(u),u=new $e(i,null,l=new $e(i,t,null,!1),!0),l.o=u,o.push(l),a.push(u)}}}),a.sort(e),je(o),je(a),o.length){for(var s=0,l=n,u=a.length;s<u;++s)a[s].e=l=!l;for(var c,d,f=o[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(s=0,u=c.length;s<u;++s)r.point((d=c[s])[0],d[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(p)for(s=(c=h.p.z).length-1;s>=0;--s)r.point((d=c[s])[0],d[1]);else i(h.x,h.p.x,-1,r);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);r.lineEnd()}}}function je(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function $e(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Fe(t,e,n,i){return function(r,o){function a(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function s(t,e){var n=r(t,e);m.point(n[0],n[1])}function l(){b.point=s,m.lineStart()}function u(){b.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var n=r(t,e);x.point(n[0],n[1])}function d(){x.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),x.lineEnd();var t,e=x.clean(),n=y.buffer(),i=n.length;if(g.pop(),p.push(g),g=null,i)if(1&e){var r,a=-1;if((i=(t=n[0]).length-1)>0){for(w||(o.polygonStart(),w=!0),o.lineStart();++a<i;)o.point((r=t[a])[0],r[1]);o.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Ee))}var h,p,g,m=e(o),v=r.invert(i[0],i[1]),b={point:a,lineStart:l,lineEnd:u,polygonStart:function(){b.point=c,b.lineStart=d,b.lineEnd=f,h=[],p=[]},polygonEnd:function(){b.point=a,b.lineStart=l,b.lineEnd=u,h=la.merge(h);var t=Re(v,p);h.length?(w||(o.polygonStart(),w=!0),Ie(h,Pe,t,n,o)):t&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),h=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},y=Oe(),x=e(y),w=!1;return b}}function Ee(t){return t.length>1}function Oe(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:w,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Pe(t,e){return((t=t.x)[0]<0?t[1]-Ba-Ea:Ba-t[1])-((e=e.x)[0]<0?e[1]-Ba-Ea:Ba-e[1])}function Le(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Pa:-Pa,l=ba(o-n);ba(l-Pa)<Ea?(t.point(n,i=(i+a)/2>0?Ba:-Ba),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&l>=Pa&&(ba(n-r)<Ea&&(n-=r*Ea),ba(o-s)<Ea&&(o-=s*Ea),i=Ne(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Ne(t,e,n,i){var r,o,a=Math.sin(t-n);return ba(a)>Ea?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*a)):(e+i)/2}function Be(t,e,n,i){var r;if(null==t)r=n*Ba,i.point(-Pa,r),i.point(0,r),i.point(Pa,r),i.point(Pa,0),i.point(Pa,-r),i.point(0,-r),i.point(-Pa,-r),i.point(-Pa,0),i.point(-Pa,r);else if(ba(t[0]-e[0])>Ea){var o=t[0]<e[0]?Pa:-Pa;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Re(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Fs.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var d=u[0],f=d[0],h=d[1]/2+Pa/4,p=Math.sin(h),g=Math.cos(h),m=1;;){m===c&&(m=0);var v=(t=u[m])[0],b=t[1]/2+Pa/4,y=Math.sin(b),x=Math.cos(b),w=v-f,_=w>=0?1:-1,C=_*w,k=C>Pa,S=p*y;if(Fs.add(Math.atan2(S*_*Math.sin(C),g*x+S*Math.cos(C))),o+=k?w+_*La:w,k^f>=n^v>=n){var T=ve(ge(d),ge(t));xe(T);var M=ve(r,T);xe(M);var D=(k^w>=0?-1:1)*et(M[2]);(i>D||i===D&&(T[0]||T[1]))&&(a+=k^w>=0?1:-1)}if(!m++)break;f=v,p=y,g=x,d=t}}return(o<-Ea||o<Ea&&Fs<0)^1&a}function ze(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,f){var h,p=[d,f],g=e(d,f),m=a?g?0:r(d,f):g?r(d+(d<0?Pa:-Pa),f):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(h=i(n,p),(_e(n,h)||_e(p,h))&&(p[0]+=Ea,p[1]+=Ea,g=e(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),h=i(p,n),t.point(h[0],h[1])):(h=i(n,p),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(s&&n&&a^g){var v;m&o||!(v=i(p,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&_e(n,p)||t.point(p[0],p[1]),n=p,l=g,o=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function i(t,e,n){var i=[1,0,0],r=ve(ge(t),ge(e)),a=me(r,r),s=r[0],l=a-s*s;if(!l)return!n&&t;var u=o*a/l,c=-o*s/l,d=ve(i,r),f=ye(i,u);be(f,ye(r,c));var h=d,p=me(f,h),g=me(h,h),m=p*p-g*(me(f,f)-1);if(!(m<0)){var v=Math.sqrt(m),b=ye(h,(-p-v)/g);if(be(b,f),b=we(b),!n)return b;var y,x=t[0],w=e[0],_=t[1],C=e[1];w<x&&(y=x,x=w,w=y);var k=w-x,S=ba(k-Pa)<Ea;if(!S&&C<_&&(y=_,_=C,C=y),S||k<Ea?S?_+C>0^b[1]<(ba(b[0]-x)<Ea?_:C):_<=b[1]&&b[1]<=C:k>Pa^(x<=b[0]&&b[0]<=w)){var T=ye(h,(-p+v)/g);return be(T,f),[b,we(T)]}}}function r(e,n){var i=a?t:Pa-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var o=Math.cos(t),a=o>0,s=ba(o)>Ea;return Fe(e,n,gn(t,6*Ra),a?[0,-t]:[-Pa,t-Pa])}function He(t,e,n,i){return function(r){var o,a=r.a,s=r.b,l=a.x,u=a.y,c=0,d=1,f=s.x-l,h=s.y-u;if(o=t-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<d&&(d=o)}else if(f>0){if(o>d)return;o>c&&(c=o)}if(o=n-l,f||!(o<0)){if(o/=f,f<0){if(o>d)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<d&&(d=o)}if(o=e-u,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>c&&(c=o)}if(o=i-u,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<d&&(d=o)}return c>0&&(r.a={x:l+c*f,y:u+c*h}),d<1&&(r.b={x:l+d*f,y:u+d*h}),r}}}}}}function Ue(t,e,n,i){function r(i,r){return ba(i[0]-t)<Ea?r>0?0:3:ba(i[0]-n)<Ea?r>0?2:1:ba(i[1]-e)<Ea?r>0?1:0:r>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=m.length,i=t[1],r=0;r<n;++r)for(var o,a=1,s=m[r],l=s.length,u=s[0];a<l;++a)o=s[a],u[1]<=i?o[1]>i&&Q(u,o,t)>0&&++e:o[1]<=i&&Q(u,o,t)<0&&--e,u=o;return 0!==e}function u(o,s,l,u){var c=0,d=0;if(null==o||(c=r(o,l))!==(d=r(s,l))||a(o,s)<0^l>0){do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+l+4)%4)!==d)}else u.point(s[0],s[1])}function c(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function d(t,e){c(t,e)&&s.point(t,e)}function f(){A.point=p,m&&m.push(v=[]),k=!0,C=!1,w=_=NaN}function h(){g&&(p(b,y),x&&C&&M.rejoin(),g.push(M.buffer())),A.point=d,C&&s.lineEnd()}function p(t,e){var n=c(t=Math.max(-Ls,Math.min(Ls,t)),e=Math.max(-Ls,Math.min(Ls,e)));if(m&&v.push([t,e]),k)b=t,y=e,x=n,k=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&C)s.point(t,e);else{var i={a:{x:w,y:_},b:{x:t,y:e}};D(i)?(C||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),S=!1):n&&(s.lineStart(),s.point(t,e),S=!1)}w=t,_=e,C=n}var g,m,v,b,y,x,w,_,C,k,S,T=s,M=Oe(),D=He(t,e,n,i),A={point:d,lineStart:f,lineEnd:h,polygonStart:function(){s=M,g=[],m=[],S=!0},polygonEnd:function(){s=T,g=la.merge(g);var e=l([t,i]),n=S&&e,r=g.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),r&&Ie(g,o,e,u,s),s.polygonEnd()),g=m=v=null}};return A}}function qe(t){var e=0,n=Pa/3,i=sn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Pa/180,n=t[1]*Pa/180):[e/Pa*180,n/Pa*180]},r}function We(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),a=Math.sqrt(o)/r;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,et((o-(t*t+n*n)*r*r)/(2*r))]},n}function Ve(){function t(t,e){Bs+=r*t-i*e,i=t,r=e}var e,n,i,r;Ws.point=function(o,a){Ws.point=t,e=i=o,n=r=a},Ws.lineEnd=function(){t(e,n)}}function Ye(t,e){t<Rs&&(Rs=t),t>Hs&&(Hs=t),e<zs&&(zs=e),e>Us&&(Us=e)}function Xe(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function r(){a.push("Z")}var o=Ge(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return o=Ge(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Ge(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ze(t,e){ks+=t,Ss+=e,++Ts}function Ke(){function t(t,i){var r=t-e,o=i-n,a=Math.sqrt(r*r+o*o);Ms+=a*(e+t)/2,Ds+=a*(n+i)/2,As+=a,Ze(e=t,n=i)}var e,n;Ys.point=function(i,r){Ys.point=t,Ze(e=i,n=r)}}function Je(){Ys.point=Ze}function Qe(){function t(t,e){var n=t-i,o=e-r,a=Math.sqrt(n*n+o*o);Ms+=a*(i+t)/2,Ds+=a*(r+e)/2,As+=a,Is+=(a=r*t-i*e)*(i+t),js+=a*(r+e),$s+=3*a,Ze(i=t,r=e)}var e,n,i,r;Ys.point=function(o,a){Ys.point=t,Ze(e=i=o,n=r=a)},Ys.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,La)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return a=t,s},result:w};return s}function en(t){function e(t){return(s?i:n)(t)}function n(e){return on(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){b=NaN,C.point=o,e.lineStart()}function o(n,i){var o=ge([n,i]),a=t(n,i);r(b,y,v,x,w,_,b=a[0],y=a[1],v=n,x=o[0],w=o[1],_=o[2],s,e),e.point(b,y)}function a(){C.point=n,e.lineEnd()}function l(){i(),C.point=u,C.lineEnd=c}function u(t,e){o(d=t,e),f=b,h=y,p=x,g=w,m=_,C.point=o}function c(){r(b,y,v,x,w,_,f,h,d,p,g,m,s,e),C.lineEnd=a,a()}var d,f,h,p,g,m,v,b,y,x,w,_,C={point:n,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),C.lineStart=l},polygonEnd:function(){e.polygonEnd(),C.lineStart=i}};return C}function r(e,n,i,s,l,u,c,d,f,h,p,g,m,v){var b=c-e,y=d-n,x=b*b+y*y;if(x>4*o&&m--){var w=s+h,_=l+p,C=u+g,k=Math.sqrt(w*w+_*_+C*C),S=Math.asin(C/=k),T=ba(ba(C)-1)<Ea||ba(i-f)<Ea?(i+f)/2:Math.atan2(_,w),M=t(T,S),D=M[0],A=M[1],I=D-e,j=A-n,$=y*I-b*j;($*$/x>o||ba((b*I+y*j)/x-.5)>.3||s*h+l*p+u*g<a)&&(r(e,n,i,s,l,u,D,A,T,w/=k,_/=k,C,m,v),v.point(D,A),r(D,A,T,w,_,C,c,d,f,h,p,g,m,v))}}var o=.5,a=Math.cos(30*Ra),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function nn(t){var e=en(function(e,n){return t([e*za,n*za])});return function(t){return ln(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return[(t=s(t[0]*Ra,t[1]*Ra))[0]*f+l,u-t[1]*f]}function n(t){return(t=s.invert((t[0]-l)/f,(u-t[1])/f))&&[t[0]*za,t[1]*za]}function i(){s=De(a=dn(v,y,x),o);var t=o(g,m);return l=h-t[0]*f,u=p+t[1]*f,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,a,s,l,u,c,d=en(function(t,e){return[(t=o(t,e))[0]*f+l,u-t[1]*f]}),f=150,h=480,p=250,g=0,m=0,v=0,y=0,x=0,w=Ps,_=b,C=null,k=null;return e.stream=function(t){return c&&(c.valid=!1),(c=ln(w(a,d(_(t))))).valid=!0,c},e.clipAngle=function(t){return arguments.length?(w=null==t?(C=t,Ps):ze((C=+t)*Ra),r()):C},e.clipExtent=function(t){return arguments.length?(k=t,_=t?Ue(t[0][0],t[0][1],t[1][0],t[1][1]):b,r()):k},e.scale=function(t){return arguments.length?(f=+t,i()):f},e.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],i()):[h,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ra,m=t[1]%360*Ra,i()):[g*za,m*za]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ra,y=t[1]%360*Ra,x=t.length>2?t[2]%360*Ra:0,i()):[v*za,y*za,x*za]},la.rebind(e,d,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function ln(t){return on(t,function(e,n){t.point(e*Ra,n*Ra)})}function un(t,e){return[t,e]}function cn(t,e){return[t>Pa?t-La:t<-Pa?t+La:t,e]}function dn(t,e,n){return t?e||n?De(hn(t),pn(e,n)):hn(t):e||n?pn(e,n):cn}function fn(t){return function(e,n){return[(e+=t)>Pa?e-La:e<-Pa?e+La:e,n]}}function hn(t){var e=fn(t);return e.invert=fn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*i+s*r;return[Math.atan2(l*o-c*a,s*i-u*r),et(c*o+l*a)]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*o-l*a;return[Math.atan2(l*o+u*a,s*i+c*r),et(c*i-s*r)]},n}function gn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,a,s){var l=a*e;null!=r?(r=mn(n,r),o=mn(n,o),(a>0?r<o:r>o)&&(r+=a*La)):(r=t+a*La,o=t-.5*l);for(var u,c=r;a>0?c>o:c<o;c-=l)s.point((u=we([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function mn(t,e){var n=ge(e);n[0]-=t,xe(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Ea)%(2*Math.PI)}function vn(t,e,n){var i=la.range(t,e-Ea,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function bn(t,e,n){var i=la.range(t,e-Ea,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function yn(t){return t.source}function xn(t){return t.target}function wn(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),a=Math.cos(i),s=Math.sin(i),l=r*Math.cos(t),u=r*Math.sin(t),c=a*Math.cos(n),d=a*Math.sin(n),f=2*Math.asin(Math.sqrt(ot(i-e)+r*a*ot(n-t))),h=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*h,n=Math.sin(f-t)*h,i=n*l+e*c,r=n*u+e*d,a=n*o+e*s;return[Math.atan2(r,i)*za,Math.atan2(a,Math.sqrt(i*i+r*r))*za]}:function(){return[t*za,e*za]};return p.distance=f,p}function _n(){function t(t,r){var o=Math.sin(r*=Ra),a=Math.cos(r),s=ba((t*=Ra)-e),l=Math.cos(s);qs+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=i*o-n*a*l)*s),n*o+i*a*l),e=t,n=o,i=a}var e,n,i;Xs.point=function(r,o){e=r*Ra,n=Math.sin(o*=Ra),i=Math.cos(o),Xs.point=t},Xs.lineEnd=function(){Xs.point=Xs.lineEnd=w}}function Cn(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(t*o,i*a),Math.asin(i&&n*o/i)]},n}function kn(t,e){function n(t,e){a>0?e<-Ba+Ea&&(e=-Ba+Ea):e>Ba-Ea&&(e=Ba-Ea);var n=a/Math.pow(r(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Pa/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),a=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,i=J(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/i,1/o))-Ba]},n):Tn}function Sn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return ba(r)<Ea?un:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-J(r)*Math.sqrt(t*t+n*n)]},n)}function Tn(t,e){return[t,Math.log(Math.tan(Pa/4+e/2))]}function Mn(t){var e,n=an(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Pa*i(),l=r();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Dn(t,e){return[Math.log(Math.tan(Pa/4+e/2)),-t]}function An(t){return t[0]}function In(t){return t[1]}function jn(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;i>1&&Q(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function $n(t,e){return t[0]-e[0]||t[1]-e[1]}function Fn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function En(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,l=t[1],u=n[1],c=e[1]-l,d=i[1]-u,f=(s*(l-u)-d*(r-o))/(d*a-s*c);return[r+f*a,l+f*c]}function On(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Pn(){ii(this),this.edge=this.site=this.circle=null}function Ln(t){var e=al.pop()||new Pn;return e.site=t,e}function Nn(t){Xn(t),il.remove(t),al.push(t),ii(t)}function Bn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];Nn(t);for(var l=o;l.circle&&ba(n-l.circle.x)<Ea&&ba(i-l.circle.cy)<Ea;)o=l.P,s.unshift(l),Nn(l),l=o;s.unshift(l),Xn(l);for(var u=a;u.circle&&ba(n-u.circle.x)<Ea&&ba(i-u.circle.cy)<Ea;)a=u.N,s.push(u),Nn(u),u=a;s.push(u),Xn(u);var c,d=s.length;for(c=1;c<d;++c)u=s[c],l=s[c-1],ti(u.edge,l.site,u.site,r);l=s[0],(u=s[d-1]).edge=Jn(l.site,u.site,null,r),Yn(l),Yn(u)}function Rn(t){for(var e,n,i,r,o=t.x,a=t.y,s=il._;s;)if((i=zn(s,a)-o)>Ea)s=s.L;else{if(!((r=o-Hn(s,a))>Ea)){i>-Ea?(e=s.P,n=s):r>-Ea?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Ln(t);if(il.insert(e,l),e||n){if(e===n)return Xn(e),n=Ln(e.site),il.insert(l,n),l.edge=n.edge=Jn(e.site,l.site),Yn(e),void Yn(n);if(n){Xn(e),Xn(n);var u=e.site,c=u.x,d=u.y,f=t.x-c,h=t.y-d,p=n.site,g=p.x-c,m=p.y-d,v=2*(f*m-h*g),b=f*f+h*h,y=g*g+m*m,x={x:(m*b-h*y)/v+c,y:(f*y-g*b)/v+d};ti(n.edge,u,p,x),l.edge=Jn(u,t,null,x),n.edge=Jn(t,p,null,x),Yn(e),Yn(n)}else l.edge=Jn(e.site,l.site)}}function zn(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-Infinity;var s=(n=a.site).x,l=n.y,u=l-e;if(!u)return s;var c=s-i,d=1/o-1/u,f=c/u;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*u)-l+u/2+r-o/2)))/d+i:(i+s)/2}function Hn(t,e){var n=t.N;if(n)return zn(n,e);var i=t.site;return i.y===e?i.x:Infinity}function Un(t){this.site=t,this.edges=[]}function qn(t){for(var e,n,i,r,o,a,s,l,u,c,d=t[0][0],f=t[1][0],h=t[0][1],p=t[1][1],g=nl,m=g.length;m--;)if((o=g[m])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)i=(c=s[a].end()).x,r=c.y,e=(u=s[++a%l].start()).x,n=u.y,(ba(i-e)>Ea||ba(r-n)>Ea)&&(s.splice(a,0,new ei(Qn(o.site,c,ba(i-d)<Ea&&p-r>Ea?{x:d,y:ba(e-d)<Ea?n:p}:ba(r-p)<Ea&&f-i>Ea?{x:ba(n-p)<Ea?e:f,y:p}:ba(i-f)<Ea&&r-h>Ea?{x:f,y:ba(e-f)<Ea?n:h}:ba(r-h)<Ea&&i-d>Ea?{x:ba(n-h)<Ea?e:d,y:h}:null),o.site,null)),++l)}function Wn(t,e){return e.angle-t.angle}function Vn(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,l=i.x-a,u=i.y-s,c=o.x-a,d=2*(l*(m=o.y-s)-u*c);if(!(d>=-Oa)){var f=l*l+u*u,h=c*c+m*m,p=(m*f-u*h)/d,g=(l*h-c*f)/d,m=g+s,v=sl.pop()||new Vn;v.arc=t,v.site=r,v.x=p+a,v.y=m+Math.sqrt(p*p+g*g),v.cy=m,t.circle=v;for(var b=null,y=ol._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}ol.insert(b,v),b||(rl=v)}}}}function Xn(t){var e=t.circle;e&&(e.P||(rl=e.N),ol.remove(e),sl.push(e),ii(e),t.circle=null)}function Gn(t){for(var e,n=el,i=He(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Zn(e=n[r],t)||!i(e)||ba(e.a.x-e.b.x)<Ea&&ba(e.a.y-e.b.y)<Ea)&&(e.a=e.b=null,n.splice(r,1))}function Zn(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,d=t.r,f=c.x,h=c.y,p=d.x,g=d.y,m=(f+p)/2,v=(h+g)/2;if(g===h){if(m<a||m>=s)return;if(f>p){if(o){if(o.y>=u)return}else o={x:m,y:l};n={x:m,y:u}}else{if(o){if(o.y<l)return}else o={x:m,y:u};n={x:m,y:l}}}else if(r=v-(i=(f-p)/(g-h))*m,i<-1||i>1)if(f>p){if(o){if(o.y>=u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(h<g){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function Kn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Jn(t,e,n,i){var r=new Kn(t,e);return el.push(r),n&&ti(r,t,e,n),i&&ti(r,e,t,i),nl[t.i].edges.push(new ei(r,t,e)),nl[e.i].edges.push(new ei(r,e,t)),r}function Qn(t,e,n){var i=new Kn(t,null);return i.a=e,i.b=n,el.push(i),i}function ti(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ei(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ni(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function oi(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ai(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,i,r,o=t.sort(li).pop();for(el=[],nl=new Array(t.length),il=new ni,ol=new ni;;)if(r=rl,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(nl[o.i]=new Un(o),Rn(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;Bn(r.arc)}e&&(Gn(e),qn(e));var a={cells:nl,edges:el};return il=ol=el=nl=null,a}function li(t,e){return e.y-t.y||e.x-t.x}function ui(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ci(t){return t.x}function di(t){return t.y}function fi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hi(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),l=e.nodes;l[0]&&hi(t,l[0],n,i,a,s),l[1]&&hi(t,l[1],a,i,r,s),l[2]&&hi(t,l[2],n,s,a,o),l[3]&&hi(t,l[3],a,s,r,o)}}function pi(t,e,n,i,r,o,a){var s,l=Infinity;return function u(t,c,d,f,h){if(!(c>o||d>a||f<i||h<r)){if(p=t.point){var p,g=e-t.x,m=n-t.y,v=g*g+m*m;if(v<l){var b=Math.sqrt(l=v);i=e-b,r=n-b,o=e+b,a=n+b,s=p}}for(var y=t.nodes,x=.5*(c+f),w=.5*(d+h),_=(n>=w)<<1|e>=x,C=_+4;_<C;++_)if(t=y[3&_])switch(3&_){case 0:u(t,c,d,x,w);break;case 1:u(t,x,d,f,w);break;case 2:u(t,c,w,x,h);break;case 3:u(t,x,w,f,h)}}}(t,i,r,o,a),s}function gi(t,e){t=la.rgb(t),e=la.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+xt(Math.round(n+o*t))+xt(Math.round(i+a*t))+xt(Math.round(r+s*t))}}function mi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=yi(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function vi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function bi(t,e){var n,i,r,o=ul.lastIndex=cl.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=ul.exec(t))&&(i=cl.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:vi(n,i)})),o=cl.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function yi(t,e){for(var n,i=la.interpolators.length;--i>=0&&!(n=la.interpolators[i](t,e)););return n}function xi(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(yi(t[n],e[n]));for(;n<o;++n)r[n]=t[n];for(;n<a;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}function wi(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function _i(t){return function(e){return 1-t(1-e)}}function Ci(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function ki(t){return t*t}function Si(t){return t*t*t}function Ti(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Mi(t){return function(e){return Math.pow(e,t)}}function Di(t){return 1-Math.cos(t*Ba)}function Ai(t){return Math.pow(2,10*(t-1))}function Ii(t){return 1-Math.sqrt(1-t*t)}function ji(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/La*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*La/e)}}function $i(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Fi(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ei(t,e){t=la.hcl(t),e=la.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return ct(n+o*t,i+a*t,r+s*t)+""}}function Oi(t,e){t=la.hsl(t),e=la.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return lt(n+o*t,i+a*t,r+s*t)+""}}function Pi(t,e){t=la.lab(t),e=la.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return ft(n+o*t,i+a*t,r+s*t)+""}}function Li(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ni(t){var e=[t.a,t.b],n=[t.c,t.d],i=Ri(e),r=Bi(e,n),o=Ri(zi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*za,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*za:0}function Bi(t,e){return t[0]*e[0]+t[1]*e[1]}function Ri(t){var e=Math.sqrt(Bi(t,t))
;return e&&(t[0]/=e,t[1]/=e),e}function zi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Hi(t){return t.length?t.pop()+",":""}function Ui(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function qi(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(Hi(n)+"rotate(",null,")")-2,x:vi(t,e)})):e&&n.push(Hi(n)+"rotate("+e+")")}function Wi(t,e,n,i){t!==e?i.push({i:n.push(Hi(n)+"skewX(",null,")")-2,x:vi(t,e)}):e&&n.push(Hi(n)+"skewX("+e+")")}function Vi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Hi(n)+"scale(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Hi(n)+"scale("+e+")")}function Yi(t,e){var n=[],i=[];return t=la.transform(t),e=la.transform(e),Ui(t.translate,e.translate,n,i),qi(t.rotate,e.rotate,n,i),Wi(t.skew,e.skew,n,i),Vi(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,r=-1,o=i.length;++r<o;)n[(e=i[r]).i]=e.x(t);return n.join("")}}function Xi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Gi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Zi(t){for(var e=t.source,n=t.target,i=Ji(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Ki(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Ji(t,e){if(t===e)return t;for(var n=Ki(t),i=Ki(e),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}function Qi(t){t.fixed|=2}function tr(t){t.fixed&=-7}function er(t){t.fixed|=4,t.px=t.x,t.py=t.y}function nr(t){t.fixed&=-5}function ir(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,l=-1;++l<s;)null!=(o=a[l])&&(ir(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,i+=u*t.point.x,r+=u*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function rr(t,e){return la.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=cr,t}function or(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function ar(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(t=i.pop());)e(t)}function sr(t){return t.children}function lr(t){return t.value}function ur(t,e){return e.value-t.value}function cr(t){return la.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function dr(t){return t.x}function fr(t){return t.y}function hr(t,e,n){t.y0=e,t.y=n}function pr(t){return la.range(t.length)}function gr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function mr(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function vr(t){return t.reduce(br,0)}function br(t,e){return t+e[1]}function yr(t,e){return xr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function xr(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function wr(t){return[la.min(t),la.max(t)]}function _r(t,e){return t.value-e.value}function Cr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function kr(t,e){t._pack_next=e,e._pack_prev=t}function Sr(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Tr(t){function e(t){c=Math.min(t.x-t.r,c),d=Math.max(t.x+t.r,d),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(u=n.length)){var n,i,r,o,a,s,l,u,c=Infinity,d=-Infinity,f=Infinity,h=-Infinity;if(n.forEach(Mr),(i=n[0]).x=-i.r,i.y=0,e(i),u>1&&((r=n[1]).x=r.r,r.y=0,e(r),u>2))for(Ir(i,r,o=n[2]),e(o),Cr(i,o),i._pack_prev=o,Cr(o,r),r=i._pack_next,a=3;a<u;a++){Ir(i,r,o=n[a]);var p=0,g=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(Sr(s,o)){p=1;break}if(1==p)for(l=i._pack_prev;l!==s._pack_prev&&!Sr(l,o);l=l._pack_prev,m++);p?(g<m||g==m&&r.r<i.r?kr(i,r=s):kr(i=l,r),a--):(Cr(i,o),r=o,e(o))}var v=(c+d)/2,b=(f+h)/2,y=0;for(a=0;a<u;a++)(o=n[a]).x-=v,o.y-=b,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=y,n.forEach(Dr)}}function Mr(t){t._pack_next=t._pack_prev=t}function Dr(t){delete t._pack_next,delete t._pack_prev}function Ar(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,a=r.length;++o<a;)Ar(r[o],e,n,i)}function Ir(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o,l=.5+((i*=i)-(a*=a))/(2*s),u=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+l*r+u*o,n.y=t.y+l*o-u*r}else n.x=t.x+i,n.y=t.y}function jr(t,e){return t.parent==e.parent?1:2}function $r(t){var e=t.children;return e.length?e[0]:t.t}function Fr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Er(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Or(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Pr(t,e,n){return t.a.parent===e.parent?t.a:n}function Lr(t){return 1+la.max(t,function(t){return t.y})}function Nr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Br(t){var e=t.children;return e&&e.length?Br(e[0]):t}function Rr(t){var e,n=t.children;return n&&(e=n.length)?Rr(n[e-1]):t}function zr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Hr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function Ur(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function qr(t){return t.rangeExtent?t.rangeExtent():Ur(t.range())}function Wr(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Vr(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function Yr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:wl}function Xr(t,e,n,i){var r=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)r.push(n(t[a-1],t[a])),o.push(i(e[a-1],e[a]));return function(e){var n=la.bisect(t,e,1,s)-1;return o[n](r[n](e))}}function Gr(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Xr:Wr,l=i?Gi:Xi;return a=r(t,e,l,n),s=r(e,t,l,yi),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(Li)},o.clamp=function(t){return arguments.length?(i=t,r()):i},o.interpolate=function(t){return arguments.length?(n=t,r()):n},o.ticks=function(e){return Qr(t,e)},o.tickFormat=function(e,n){return to(t,e,n)},o.nice=function(e){return Kr(t,e),r()},o.copy=function(){return Gr(t,e,n,i)},r()}function Zr(t,e){return la.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Kr(t,e){return Vr(t,Yr(Jr(t,e)[2]))}function Jr(t,e){null==e&&(e=10);var n=Ur(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Qr(t,e){return la.range.apply(la,Jr(t,e))}function to(t,e,n){var i=Jr(t,e);if(n){var r=us.exec(n);if(r.shift(),"s"===r[8]){var o=la.formatPrefix(Math.max(ba(i[0]),ba(i[1])));return r[7]||(r[7]="."+eo(o.scale(i[2]))),r[8]="f",n=la.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+no(r[8],i)),n=r.join("")}else n=",."+eo(i[2])+"f";return la.format(n)}function eo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function no(t,e){var n=eo(e[2]);return t in _l?Math.abs(n-eo(Math.max(ba(e[0]),ba(e[1]))))+ +("e"!==t):n-2*("%"===t)}function io(t,e,n,i){function r(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(r(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),a):i},a.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),a):e},a.nice=function(){var e=Vr(i.map(r),n?Math:kl);return t.domain(e),i=e.map(o),a},a.ticks=function(){var t=Ur(i),a=[],s=t[0],l=t[1],u=Math.floor(r(s)),c=Math.ceil(r(l)),d=e%1?2:e;if(isFinite(c-u)){if(n){for(;u<c;u++)for(var f=1;f<d;f++)a.push(o(u)*f);a.push(o(u))}else for(a.push(o(u));u++<c;)for(f=d-1;f>0;f--)a.push(o(u)*f);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},a.tickFormat=function(t,n){if(!arguments.length)return Cl;arguments.length<2?n=Cl:"function"!=typeof n&&(n=la.format(n));var i=Math.max(1,e*t/a.ticks().length);return function(t){var a=t/o(Math.round(r(t)));return a*e<e-.5&&(a*=e),a<=i?n(t):""}},a.copy=function(){return io(t.copy(),e,n,i)},Zr(a,t)}function ro(t,e,n){function i(e){return t(r(e))}var r=oo(e),o=oo(1/e);return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return Qr(n,t)},i.tickFormat=function(t,e){return to(n,t,e)},i.nice=function(t){return i.domain(Kr(n,t))},i.exponent=function(a){return arguments.length?(r=oo(e=a),o=oo(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return ro(t.copy(),e,n)},Zr(i,t)}function oo(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ao(t,e){function n(n){return o[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%o.length]}function i(e,n){return la.range(t.length).map(function(t){return e+n*t})}var r,o,a;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new u;for(var o,a=-1,s=i.length;++a<s;)r.has(o=i[a])||r.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var l=r[0],u=r[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return o=i(l+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,s){arguments.length<2&&(s=0);var l=r[0],u=r[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return o=i(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=r[1]<r[0],c=r[u-0],d=(r[1-u]-c)/(t.length-s+2*l);return o=i(c+d*l,d),u&&o.reverse(),a=d*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=r[1]<r[0],c=r[u-0],d=r[1-u],f=Math.floor((d-c)/(t.length-s+2*l));return o=i(c+Math.round((d-c-(t.length-s)*f)/2),f),u&&o.reverse(),a=Math.round(f*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Ur(e.a[0])},n.copy=function(){return ao(t,e)},n.domain(t)}function so(t,e){function o(){var n=0,i=e.length;for(s=[];++n<i;)s[n-1]=la.quantile(t,n/i);return a}function a(t){if(!isNaN(t=+t))return e[la.bisect(s,t)]}var s;return a.domain=function(e){return arguments.length?(t=e.map(i).filter(r).sort(n),o()):t},a.range=function(t){return arguments.length?(e=t,o()):e},a.quantiles=function(){return s},a.invertExtent=function(n){return(n=e.indexOf(n))<0?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},a.copy=function(){return so(t,e)},o()}function lo(t,e,n){function i(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function r(){return o=n.length/(e-t),a=n.length-1,i}var o,a;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return[e=(e=n.indexOf(e))<0?NaN:e/o+t,e+1/o]},i.copy=function(){return lo(t,e,n)},r()}function uo(t,e){function n(n){if(n<=n)return e[la.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return uo(t,e)},n}function co(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Qr(t,e)},e.tickFormat=function(e,n){return to(t,e,n)},e.copy=function(){return co(t)},e}function fo(){return 0}function ho(t){return t.innerRadius}function po(t){return t.outerRadius}function go(t){return t.startAngle}function mo(t){return t.endAngle}function vo(t){return t&&t.padAngle}function bo(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function yo(t,e,n,i,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=t[0]+l,d=t[1]+u,f=e[0]+l,h=e[1]+u,p=(c+f)/2,g=(d+h)/2,m=f-c,v=h-d,b=m*m+v*v,y=n-i,x=c*h-f*d,w=(v<0?-1:1)*Math.sqrt(Math.max(0,y*y*b-x*x)),_=(x*v-m*w)/b,C=(-x*m-v*w)/b,k=(x*v+m*w)/b,S=(-x*m+v*w)/b,T=_-p,M=C-g,D=k-p,A=S-g;return T*T+M*M>D*D+A*A&&(_=k,C=S),[[_-l,C-u],[_*n/y,C*n/y]]}function xo(t){function e(e){function a(){u.push("M",o(t(c),s))}for(var l,u=[],c=[],d=-1,f=e.length,h=Tt(n),p=Tt(i);++d<f;)r.call(this,l=e[d],d)?c.push([+h.call(this,l,d),+p.call(this,l,d)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=An,i=In,r=Ae,o=wo,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Il.get(t)||wo).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function wo(t){return t.length>1?t.join("L"):t+"Z"}function _o(t){return t.join("L")+"Z"}function Co(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function ko(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function So(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function To(t,e){return t.length<4?wo(t):t[1]+Ao(t.slice(1,-1),Io(t,e))}function Mo(t,e){return t.length<3?_o(t):t[0]+Ao((t.push(t[0]),t),Io([t[t.length-2]].concat(t,[t[1]]),e))}function Do(t,e){return t.length<3?wo(t):t[0]+Ao(t,Io(t,e))}function Ao(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return wo(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),e.length>1){s=e[1],o=t[l],l++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],s=e[u],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[l];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Io(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function jo(t){if(t.length<3)return wo(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],l=[r,",",o,"L",Oo(Fl,a),",",Oo(Fl,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Po(l,a,s);return t.pop(),l.push("L",i),l.join("")}function $o(t){if(t.length<4)return wo(t);for(var e,n=[],i=-1,r=t.length,o=[0],a=[0];++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);for(n.push(Oo(Fl,o)+","+Oo(Fl,a)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Po(n,o,a);return n.join("")}function Fo(t){for(var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);for(e=[Oo(Fl,a),",",Oo(Fl,s)],--i;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Po(e,a,s);return e.join("")}function Eo(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,u=-1;++u<=n;)r=u/n,(i=t[u])[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*l);return jo(t)}function Oo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Po(t,e,n){t.push("C",Oo(jl,e),",",Oo(jl,n),",",Oo($l,e),",",Oo($l,n),",",Oo(Fl,e),",",Oo(Fl,n))}function Lo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function No(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=Lo(r,o);++e<n;)i[e]=(a+(a=Lo(r=o,o=t[e+1])))/2;return i[e]=a,i}function Bo(t){for(var e,n,i,r,o=[],a=No(t),s=-1,l=t.length-1;++s<l;)e=Lo(t[s],t[s+1]),ba(e)<Ea?a[s]=a[s+1]=0:(r=(n=a[s]/e)*n+(i=a[s+1]/e)*i)>9&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i);for(s=-1;++s<=l;)r=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function Ro(t){return t.length<3?wo(t):t[0]+Ao(t,Bo(t))}function zo(t){for(var e,n,i,r=-1,o=t.length;++r<o;)n=(e=t[r])[0],i=e[1]-Ba,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Ho(t){function e(e){function l(){g.push("M",s(t(v),d),c,u(t(m.reverse()),d),"Z")}for(var f,h,p,g=[],m=[],v=[],b=-1,y=e.length,x=Tt(n),w=Tt(r),_=n===i?function(){return h}:Tt(i),C=r===o?function(){return p}:Tt(o);++b<y;)a.call(this,f=e[b],b)?(m.push([h=+x.call(this,f,b),p=+w.call(this,f,b)]),v.push([+_.call(this,f,b),+C.call(this,f,b)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=An,i=An,r=0,o=In,a=Ae,s=wo,l=s.key,u=s,c="L",d=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Il.get(t)||wo).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(d=t,e):d},e}function Uo(t){return t.radius}function qo(t){return[t.x,t.y]}function Wo(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Ba;return[n*Math.cos(i),n*Math.sin(i)]}}function Vo(){return 64}function Yo(){return"circle"}function Xo(t){var e=Math.sqrt(t/Pa);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Go(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function Zo(t,e,n){return Ca(t,Rl),t.namespace=e,t.id=n,t}function Ko(t,e,n,i){var r=t.id,o=t.namespace;return U(t,"function"==typeof n?function(t,a,s){t[o][r].tween.set(e,i(n.call(t,t.__data__,a,s)))}:(n=i(n),function(t){t[o][r].tween.set(e,n)}))}function Jo(t){return null==t&&(t=""),function(){this.textContent=t}}function Qo(t){return null==t?"__transition__":"__transition_"+t+"__"}function ta(t,e,n,i,r){function o(t){var e=g.delay;if(c.t=e+l,e<=t)return a(t-e);c.c=a}function a(n){var r=p.active,o=p[r];for(var a in o&&(o.timer.c=null,o.timer.t=NaN,--p.count,delete p[r],o.event&&o.event.interrupt.call(t,t.__data__,o.index)),p)if(+a<i){var u=p[a];u.timer.c=null,u.timer.t=NaN,--p.count,delete p[a]}c.c=s,jt(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,l),p.active=i,g.event&&g.event.start.call(t,t.__data__,e),h=[],g.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&h.push(i)}),f=g.ease,d=g.duration}function s(r){for(var o=r/d,a=f(o),s=h.length;s>0;)h[--s].call(t,a);if(o>=1)return g.event&&g.event.end.call(t,t.__data__,e),--p.count?delete p[i]:delete t[n],1}var l,c,d,f,h,p=t[n]||(t[n]={active:0,count:0}),g=p[i];g||(l=r.time,c=jt(o,0,l),g=p[i]={tween:new u,time:l,timer:c,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++p.count)}function ea(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function na(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function ia(t){return t.toISOString()}function ra(t,e,n){function i(e){return t(e)}function r(t,n){var i=(t[1]-t[0])/n,r=la.bisect(Gl,i);return r==Gl.length?[e.year,Jr(t.map(function(t){return t/31536e6}),n)[2]]:r?e[i/Gl[r-1]<Gl[r]/i?r-1:r]:[Jl,Jr(t,n)[2]]}return i.invert=function(e){return oa(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(oa)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,oa(+n+1),e).length}var o=i.domain(),a=Ur(o),s=null==t?r(a,10):"number"==typeof t&&r(a,t);return s&&(t=s[0],e=s[1]),i.domain(Vr(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=oa(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=oa(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Ur(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],oa(+n[1]+1),e<1?1:e)},i.tickFormat=function(){return n},i.copy=function(){return ra(t.copy(),e,n)},Zr(i,t)}function oa(t){return new Date(t)}function aa(t){return JSON.parse(t.responseText)}function sa(t){var e=da.createRange();return e.selectNode(da.body),e.createContextualFragment(t.responseText)}var la={version:"3.5.11"},ua=[].slice,ca=function(t){return ua.call(t)},da=this.document;if(da)try{ca(da.documentElement.childNodes)[0].nodeType}catch(eu){ca=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),da)try{da.createElement("DIV").style.setProperty("opacity",0,"")}catch(nu){var fa=this.Element.prototype,ha=fa.setAttribute,pa=fa.setAttributeNS,ga=this.CSSStyleDeclaration.prototype,ma=ga.setProperty;fa.setAttribute=function(t,e){ha.call(this,t,e+"")},fa.setAttributeNS=function(t,e,n){pa.call(this,t,e,n+"")},ga.setProperty=function(t,e,n){ma.call(this,t,e+"",n)}}la.ascending=n,la.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},la.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},la.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},la.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},la.sum=function(t,e){var n,i=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)r(n=+t[a])&&(i+=n);else for(;++a<o;)r(n=+e.call(t,t[a],a))&&(i+=n);return i},la.mean=function(t,e){var n,o=0,a=t.length,s=-1,l=a;if(1===arguments.length)for(;++s<a;)r(n=i(t[s]))?o+=n:--l;else for(;++s<a;)r(n=i(e.call(t,t[s],s)))?o+=n:--l;if(l)return o/l},la.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},la.median=function(t,e){var o,a=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)r(o=i(t[l]))&&a.push(o);else for(;++l<s;)r(o=i(e.call(t,t[l],l)))&&a.push(o);if(a.length)return la.quantile(a.sort(n),.5)},la.variance=function(t,e){var n,o,a=t.length,s=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<a;)r(n=i(t[u]))&&(l+=(o=n-s)*(n-(s+=o/++c)));else for(;++u<a;)r(n=i(e.call(t,t[u],u)))&&(l+=(o=n-s)*(n-(s+=o/++c)));if(c>1)return l/(c-1)},la.deviation=function(){var t=la.variance.apply(this,arguments);return t?Math.sqrt(t):t};var va=o(n);la.bisectLeft=va.left,la.bisect=la.bisectRight=va.right,la.bisector=function(t){return o(1===t.length?function(e,i){return n(t(e),i)}:t)},la.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},la.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},la.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},la.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=la.min(arguments,a),n=new Array(e);++t<e;)for(var i,r=-1,o=n[t]=new Array(i);++r<i;)o[r]=arguments[r][t];return n},la.transpose=function(t){return la.zip.apply(la,t)},la.keys=function(t){var e=[];for(var n in t)e.push(n);return e},la.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},la.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},la.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--a]=i[e];return n};var ba=Math.abs;la.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===Infinity)throw new Error("infinite range");var i,r=[],o=s(ba(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},la.map=function(t,e){var n=new u;if(t instanceof u)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var a in t)n.set(a,t[a]);return n};var ya="__proto__",xa="\0";l(u,{has:f,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:h,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:d(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,d(e),this._[e])}}),la.nest=function(){function t(e,a,s){if(s>=o.length)return i?i.call(r,a):n?a.sort(n):a;for(var l,c,d,f,h=-1,p=a.length,g=o[s++],m=new u;++h<p;)(f=m.get(l=g(c=a[h])))?f.push(c):m.set(l,[c]);return e?(c=e(),d=function(n,i){c.set(n,t(e,i,s))}):(c={},d=function(n,i){c[n]=t(e,i,s)}),m.forEach(d),c}function e(t,n){if(n>=o.length)return t;var i=[],r=a[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},o=[],a=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(la.map,n,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return a[o.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},la.set=function(t){var e=new v;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},l(v,{has:f,add:function(t){return this._[c(t+="")]=!0,t},remove:h,values:p,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,d(e))}}),la.behavior={},la.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=y(t,e,e[n]);return t};var wa=["webkit","ms","moz","Moz","o","O"];la.dispatch=function(){for(var t=new _,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=C(t);return t},_.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},la.event=null,la.requote=function(t){return t.replace(_a,"\\$&")};var _a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ca={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},ka=function(t,e){return e.querySelector(t)},Sa=function(t,e){return e.querySelectorAll(t)},Ta=function(t,e){var n=t.matches||t[x(t,"matchesSelector")];return(Ta=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(ka=function(t,e){return Sizzle(t,e)[0]||null},Sa=Sizzle,Ta=Sizzle.matchesSelector),la.selection=function(){return la.select(da.documentElement)};var Ma=la.selection.prototype=[];Ma.select=function(t){var e,n,i,r,o=[];t=D(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return M(o)},Ma.selectAll=function(t){var e,n,i=[];t=A(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,l=a.length;++s<l;)(n=a[s])&&(i.push(e=ca(t.call(n,n.__data__,s,r))),e.parentNode=n);return M(i)};var Da={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};la.ns={prefix:Da,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Da.hasOwnProperty(n)?{space:Da[n],local:t}:t}},Ma.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=la.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},Ma.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=F(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!$(t[r]).test(e))return!1;return!0}for(e in t)this.each(E(e,t[e]));return this}return this.each(E(t,e))},Ma.style=function(t,n,i){var r=arguments.length;if(r<3){if("string"!=typeof t){for(i in r<2&&(n=""),t)this.each(P(i,t[i],n));return this}if(r<2){var o=this.node();return e(o).getComputedStyle(o,null).getPropertyValue(t)}i=""}return this.each(P(t,n,i))},Ma.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},Ma.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ma.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ma.append=function(t){return t=N(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ma.insert=function(t,e){return t=N(t),e=D(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ma.remove=function(){return this.each(B)},Ma.data=function(t,e){function n(t,n){var i,r,o,a=t.length,d=n.length,f=Math.min(a,d),h=new Array(d),p=new Array(d),g=new Array(a);if(e){var m,v=new u,b=new Array(a);for(i=-1;++i<a;)(r=t[i])&&(v.has(m=e.call(r,r.__data__,i))?g[i]=r:v.set(m,r),b[i]=m);for(i=-1;++i<d;)(r=v.get(m=e.call(n,o=n[i],i)))?!0!==r&&(h[i]=r,r.__data__=o):p[i]=R(o),v.set(m,!0);for(i=-1;++i<a;)i in b&&!0!==v.get(b[i])&&(g[i]=t[i])}else{for(i=-1;++i<f;)r=t[i],o=n[i],r?(r.__data__=o,h[i]=r):p[i]=R(o);for(;i<d;++i)p[i]=R(n[i]);for(;i<a;++i)g[i]=t[i]}p.update=h,p.parentNode=h.parentNode=g.parentNode=t.parentNode,s.push(p),l.push(h),c.push(g)}var i,r,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++o<a;)(r=i[o])&&(t[o]=r.__data__);return t}var s=q([]),l=M([]),c=M([]);if("function"==typeof t)for(;++o<a;)n(i=this[o],t.call(i,i.parentNode.__data__,o));else for(;++o<a;)n(i=this[o],t);return l.enter=function(){return s},l.exit=function(){return c},l},Ma.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ma.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=z(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return M(r)},Ma.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Ma.sort=function(t){t=H.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ma.each=function(t){return U(this,function(e,n,i){t.call(e,e.__data__,n,i)})},Ma.call=function(t){var e=ca(arguments);return t.apply(e[0]=this,e),this},Ma.empty=function(){return!this.node()},Ma.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},Ma.size=function(){var t=0;return U(this,function(){++t}),t};var Aa=[];la.selection.enter=q,la.selection.enter.prototype=Aa,Aa.append=Ma.append,Aa.empty=Ma.empty,Aa.node=Ma.node,Aa.call=Ma.call,Aa.size=Ma.size,Aa.select=function(t){for(var e,n,i,r,o,a=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode
;for(var u=-1,c=r.length;++u<c;)(o=r[u])?(e.push(i[u]=n=t.call(r.parentNode,o.__data__,u,s)),n.__data__=o.__data__):e.push(null)}return M(a)},Aa.insert=function(t,e){return arguments.length<2&&(e=W(this)),Ma.insert.call(this,t,e)},la.select=function(e){var n;return"string"==typeof e?(n=[ka(e,da)]).parentNode=da.documentElement:(n=[e]).parentNode=t(e),M([n])},la.selectAll=function(t){var e;return"string"==typeof t?(e=ca(Sa(t,da))).parentNode=da.documentElement:(e=ca(t)).parentNode=null,M([e])},Ma.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(V(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(V(t,e,n))};var Ia=la.map({mouseenter:"mouseover",mouseleave:"mouseout"});da&&Ia.forEach(function(t){"on"+t in da&&Ia.remove(t)});var ja,$a=0;la.mouse=function(t){return Z(t,S())};var Fa=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;la.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=S().changedTouches),e)for(var i,r=0,o=e.length;r<o;++r)if((i=e[r]).identifier===n)return Z(t,i)},la.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function n(t,e,n,o,a){return function(){function s(){var t,n,i=e(f,g);i&&(t=i[0]-y[0],n=i[1]-y[1],p|=t|n,y=i,h({type:"drag",x:i[0]+u[0],y:i[1]+u[1],dx:t,dy:n}))}function l(){e(f,g)&&(v.on(o+m,null).on(a+m,null),b(p),h({type:"dragend"}))}var u,c=this,d=la.event.target,f=c.parentNode,h=i.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=la.select(n(d)).on(o+m,s).on(a+m,l),b=G(d),y=e(f,g);u=r?[(u=r.apply(c,arguments)).x-y[0],u.y-y[1]]:[0,0],h({type:"dragstart"})}}var i=T(t,"drag","dragstart","dragend"),r=null,o=n(w,la.mouse,e,"mousemove","mouseup"),a=n(K,la.touch,b,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},la.rebind(t,i,"on")},la.touches=function(t,e){return arguments.length<2&&(e=S().touches),e?ca(e).map(function(e){var n=Z(t,e);return n.identifier=e.identifier,n}):[]};var Ea=1e-6,Oa=Ea*Ea,Pa=Math.PI,La=2*Pa,Na=La-Ea,Ba=Pa/2,Ra=Pa/180,za=180/Pa,Ha=Math.SQRT2,Ua=2,qa=4;la.interpolateZoom=function(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],l=e[1],u=e[2],c=s-r,d=l-o,f=c*c+d*d;if(f<Oa)i=Math.log(u/a)/Ha,n=function(t){return[r+t*c,o+t*d,a*Math.exp(Ha*t*i)]};else{var h=Math.sqrt(f),p=(u*u-a*a+qa*f)/(2*a*Ua*h),g=(u*u-a*a-qa*f)/(2*u*Ua*h),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);i=(v-m)/Ha,n=function(t){var e=t*i,n=it(m),s=a/(Ua*h)*(n*rt(Ha*e+m)-nt(m));return[r+s*c,o+s*d,a*n/it(Ha*e+m)]}}return n.duration=1e3*i,n},la.behavior.zoom=function(){function t(t){t.on(j,d).on(Va+".zoom",h).on("dblclick.zoom",p).on(E,f)}function n(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function i(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function r(t){S.k=Math.max(D[0],Math.min(D[1],t))}function o(t,e){e=i(e),S.x+=t[0]-e[0],S.y+=t[1]-e[1]}function a(e,n,i,a){e.__chart__={x:S.x,y:S.y,k:S.k},r(Math.pow(2,a)),o(m=n,i),e=la.select(e),A>0&&(e=e.transition().duration(A)),e.call(t.event)}function s(){w&&w.domain(x.range().map(function(t){return(t-S.x)/S.k}).map(x.invert)),C&&C.domain(_.range().map(function(t){return(t-S.y)/S.k}).map(_.invert))}function l(t){I++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function c(t){--I||(t({type:"zoomend"}),m=null)}function d(){function t(){s=1,o(la.mouse(r),f),u(a)}function i(){d.on($,null).on(F,null),h(s),c(a)}var r=this,a=O.of(r,arguments),s=0,d=la.select(e(r)).on($,t).on(F,i),f=n(la.mouse(r)),h=G(r);Bl.call(r),l(a)}function f(){function t(){var t=la.touches(p);return h=S.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=la.event.target;la.select(e).on(x,i).on(w,s),_.push(e);for(var n=la.event.changedTouches,r=0,o=n.length;r<o;++r)m[n[r].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(u-y<500){var c=l[0];a(p,c,m[c.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),k()}y=u}else if(l.length>1){c=l[0];var d=l[1],f=c[0]-d[0],h=c[1]-d[1];v=f*f+h*h}}function i(){var t,e,n,i,a=la.touches(p);Bl.call(p);for(var s=0,l=a.length;s<l;++s,i=null)if(n=a[s],i=m[n.identifier]){if(e)break;t=n,e=i}if(i){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,d=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],r(d*h)}y=null,o(t,e),u(g)}function s(){if(la.event.touches.length){for(var e=la.event.changedTouches,n=0,i=e.length;n<i;++n)delete m[e[n].identifier];for(var r in m)return void t()}la.selectAll(_).on(b,null),C.on(j,d).on(E,f),T(),c(g)}var h,p=this,g=O.of(p,arguments),m={},v=0,b=".zoom-"+la.event.changedTouches[0].identifier,x="touchmove"+b,w="touchend"+b,_=[],C=la.select(p),T=G(p);e(),l(g),C.on(j,null).on(E,e)}function h(){var t=O.of(this,arguments);b?clearTimeout(b):(Bl.call(this),g=n(m=v||la.mouse(this)),l(t)),b=setTimeout(function(){b=null,c(t)},50),k(),r(Math.pow(2,.002*Wa())*S.k),o(m,g),u(t)}function p(){var t=la.mouse(this),e=Math.log(S.k)/Math.LN2;a(this,t,n(t),la.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,v,b,y,x,w,_,C,S={x:0,y:0,k:1},M=[960,500],D=Ya,A=250,I=0,j="mousedown.zoom",$="mousemove.zoom",F="mouseup.zoom",E="touchstart.zoom",O=T(t,"zoomstart","zoom","zoomend");return Va||(Va="onwheel"in da?(Wa=function(){return-la.event.deltaY*(la.event.deltaMode?120:1)},"wheel"):"onmousewheel"in da?(Wa=function(){return la.event.wheelDelta},"mousewheel"):(Wa=function(){return-la.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=O.of(this,arguments),e=S;Ll?la.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=M[0],i=M[1],r=m?m[0]:n/2,o=m?m[1]:i/2,a=la.interpolateZoom([(r-S.x)/S.k,(o-S.y)/S.k,n/S.k],[(r-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var i=a(e),s=n/i[2];this.__chart__=S={x:r-i[0]*s,y:o-i[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=S,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(S={x:+e[0],y:+e[1],k:S.k},s(),t):[S.x,S.y]},t.scale=function(e){return arguments.length?(S={x:S.x,y:S.y,k:null},r(+e),s(),t):S.k},t.scaleExtent=function(e){return arguments.length?(D=null==e?Ya:[+e[0],+e[1]],t):D},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(M=e&&[+e[0],+e[1]],t):M},t.duration=function(e){return arguments.length?(A=+e,t):A},t.x=function(e){return arguments.length?(w=e,x=e.copy(),S={x:0,y:0,k:1},t):w},t.y=function(e){return arguments.length?(C=e,_=e.copy(),S={x:0,y:0,k:1},t):C},la.rebind(t,O,"on")};var Wa,Va,Ya=[0,Infinity];la.color=at,at.prototype.toString=function(){return this.rgb()+""},la.hsl=st;var Xa=st.prototype=new at;Xa.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Xa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Xa.rgb=function(){return lt(this.h,this.s,this.l)},la.hcl=ut;var Ga=ut.prototype=new at;Ga.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+Za*(arguments.length?t:1)))},Ga.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-Za*(arguments.length?t:1)))},Ga.rgb=function(){return ct(this.h,this.c,this.l).rgb()},la.lab=dt;var Za=18,Ka=.95047,Ja=1,Qa=1.08883,ts=dt.prototype=new at;ts.brighter=function(t){return new dt(Math.min(100,this.l+Za*(arguments.length?t:1)),this.a,this.b)},ts.darker=function(t){return new dt(Math.max(0,this.l-Za*(arguments.length?t:1)),this.a,this.b)},ts.rgb=function(){return ft(this.l,this.a,this.b)},la.rgb=vt;var es=vt.prototype=new at;es.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new vt(r,r,r)},es.darker=function(t){return new vt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},es.hsl=function(){return _t(this.r,this.g,this.b)},es.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var ns=la.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ns.forEach(function(t,e){ns.set(t,bt(e))}),la.functor=Tt,la.xhr=Mt(b),la.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=Dt(t,e,null==n?i:r(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?i:r(t)):n},a}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(c>=u)return a;if(r)return r=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return c=n+2,13===(i=t.charCodeAt(n+1))?(r=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<u;){var i,s=1;if(10===(i=t.charCodeAt(c++)))r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++s);else if(i!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var i,r,o={},a={},s=[],u=t.length,c=0,d=0;(i=n())!==a;){for(var f=[];i!==o&&i!==a;)f.push(i),i=n();e&&null==(f=e(f,d++))||s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new v,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(a).join(t)].concat(e.map(function(e){return r.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},la.csv=la.dsv(",","text/csv"),la.tsv=la.dsv("\t","text/tab-separated-values");var is,rs,os,as,ss=this[x(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};la.timer=function(){jt.apply(this,arguments)},la.timer.flush=function(){Ft(),Et()},la.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ls=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Pt);la.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=la.round(t,Ot(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ls[8+n/3]};var us=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,cs=la.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=la.round(t,Ot(t,e))).toFixed(Math.max(0,Math.min(20,Ot(t*(1+1e-15),e))))}}),ds=la.time={},fs=Date;Bt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){hs.setUTCDate.apply(this._,arguments)},setDay:function(){hs.setUTCDay.apply(this._,arguments)},setFullYear:function(){hs.setUTCFullYear.apply(this._,arguments)},setHours:function(){hs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){hs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){hs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){hs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){hs.setUTCSeconds.apply(this._,arguments)},setTime:function(){hs.setTime.apply(this._,arguments)}};var hs=Date.prototype;ds.year=Rt(function(t){return(t=ds.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ds.years=ds.year.range,ds.years.utc=ds.year.utc.range,ds.day=Rt(function(t){var e=new fs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ds.days=ds.day.range,ds.days.utc=ds.day.utc.range,ds.dayOfYear=function(t){var e=ds.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ds[t]=Rt(function(t){return(t=ds.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ds.year(t).getDay();return Math.floor((ds.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ds[t+"s"]=n.range,ds[t+"s"].utc=n.utc.range,ds[t+"OfYear"]=function(t){var n=ds.year(t).getDay();return Math.floor((ds.dayOfYear(t)+(n+e)%7)/7)}}),ds.week=ds.sunday,ds.weeks=ds.sunday.range,ds.weeks.utc=ds.sunday.utc.range,ds.weekOfYear=ds.sundayOfYear;var ps={"-":"",_:" ",0:"0"},gs=/^\s*\d+/,ms=/^%/;la.locale=function(t){return{numberFormat:Lt(t),timeFormat:Ht(t)}};var vs=la.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});la.format=vs.numberFormat,la.geo={},ue.prototype={s:0,t:0,add:function(t){ce(t,this.t,bs),ce(bs.s,this.s,this),this.s?this.t+=bs.t:this.s=bs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var bs=new ue;la.geo.stream=function(t,e){t&&ys.hasOwnProperty(t.type)?ys[t.type](t,e):de(t,e)};var ys={Feature:function(t,e){de(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)de(n[i].geometry,e)}},xs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fe(n[i],e,0)},Polygon:function(t,e){he(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)he(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)de(n[i],e)}};la.geo.area=function(t){return ws=0,la.geo.stream(t,Es),ws};var ws,_s,Cs,ks,Ss,Ts,Ms,Ds,As,Is,js,$s,Fs=new ue,Es={sphere:function(){ws+=4*Pa},point:w,lineStart:w,lineEnd:w,polygonStart:function(){Fs.reset(),Es.lineStart=pe},polygonEnd:function(){var t=2*Fs;ws+=t<0?4*Pa+t:t,Es.lineStart=Es.lineEnd=Es.point=w}};la.geo.bounds=function(){function t(t,e){y.push(x=[c=t,f=t]),e<d&&(d=e),e>h&&(h=e)}function e(e,n){var i=ge([e*Ra,n*Ra]);if(v){var r=ve(v,i),o=ve([r[1],-r[0],0],r);xe(o),o=we(o);var a=e-p,l=a>0?1:-1,u=o[0]*za*l,g=ba(a)>180;if(g^(l*p<u&&u<l*e))(m=o[1]*za)>h&&(h=m);else if(g^(l*p<(u=(u+360)%360-180)&&u<l*e)){var m;(m=-o[1]*za)<d&&(d=m)}else n<d&&(d=n),n>h&&(h=n);g?e<p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(e<c&&(c=e),e>f&&(f=e)):e>p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,n);v=i,p=e}function n(){w.point=e}function i(){x[0]=c,x[1]=f,w.point=t,v=null}function r(t,n){if(v){var i=t-p;b+=ba(i)>180?i+(i>0?360:-360):i}else g=t,m=n;Es.point(t,n),e(t,n)}function o(){Es.lineStart()}function a(){r(g,m),Es.lineEnd(),ba(b)>Ea&&(c=-(f=180)),x[0]=c,x[1]=f,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,d,f,h,p,g,m,v,b,y,x,w={point:t,lineStart:n,lineEnd:i,polygonStart:function(){w.point=r,w.lineStart=o,w.lineEnd=a,b=0,Es.polygonStart()},polygonEnd:function(){Es.polygonEnd(),w.point=t,w.lineStart=n,w.lineEnd=i,Fs<0?(c=-(f=180),d=-(h=90)):b>Ea?h=90:b<-Ea&&(d=-90),x[0]=c,x[1]=f}};return function(t){if(h=f=-(c=d=Infinity),y=[],la.geo.stream(t,w),r=y.length){y.sort(l);for(var e=1,n=[p=y[0]];e<r;++e)u((o=y[e])[0],p)||u(o[1],p)?(s(p[0],o[1])>s(p[0],p[1])&&(p[1]=o[1]),s(o[0],p[1])>s(p[0],p[1])&&(p[0]=o[0])):n.push(p=o);for(var i,r,o,a=-Infinity,p=(e=0,n[r=n.length-1]);e<=r;p=o,++e)o=n[e],(i=s(p[1],o[0]))>a&&(a=i,c=o[0],f=p[1])}return y=x=null,c===Infinity||d===Infinity?[[NaN,NaN],[NaN,NaN]]:[[c,d],[f,h]]}}(),la.geo.centroid=function(t){_s=Cs=ks=Ss=Ts=Ms=Ds=As=Is=js=$s=0,la.geo.stream(t,Os);var e=Is,n=js,i=$s,r=e*e+n*n+i*i;return r<Oa&&(e=Ms,n=Ds,i=As,Cs<Ea&&(e=ks,n=Ss,i=Ts),(r=e*e+n*n+i*i)<Oa)?[NaN,NaN]:[Math.atan2(n,e)*za,et(i/Math.sqrt(r))*za]};var Os={sphere:w,point:Ce,lineStart:Se,lineEnd:Te,polygonStart:function(){Os.lineStart=Me},polygonEnd:function(){Os.lineStart=Se}},Ps=Fe(Ae,Le,Be,[-Pa,-Pa/2]),Ls=1e9;la.geo.clipExtent=function(){var t,e,n,i,r,o,a={stream:function(t){return r&&(r.valid=!1),(r=o(t)).valid=!0,r},extent:function(s){return arguments.length?(o=Ue(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),a):[[t,e],[n,i]]}};return a.extent([[0,0],[960,500]])},(la.geo.conicEqualArea=function(){return qe(We)}).raw=We,la.geo.albers=function(){return la.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},la.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(i(o,a),e)||r(o,a),e}var e,n,i,r,o=la.geo.albers(),a=la.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=la.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?a:r>=.166&&r<.234&&i>=-.214&&i<-.115?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var u=o.scale(),c=+e[0],d=+e[1];return n=o.translate(e).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(l).point,i=a.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+Ea,d+.12*u+Ea],[c-.214*u-Ea,d+.234*u-Ea]]).stream(l).point,r=s.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+Ea,d+.166*u+Ea],[c-.115*u-Ea,d+.234*u-Ea]]).stream(l).point,t},t.scale(1070)};var Ns,Bs,Rs,zs,Hs,Us,qs,Ws={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Bs=0,Ws.lineStart=Ve},polygonEnd:function(){Ws.lineStart=Ws.lineEnd=Ws.point=w,Ns+=ba(Bs/2)}},Vs={point:Ye,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Ys={point:Ze,lineStart:Ke,lineEnd:Je,polygonStart:function(){Ys.lineStart=Qe},polygonEnd:function(){Ys.point=Ze,Ys.lineStart=Ke,Ys.lineEnd=Je}};la.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=r(o)),la.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,i,r,o,a,s=4.5;return t.area=function(t){return Ns=0,la.geo.stream(t,r(Ws)),Ns},t.centroid=function(t){return ks=Ss=Ts=Ms=Ds=As=Is=js=$s=0,la.geo.stream(t,r(Ys)),$s?[Is/$s,js/$s]:As?[Ms/As,Ds/As]:Ts?[ks/Ts,Ss/Ts]:[NaN,NaN]},t.bounds=function(t){return Hs=Us=-(Rs=zs=Infinity),la.geo.stream(t,r(Vs)),[[Rs,zs],[Hs,Us]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||nn(t):b,e()):n},t.context=function(t){return arguments.length?(o=null==(i=t)?new Xe:new tn(t),"function"!=typeof s&&o.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(la.geo.albersUsa()).context(null)},la.geo.transform=function(t){return{stream:function(e){var n=new rn(e);for(var i in t)n[i]=t[i];return n}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},la.geo.projection=an,la.geo.projectionMutator=sn,(la.geo.equirectangular=function(){return an(un)}).raw=un.invert=un,la.geo.rotation=function(t){function e(e){return(e=t(e[0]*Ra,e[1]*Ra))[0]*=za,e[1]*=za,e}return t=dn(t[0]%360*Ra,t[1]*Ra,t.length>2?t[2]*Ra:0),e.invert=function(e){return(e=t.invert(e[0]*Ra,e[1]*Ra))[0]*=za,e[1]*=za,e},e},cn.invert=un,la.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=dn(-t[0]*Ra,-t[1]*Ra,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=za,t[1]*=za}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=gn((e=+i)*Ra,r*Ra),t):e},t.precision=function(i){return arguments.length?(n=gn(e*Ra,(r=+i)*Ra),t):r},t.angle(90)},la.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Ra,r=t[1]*Ra,o=e[1]*Ra,a=Math.sin(i),s=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},la.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return la.range(Math.ceil(o/m)*m,r,m).map(f).concat(la.range(Math.ceil(u/v)*v,l,v).map(h)).concat(la.range(Math.ceil(i/p)*p,n,p).filter(function(t){return ba(t%m)>Ea}).map(c)).concat(la.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ba(t%v)>Ea}).map(d))}var n,i,r,o,a,s,l,u,c,d,f,h,p=10,g=p,m=90,v=360,b=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(h(l).slice(1),f(r).reverse().slice(1),h(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],u=+e[0][1],l=+e[1][1],o>r&&(e=o,o=r,r=e),u>l&&(e=u,u=l,l=e),t.precision(b)):[[o,u],[r,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(b)):[[i,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(b=+e,c=vn(s,a,90),d=bn(i,n,b),f=vn(u,l,90),h=bn(o,r,b),t):b},t.majorExtent([[-180,-90+Ea],[180,90-Ea]]).minorExtent([[-180,-80-Ea],[180,80+Ea]])},la.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=yn,r=xn;return t.distance=function(){return la.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},la.geo.interpolate=function(t,e){return wn(t[0]*Ra,t[1]*Ra,e[0]*Ra,e[1]*Ra)},la.geo.length=function(t){return qs=0,la.geo.stream(t,Xs),qs};var Xs={sphere:w,point:w,lineStart:_n,lineEnd:w,polygonStart:w,polygonEnd:w},Gs=Cn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(la.geo.azimuthalEqualArea=function(){return an(Gs)}).raw=Gs;var Zs=Cn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},b);(la.geo.azimuthalEquidistant=function(){return an(Zs)}).raw=Zs,(la.geo.conicConformal=function(){return qe(kn)}).raw=kn,(la.geo.conicEquidistant=function(){return qe(Sn)}).raw=Sn;var Ks=Cn(function(t){return 1/t},Math.atan);(la.geo.gnomonic=function(){return an(Ks)}).raw=Ks,Tn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ba]},(la.geo.mercator=function(){return Mn(Tn)}).raw=Tn;var Js=Cn(function(){return 1},Math.asin);(la.geo.orthographic=function(){return an(Js)}).raw=Js;var Qs=Cn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(la.geo.stereographic=function(){return an(Qs)}).raw=Qs,Dn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ba]},(la.geo.transverseMercator=function(){var t=Mn(Dn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=Dn,la.geom={},la.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=Tt(n),o=Tt(i),a=t.length,s=[],l=[];for(e=0;e<a;e++)s.push([+r.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort($n),e=0;e<a;e++)l.push([s[e][0],-s[e][1]]);var u=jn(s),c=jn(l),d=c[0]===u[0],f=c[c.length-1]===u[u.length-1],h=[];for(e=u.length-1;e>=0;--e)h.push(t[s[u[e]][2]]);for(e=+d;e<c.length-f;++e)h.push(t[s[c[e]][2]]);return h}var n=An,i=In;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},la.geom.polygon=function(t){return Ca(t,tl),t};var tl=la.geom.polygon.prototype=[];tl.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},tl.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},tl.clip=function(t){for(var e,n,i,r,o,a,s=On(t),l=-1,u=this.length-On(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],o=e[(i=e.length-s)-1],n=-1;++n<i;)Fn(a=e[n],c,r)?(Fn(o,c,r)||t.push(En(o,a,c,r)),t.push(a)):Fn(o,c,r)&&t.push(En(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t};var el,nl,il,rl,ol,al=[],sl=[];Un.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Wn),e.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ni.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ai(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ri(this,n),n=(t=n).U),n.C=!1,i.C=!0,oi(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(oi(this,n),n=(t=n).U),n.C=!1,i.C=!0,ri(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?ai(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,ri(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,oi(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ri(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,oi(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,oi(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},la.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],o=s[1][0],a=s[1][1];return si(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site;(e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=i&&u.x<=o&&u.y>=r&&u.y<=a?[[i,a],[o,a],[o,r],[i,r]]:[]).point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ea)*Ea,y:Math.round(a(t,e)/Ea)*Ea,i:e}})}var i=An,r=In,o=i,a=r,s=ll;return t?e(t):(e.links=function(t){return si(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return si(n(t)).cells.forEach(function(n,i){for(var r,o=n.site,a=n.edges.sort(Wn),s=-1,l=a.length,u=a[l-1].edge,c=u.l===o?u.r:u.l;++s<l;)u,r=c,c=(u=a[s].edge).l===o?u.r:u.l,i<r.i&&i<c.i&&ui(o,r,c)<0&&e.push([t[i],t[r.i],t[c.i]])}),e},e.x=function(t){return arguments.length?(o=Tt(i=t),e):i},e.y=function(t){return arguments.length?(a=Tt(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?ll:t,e):s===ll?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ll?null:s&&s[1]},e)};var ll=[[-1e6,-1e6],[1e6,1e6]];la.geom.delaunay=function(t){return la.geom.voronoi().triangles(t)},la.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(ba(l-n)+ba(c-i)<.01)u(t,e,n,i,r,o,a,s);else{var d=t.point;t.x=t.y=t.point=null,u(t,d,l,c,r,o,a,s),u(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else u(t,e,n,i,r,o,a,s)}function u(t,e,n,i,r,a,s,l){var u=.5*(r+s),c=.5*(a+l),d=n>=u,f=i>=c,h=f<<1|d;t.leaf=!1,d?r=u:s=u,f?a=c:l=c,o(t=t.nodes[h]||(t.nodes[h]=fi()),e,n,i,r,a,s,l)}var c,d,f,h,p,g,m,v,b,y=Tt(s),x=Tt(l);if(null!=e)g=e,m=n,v=i,b=r;else if(v=b=-(g=m=Infinity),d=[],f=[],p=t.length,
a)for(h=0;h<p;++h)(c=t[h]).x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>b&&(b=c.y),d.push(c.x),f.push(c.y);else for(h=0;h<p;++h){var w=+y(c=t[h],h),_=+x(c,h);w<g&&(g=w),_<m&&(m=_),w>v&&(v=w),_>b&&(b=_),d.push(w),f.push(_)}var C=v-g,k=b-m;C>k?b=m+C:v=g+k;var S=fi();if(S.add=function(t){o(S,t,+y(t,++h),+x(t,h),g,m,v,b)},S.visit=function(t){hi(t,S,g,m,v,b)},S.find=function(t){return pi(S,t[0],t[1],g,m,v,b)},h=-1,null==e){for(;++h<p;)o(S,t[h],d[h],f[h],g,m,v,b);--h}else t.forEach(S.add);return d=f=t=c=null,S}var a,s=An,l=In;return(a=arguments.length)?(s=ci,l=di,3===a&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o):null==e?null:[[e,n],[i,r]]},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i-e,r-n]},o)},la.interpolateRgb=gi,la.interpolateObject=mi,la.interpolateNumber=vi,la.interpolateString=bi;var ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cl=new RegExp(ul.source,"g");la.interpolate=yi,la.interpolators=[function(t,e){var n=typeof e;return("string"===n?ns.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gi:bi:e instanceof at?gi:Array.isArray(e)?xi:"object"===n&&isNaN(e)?mi:vi)(t,e)}],la.interpolateArray=xi;var dl=function(){return b},fl=la.map({linear:dl,poly:Mi,quad:function(){return ki},cubic:function(){return Si},sin:function(){return Di},exp:function(){return Ai},circle:function(){return Ii},elastic:ji,back:$i,bounce:function(){return Fi}}),hl=la.map({"in":b,out:_i,"in-out":Ci,"out-in":function(t){return Ci(_i(t))}});la.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=fl.get(n)||dl,wi((i=hl.get(i)||b)(n.apply(null,ua.call(arguments,1))))},la.interpolateHcl=Ei,la.interpolateHsl=Oi,la.interpolateLab=Pi,la.interpolateRound=Li,la.transform=function(t){var e=da.createElementNS(la.ns.prefix.svg,"g");return(la.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ni(n?n.matrix:pl)})(t)},Ni.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var pl={a:1,b:0,c:0,d:1,e:0,f:0};la.interpolateTransform=Yi,la.layout={},la.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Zi(t[n]));return e}},la.layout.chord=function(){function t(){var t,u,d,f,h,p={},g=[],m=la.range(o),v=[];for(n=[],i=[],t=0,f=-1;++f<o;){for(u=0,h=-1;++h<o;)u+=r[f][h];g.push(u),v.push(la.range(o)),t+=u}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(La-c*o)/t,u=0,f=-1;++f<o;){for(d=u,h=-1;++h<o;){var b=m[f],y=v[b][h],x=r[b][y],w=u,_=u+=x*t;p[b+"-"+y]={index:b,subindex:y,startAngle:w,endAngle:_,value:x}}i[b]={index:b,startAngle:d,endAngle:u,value:g[b]},u+=c}for(f=-1;++f<o;)for(h=f-1;++h<o;){var C=p[f+"-"+h],k=p[h+"-"+f];(C.value||k.value)&&n.push(C.value<k.value?{source:k,target:C}:{source:C,target:k})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,o,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,u):r},u.padding=function(t){return arguments.length?(c=t,n=i=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=i=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return i||t(),i},u},la.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=r-n,l=o*o+a*a;if(s*s/v<l){if(l<g){var u=e.charge/l;t.px-=o*u,t.py-=a*u}return!0}if(e.point&&l&&l<g){u=e.pointCharge/l;t.px-=o*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=la.event.x,t.py=la.event.y,l.resume()}var n,i,r,o,a,s,l={},u=la.dispatch("start","tick","end"),c=[1,1],d=.9,f=gl,h=ml,p=-30,g=vl,m=.1,v=.64,y=[],x=[];return l.tick=function(){if((r*=.99)<.005)return n=null,u.end({type:"end",alpha:r=0}),!0;var e,i,l,f,h,g,v,b,w,_=y.length,C=x.length;for(i=0;i<C;++i)f=(l=x[i]).source,(g=(b=(h=l.target).x-f.x)*b+(w=h.y-f.y)*w)&&(b*=g=r*a[i]*((g=Math.sqrt(g))-o[i])/g,w*=g,h.x-=b*(v=f.weight+h.weight?f.weight/(f.weight+h.weight):.5),h.y-=w*v,f.x+=b*(v=1-v),f.y+=w*v);if((v=r*m)&&(b=c[0]/2,w=c[1]/2,i=-1,v))for(;++i<_;)(l=y[i]).x+=(b-l.x)*v,l.y+=(w-l.y)*v;if(p)for(ir(e=la.geom.quadtree(y),r,s),i=-1;++i<_;)(l=y[i]).fixed||e.visit(t(l));for(i=-1;++i<_;)(l=y[i]).fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*d,l.y-=(l.py-(l.py=l.y))*d);u.tick({type:"tick",alpha:r})},l.nodes=function(t){return arguments.length?(y=t,l):y},l.links=function(t){return arguments.length?(x=t,l):x},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.friction=function(t){return arguments.length?(d=+t,l):d},l.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.chargeDistance=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.gravity=function(t){return arguments.length?(m=+t,l):m},l.theta=function(t){return arguments.length?(v=t*t,l):Math.sqrt(v)},l.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:r=0})):t>0&&(u.start({type:"start",alpha:r=t}),n=jt(l.tick)),l):r},l.start=function(){function t(t,i){if(!n){for(n=new Array(r),l=0;l<r;++l)n[l]=[];for(l=0;l<u;++l){var o=x[l];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var a,s=n[e],l=-1,c=s.length;++l<c;)if(!isNaN(a=s[l][t]))return a;return Math.random()*i}var e,n,i,r=y.length,u=x.length,d=c[0],g=c[1];for(e=0;e<r;++e)(i=y[e]).index=e,i.weight=0;for(e=0;e<u;++e)"number"==typeof(i=x[e]).source&&(i.source=y[i.source]),"number"==typeof i.target&&(i.target=y[i.target]),++i.source.weight,++i.target.weight;for(e=0;e<r;++e)i=y[e],isNaN(i.x)&&(i.x=t("x",d)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(o=[],"function"==typeof f)for(e=0;e<u;++e)o[e]=+f.call(this,x[e],e);else for(e=0;e<u;++e)o[e]=f;if(a=[],"function"==typeof h)for(e=0;e<u;++e)a[e]=+h.call(this,x[e],e);else for(e=0;e<u;++e)a[e]=h;if(s=[],"function"==typeof p)for(e=0;e<r;++e)s[e]=+p.call(this,y[e],e);else for(e=0;e<r;++e)s[e]=p;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){if(i||(i=la.behavior.drag().origin(b).on("dragstart.force",Qi).on("drag.force",e).on("dragend.force",tr)),!arguments.length)return i;this.on("mouseover.force",er).on("mouseout.force",nr).call(i)},la.rebind(l,u,"on")};var gl=20,ml=1,vl=Infinity;la.layout.hierarchy=function(){function t(r){var o,a=[r],s=[];for(r.depth=0;null!=(o=a.pop());)if(s.push(o),(u=n.call(t,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=o,c.depth=o.depth+1;i&&(o.value=0),o.children=u}else i&&(o.value=+i.call(t,o,o.depth)||0),delete o.children;return ar(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),s}var e=ur,n=sr,i=lr;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(or(e,function(t){t.children&&(t.value=0)}),ar(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},la.layout.partition=function(){function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(a=o.length)){var a,s,l,u=-1;for(i=e.value?i/e.value:0;++u<a;)t(s=o[u],n,l=s.value*i,r),n+=l}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}function n(n,o){var a=i.call(this,n,o);return t(a[0],0,r[0],r[1]/e(a[0])),a}var i=la.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},rr(n,i)},la.layout.pie=function(){function t(a){var s,l=a.length,u=a.map(function(n,i){return+e.call(t,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),d=("function"==typeof r?r.apply(this,arguments):r)-c,f=Math.min(Math.abs(d)/l,+("function"==typeof o?o.apply(this,arguments):o)),h=f*(d<0?-1:1),p=la.sum(u),g=p?(d-l*h)/p:0,m=la.range(l),v=[];return null!=n&&m.sort(n===bl?function(t,e){return u[e]-u[t]}:function(t,e){return n(a[t],a[e])}),m.forEach(function(t){v[t]={data:a[t],value:s=u[t],startAngle:c,endAngle:c+=s*g+h,padAngle:f}}),v}var e=Number,n=bl,i=0,r=La,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var bl={};la.layout.stack=function(){function t(s,l){if(!(f=s.length))return s;var u=s.map(function(n,i){return e.call(t,n,i)}),c=u.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),d=n.call(t,c,l);u=la.permute(u,d),c=la.permute(c,d);var f,h,p,g,m=i.call(t,c,l),v=u[0].length;for(p=0;p<v;++p)for(r.call(t,u[0][p],g=m[p],c[0][p][1]),h=1;h<f;++h)r.call(t,u[h][p],g+=c[h-1][p][1],c[h][p][1]);return s}var e=b,n=pr,i=gr,r=hr,o=dr,a=fr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:yl.get(e)||pr,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:xl.get(e)||gr,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(r=e,t):r},t};var yl=la.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(mr),o=t.map(vr),a=la.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,l=0,u=[],c=[];for(e=0;e<i;++e)n=a[e],s<l?(s+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return la.range(t.length).reverse()},"default":pr}),xl=la.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];i>s&&(s=i),a.push(i)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,i,r,o,a,s,l,u,c=t.length,d=t[0],f=d.length,h=[];for(h[0]=l=u=0,n=1;n<f;++n){for(e=0,r=0;e<c;++e)r+=t[e][n][1];for(e=0,o=0,s=d[n][0]-d[n-1][0];e<c;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}h[n]=l-=r?o/r*s:0,l<u&&(u=l)}for(n=0;n<f;++n)h[n]-=u;return h},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:gr});la.layout.histogram=function(){function t(t,o){for(var a,s,l=[],u=t.map(n,this),c=i.call(this,u,o),d=r.call(this,c,u,o),f=(o=-1,u.length),h=d.length-1,p=e?1:1/f;++o<h;)(a=l[o]=[]).dx=d[o+1]-(a.x=d[o]),a.y=0;if(h>0)for(o=-1;++o<f;)(s=u[o])>=c[0]&&s<=c[1]&&((a=l[la.bisect(d,s,1,h)-1]).y+=p,a.push(t[o]));return l}var e=!0,n=Number,i=wr,r=yr;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=Tt(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return xr(t,e)}:Tt(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},la.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],l=r[0],u=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,ar(s,function(t){t.r=+c(t.value)}),ar(s,Tr),i){var d=i*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;ar(s,function(t){t.r+=d}),ar(s,Tr),ar(s,function(t){t.r-=d})}return Ar(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var e,n=la.layout.hierarchy().sort(_r),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},rr(t,n)},la.layout.tree=function(){function t(t,r){var c=a.call(this,t,r),d=c[0],f=e(d);if(ar(f,n),f.parent.m=-f.z,or(f,i),u)or(d,o);else{var h=d,p=d,g=d;or(d,function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=s(h,p)/2-h.x,v=l[0]/(p.x+s(p,h)/2+m),b=l[1]/(g.depth||1);or(d,function(t){t.x=(t.x+m)*v,t.y=t.depth*b})}return c}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Or(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+s(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+s(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,o=t,a=e,l=r.parent.children[0],u=r.m,c=o.m,d=a.m,f=l.m;a=Fr(a),r=$r(r),a&&r;)l=$r(l),(o=Fr(o)).a=t,(i=a.z+d-r.z-u+s(a._,r._))>0&&(Er(Pr(a,t,n),t,i),u+=i,c+=i),d+=a.m,u+=r.m,f+=l.m,c+=o.m;a&&!Fr(o)&&(o.t=a,o.m+=d-c),r&&!$r(l)&&(l.t=r,l.m+=u-f,n=t)}return n}function o(t){t.x*=l[0],t.y=t.depth*l[1]}var a=la.layout.hierarchy().sort(null).value(null),s=jr,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?o:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:o,t):u?l:null},rr(t,a)},la.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),l=s[0],u=0;ar(l,function(t){var e=t.children;e&&e.length?(t.x=Nr(e),t.y=Lr(e)):(t.x=a?u+=n(t,a):0,t.y=0,a=t)});var c=Br(l),d=Rr(l),f=c.x-n(c,d)/2,h=d.x+n(d,c)/2;return ar(l,r?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-f)/(h-f)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),s}var e=la.layout.hierarchy().sort(null).value(null),n=jr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},rr(t,e)},la.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function e(n){var o=n.children;if(o&&o.length){var a,s,l,u=d(n),c=[],f=o.slice(),p=Infinity,g="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(f,u.dx*u.dy/n.value),c.area=0;(l=f.length)>0;)c.push(a=f[l-1]),c.area+=a.area,"squarify"!==h||(s=i(c,g))<=p?(f.pop(),p=s):(c.area-=c.pop().area,r(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=Infinity);c.length&&(r(c,g,u,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,a=d(e),s=i.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;o=s.pop();)l.push(o),l.area+=o.area,null!=o.z&&(r(l,o.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=Infinity,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>r&&(r=n));return e*=e,(i*=i)?Math.max(e*r*p/i,i/(e*o*p)):Infinity}function r(t,e,n,i){var r,o=-1,a=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<a;)(r=t[o]).x=s,r.y=u,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?l(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<a;)(r=t[o]).x=s,r.y=u,r.dx=c,u+=r.dy=Math.min(n.y+n.dy-u,c?l(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(i){var r=a||s(i),o=r[0];return o.x=o.y=0,o.value?(o.dx=u[0],o.dy=u[1]):o.dx=o.dy=0,a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),f&&(a=r),r}var a,s=la.layout.hierarchy(),l=Math.round,u=[1,1],c=null,d=zr,f=!1,h="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?zr(e):Hr(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Hr(e,t)}return arguments.length?(d=null==(c=t)?zr:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,o):c;var i},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(f=t,a=null,o):f},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(h=t+"",o):h},rr(o,s)},la.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,i,r;do{r=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=la.random.normal.apply(la,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=la.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},la.scale={};var wl={floor:b,ceil:b};la.scale.linear=function(){return Gr([0,1],[0,1],yi,!1)};var _l={s:1,g:1,p:1,r:1,e:1};la.scale.log=function(){return io(la.scale.linear().domain([0,1]),10,!0,[1,10])};var Cl=la.format(".0e"),kl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};la.scale.pow=function(){return ro(la.scale.linear(),1,[0,1])},la.scale.sqrt=function(){return la.scale.pow().exponent(.5)},la.scale.ordinal=function(){return ao([],{t:"range",a:[[]]})},la.scale.category10=function(){return la.scale.ordinal().range(Sl)},la.scale.category20=function(){return la.scale.ordinal().range(Tl)},la.scale.category20b=function(){return la.scale.ordinal().range(Ml)},la.scale.category20c=function(){return la.scale.ordinal().range(Dl)};var Sl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt),Tl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt),Ml=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt),Dl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);la.scale.quantile=function(){return so([],[])},la.scale.quantize=function(){return lo(0,1,[0,1])},la.scale.threshold=function(){return uo([.5],[0,1])},la.scale.identity=function(){return co([0,1])},la.svg={},la.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+i.apply(this,arguments)),c=a.apply(this,arguments)-Ba,d=s.apply(this,arguments)-Ba,f=Math.abs(d-c),h=c>d?0:1;if(u<t&&(p=u,u=t,t=p),f>=Na)return e(u,h)+(t?e(t,1-h):"")+"Z";var p,g,m,v,b,y,x,w,_,C,k,S,T=0,M=0,D=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=o===Al?Math.sqrt(t*t+u*u):+o.apply(this,arguments),h||(M*=-1),u&&(M=et(m/u*Math.sin(v))),t&&(T=et(m/t*Math.sin(v)))),u){b=u*Math.cos(c+M),y=u*Math.sin(c+M),x=u*Math.cos(d-M),w=u*Math.sin(d-M);var A=Math.abs(d-c-2*M)<=Pa?0:1;if(M&&bo(b,y,x,w)===h^A){var I=(c+d)/2;b=u*Math.cos(I),y=u*Math.sin(I),x=w=null}}else b=y=0;if(t){_=t*Math.cos(d-T),C=t*Math.sin(d-T),k=t*Math.cos(c+T),S=t*Math.sin(c+T);var j=Math.abs(c-d+2*T)<=Pa?0:1;if(T&&bo(_,C,k,S)===1-h^j){var $=(c+d)/2;_=t*Math.cos($),C=t*Math.sin($),k=S=null}}else _=C=0;if(f>Ea&&(p=Math.min(Math.abs(u-t)/2,+r.apply(this,arguments)))>.001){g=t<u^h?0:1;var F=p,E=p;if(f<Pa){var O=null==k?[_,C]:null==x?[b,y]:En([b,y],[k,S],[x,w],[_,C]),P=b-O[0],L=y-O[1],N=x-O[0],B=w-O[1],R=1/Math.sin(Math.acos((P*N+L*B)/(Math.sqrt(P*P+L*L)*Math.sqrt(N*N+B*B)))/2),z=Math.sqrt(O[0]*O[0]+O[1]*O[1]);E=Math.min(p,(t-z)/(R-1)),F=Math.min(p,(u-z)/(R+1))}if(null!=x){var H=yo(null==k?[_,C]:[k,S],[b,y],u,F,h),U=yo([x,w],[_,C],u,F,h);p===F?D.push("M",H[0],"A",F,",",F," 0 0,",g," ",H[1],"A",u,",",u," 0 ",1-h^bo(H[1][0],H[1][1],U[1][0],U[1][1]),",",h," ",U[1],"A",F,",",F," 0 0,",g," ",U[0]):D.push("M",H[0],"A",F,",",F," 0 1,",g," ",U[0])}else D.push("M",b,",",y);if(null!=k){var q=yo([b,y],[k,S],t,-E,h),W=yo([_,C],null==x?[b,y]:[x,w],t,-E,h);p===E?D.push("L",W[0],"A",E,",",E," 0 0,",g," ",W[1],"A",t,",",t," 0 ",h^bo(W[1][0],W[1][1],q[1][0],q[1][1]),",",1-h," ",q[1],"A",E,",",E," 0 0,",g," ",q[0]):D.push("L",W[0],"A",E,",",E," 0 0,",g," ",q[0])}else D.push("L",_,",",C)}else D.push("M",b,",",y),null!=x&&D.push("A",u,",",u," 0 ",A,",",h," ",x,",",w),D.push("L",_,",",C),null!=k&&D.push("A",t,",",t," 0 ",j,",",1-h," ",k,",",S);return D.push("Z"),D.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=ho,i=po,r=fo,o=Al,a=go,s=mo,l=vo;return t.innerRadius=function(e){return arguments.length?(n=Tt(e),t):n},t.outerRadius=function(e){return arguments.length?(i=Tt(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=Tt(e),t):r},t.padRadius=function(e){return arguments.length?(o=e==Al?Al:Tt(e),t):o},t.startAngle=function(e){return arguments.length?(a=Tt(e),t):a},t.endAngle=function(e){return arguments.length?(s=Tt(e),t):s},t.padAngle=function(e){return arguments.length?(l=Tt(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Ba;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Al="auto";la.svg.line=function(){return xo(b)};var Il=la.map({linear:wo,"linear-closed":_o,step:Co,"step-before":ko,"step-after":So,basis:jo,"basis-open":$o,"basis-closed":Fo,bundle:Eo,cardinal:Do,"cardinal-open":To,"cardinal-closed":Mo,monotone:Ro});Il.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var jl=[0,2/3,1/3,0],$l=[0,1/3,2/3,0],Fl=[0,1/6,2/3,1/6];la.svg.line.radial=function(){var t=xo(zo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ko.reverse=So,So.reverse=ko,la.svg.area=function(){return Ho(b)},la.svg.area.radial=function(){var t=Ho(zo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},la.svg.chord=function(){function t(t,s){var l=e(this,o,t,s),u=e(this,a,t,s);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,u)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+r(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=s.call(t,r,i),a=l.call(t,r,i)-Ba,c=u.call(t,r,i)-Ba;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Pa)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var o=yn,a=xn,s=Uo,l=go,u=mo;return t.radius=function(e){return arguments.length?(s=Tt(e),t):s},t.source=function(e){return arguments.length?(o=Tt(e),t):o},t.target=function(e){return arguments.length?(a=Tt(e),t):a},t.startAngle=function(e){return arguments.length?(l=Tt(e),t):l},t.endAngle=function(e){return arguments.length?(u=Tt(e),t):u},t},la.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),a=n.call(this,t,r),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(i))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=yn,n=xn,i=qo;return t.source=function(n){return arguments.length?(e=Tt(n),t):e},t.target=function(e){return arguments.length?(n=Tt(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},la.svg.diagonal.radial=function(){var t=la.svg.diagonal(),e=qo,n=t.projection;return t.projection=function(t){return arguments.length?n(Wo(e=t)):e},t},la.svg.symbol=function(){function t(t,i){return(El.get(e.call(this,t,i))||Xo)(n.call(this,t,i))}var e=Yo,n=Vo;return t.type=function(n){return arguments.length?(e=Tt(n),t):e},t.size=function(e){return arguments.length?(n=Tt(e),t):n},t};var El=la.map({circle:Xo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Pl)),n=e*Pl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Ol),n=e*Ol/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Ol),n=e*Ol/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});la.svg.symbolTypes=El.keys();var Ol=Math.sqrt(3),Pl=Math.tan(30*Ra);Ma.transition=function(t){for(var e,n,i=Ll||++zl,r=Qo(t),o=[],a=Nl||{time:Date.now(),ease:Ti,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(n=u[c])&&ta(n,c,r,i,a),e.push(n)}return Zo(o,r,i)},Ma.interrupt=function(t){return this.each(null==t?Bl:Go(Qo(t)))};var Ll,Nl,Bl=Go(Qo()),Rl=[],zl=0;Rl.call=Ma.call,Rl.empty=Ma.empty,Rl.node=Ma.node,Rl.size=Ma.size,la.transition=function(t,e){return t&&t.transition?Ll?t.transition(e):t:la.selection().transition(t)},la.transition.prototype=Rl,Rl.select=function(t){var e,n,i,r=this.id,o=this.namespace,a=[];t=D(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(i=u[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),ta(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return Zo(a,o,r)},Rl.selectAll=function(t){var e,n,i,r,o,a=this.id,s=this.namespace,l=[];t=A(t);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],f=-1,h=d.length;++f<h;)if(i=d[f]){o=i[s][a],n=t.call(i,i.__data__,f,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&ta(r,p,s,a,o),e.push(r)}return Zo(l,s,a)},Rl.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=z(t));for(var r=0,o=this.length;r<o;r++){i.push(e=[]);for(var a,s=0,l=(a=this[r]).length;s<l;s++)(n=a[s])&&t.call(n,n.__data__,s,r)&&e.push(n)}return Zo(i,this.namespace,this.id)},Rl.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):U(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},Rl.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Yi:yi,s=la.ns.qualify(t);return Ko(this,"attr."+t,e,s.local?o:r)},Rl.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=la.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Rl.style=function(t,n,i){function r(){this.style.removeProperty(t)}function o(n){return null==n?r:(n+="",function(){var r,o=e(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(r=yi(o,n),function(e){this.style.setProperty(t,r(e),i)})})}var a=arguments.length;if(a<3){if("string"!=typeof t){for(i in a<2&&(n=""),t)this.style(i,t[i],n);return this}i=""}return Ko(this,"style."+t,n,o)},Rl.styleTween=function(t,n,i){function r(r,o){var a=n.call(this,r,o,e(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,r)},Rl.text=function(t){return Ko(this,"text",t,Jo)},Rl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Rl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=la.ease.apply(la,arguments)),U(this,function(i){i[n][e].ease=t}))},Rl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:U(this,"function"==typeof t?function(i,r,o){i[n][e].delay=+t.call(i,i.__data__,r,o)}:(t=+t,function(i){i[n][e].delay=t}))},Rl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:U(this,"function"==typeof t?function(i,r,o){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,o))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Rl.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=Nl,o=Ll;try{Ll=n,U(this,function(e,r,o){Nl=e[i][n],t.call(e,e.__data__,r,o)})}finally{Nl=r,Ll=o}}else U(this,function(r){var o=r[i][n];(o.event||(o.event=la.dispatch("start","end","interrupt"))).on(t,e)});return this},Rl.transition=function(){for(var t,e,n,i=this.id,r=++zl,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(t=[]);for(var u,c=0,d=(u=this[s]).length;c<d;c++)(e=u[c])&&ta(e,c,o,r,{time:(n=e[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Zo(a,o,r)},la.svg.axis=function(){function t(t){t.each(function(){var t,u=la.select(this),c=this.__chart__||n,d=this.__chart__=n.copy(),f=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,h=null==e?d.tickFormat?d.tickFormat.apply(d,s):b:e,p=u.selectAll(".tick").data(f,d),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ea),m=la.transition(p.exit()).style("opacity",Ea).remove(),v=la.transition(p.order()).style("opacity",1),y=Math.max(r,0)+a,x=qr(d),w=u.selectAll(".domain").data([0]),_=(w.enter().append("path").attr("class","domain"),la.transition(w));g.append("line"),g.append("text");var C,k,S,T,M=g.select("line"),D=v.select("line"),A=p.select("text").text(h),I=g.select("text"),j=v.select("text"),$="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=ea,C="x",S="y",k="x2",T="y2",A.attr("dy",$<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+$*o+"V0H"+x[1]+"V"+$*o)):(t=na,C="y",S="x",k="y2",T="x2",A.attr("dy",".32em").style("text-anchor",$<0?"end":"start"),_.attr("d","M"+$*o+","+x[0]+"H0V"+x[1]+"H"+$*o)),M.attr(T,$*r),I.attr(S,$*y),D.attr(k,0).attr(T,$*r),j.attr(C,0).attr(S,$*y),d.rangeBand){var F=d,E=F.rangeBand()/2;c=d=function(t){return F(t)+E}}else c.rangeBand?c=d:m.call(t,d,c);g.call(t,c,d),v.call(t,d,d)})}var e,n=la.scale.linear(),i=Hl,r=6,o=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Ul?e+"":Hl,t):i},t.ticks=function(){return arguments.length?(s=ca(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,o=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Hl="bottom",Ul={top:1,right:1,bottom:1,left:1};la.svg.brush=function(){function t(e){e.each(function(){var e=la.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=e.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,b);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return ql[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,d=la.transition(e),f=la.transition(a);u&&(l=qr(u),f.attr("x",l[0]).attr("width",l[1]-l[0]),i(d)),c&&(l=qr(c),f.attr("y",l[0]).attr("height",l[1]-l[0]),r(d)),n(d)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+d[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",d[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function r(t){t.select(".extent").attr("y",f[0]),
t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function o(){function o(){32==la.event.keyCode&&(A||(y=null,j[0]-=d[1],j[1]-=f[1],A=2),k())}function g(){32==la.event.keyCode&&2==A&&(j[0]+=d[1],j[1]+=f[1],A=0,k())}function m(){var t=la.mouse(w),e=!1;x&&(t[0]+=x[0],t[1]+=x[1]),A||(la.event.altKey?(y||(y=[(d[0]+d[1])/2,(f[0]+f[1])/2]),j[0]=d[+(t[0]<y[0])],j[1]=f[+(t[1]<y[1])]):y=null),M&&v(t,u,0)&&(i(S),e=!0),D&&v(t,c,1)&&(r(S),e=!0),e&&(n(S),C({type:"brush",mode:A?"move":"resize"}))}function v(t,e,n){var i,r,o=qr(e),l=o[0],u=o[1],c=j[n],g=n?f:d,m=g[1]-g[0];if(A&&(l-=c,u-=m+c),i=(n?p:h)?Math.max(l,Math.min(u,t[n])):t[n],A?r=(i+=c)+m:(y&&(c=Math.max(l,Math.min(u,2*y[n]-i))),c<i?(r=i,i=c):r=c),g[0]!=i||g[1]!=r)return n?s=null:a=null,g[0]=i,g[1]=r,!0}function b(){m(),S.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),la.select("body").style("cursor",null),$.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),I(),C({type:"brushend"})}var y,x,w=this,_=la.select(la.event.target),C=l.of(w,arguments),S=la.select(w),T=_.datum(),M=!/^(n|s)$/.test(T)&&u,D=!/^(e|w)$/.test(T)&&c,A=_.classed("extent"),I=G(w),j=la.mouse(w),$=la.select(e(w)).on("keydown.brush",o).on("keyup.brush",g);if(la.event.changedTouches?$.on("touchmove.brush",m).on("touchend.brush",b):$.on("mousemove.brush",m).on("mouseup.brush",b),S.interrupt().selectAll("*").interrupt(),A)j[0]=d[0]-j[0],j[1]=f[0]-j[1];else if(T){var F=+/w$/.test(T),E=+/^n/.test(T);x=[d[1-F]-j[0],f[1-E]-j[1]],j[0]=d[F],j[1]=f[E]}else la.event.altKey&&(y=j.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),la.select("body").style("cursor",_.style("cursor")),C({type:"brushstart"}),m()}var a,s,l=T(t,"brushstart","brush","brushend"),u=null,c=null,d=[0,0],f=[0,0],h=!0,p=!0,g=Wl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:d,y:f,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Ll?la.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,d=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=xi(d,e.x),i=xi(f,e.y);return a=s=null,function(r){d=e.x=n(r),f=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(g=Wl[!(u=e)<<1|!c],t):u},t.y=function(e){return arguments.length?(g=Wl[!u<<1|!(c=e)],t):c},t.clamp=function(e){return arguments.length?(u&&c?(h=!!e[0],p=!!e[1]):u?h=!!e:c&&(p=!!e),t):u&&c?[h,p]:u?h:c?p:null},t.extent=function(e){var n,i,r,o,l;return arguments.length?(u&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),a=[n,i],u.invert&&(n=u(n),i=u(i)),i<n&&(l=n,n=i,i=l),n==d[0]&&i==d[1]||(d=[n,i])),c&&(r=e[0],o=e[1],u&&(r=r[1],o=o[1]),s=[r,o],c.invert&&(r=c(r),o=c(o)),o<r&&(l=r,r=o,o=l),r==f[0]&&o==f[1]||(f=[r,o])),t):(u&&(a?(n=a[0],i=a[1]):(n=d[0],i=d[1],u.invert&&(n=u.invert(n),i=u.invert(i)),i<n&&(l=n,n=i,i=l))),c&&(s?(r=s[0],o=s[1]):(r=f[0],o=f[1],c.invert&&(r=c.invert(r),o=c.invert(o)),o<r&&(l=r,r=o,o=l))),u&&c?[[n,r],[i,o]]:u?[n,i]:c&&[r,o])},t.clear=function(){return t.empty()||(d=[0,0],f=[0,0],a=s=null),t},t.empty=function(){return!!u&&d[0]==d[1]||!!c&&f[0]==f[1]},la.rebind(t,l,"on")};var ql={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Vl=ds.format=vs.timeFormat,Yl=Vl.utc,Xl=Yl("%Y-%m-%dT%H:%M:%S.%LZ");Vl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ia:Xl,ia.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ia.toString=Xl.toString,ds.second=Rt(function(t){return new fs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ds.seconds=ds.second.range,ds.seconds.utc=ds.second.utc.range,ds.minute=Rt(function(t){return new fs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ds.minutes=ds.minute.range,ds.minutes.utc=ds.minute.utc.range,ds.hour=Rt(function(t){var e=t.getTimezoneOffset()/60;return new fs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ds.hours=ds.hour.range,ds.hours.utc=ds.hour.utc.range,ds.month=Rt(function(t){return(t=ds.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ds.months=ds.month.range,ds.months.utc=ds.month.utc.range;var Gl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Zl=[[ds.second,1],[ds.second,5],[ds.second,15],[ds.second,30],[ds.minute,1],[ds.minute,5],[ds.minute,15],[ds.minute,30],[ds.hour,1],[ds.hour,3],[ds.hour,6],[ds.hour,12],[ds.day,1],[ds.day,2],[ds.week,1],[ds.month,1],[ds.month,3],[ds.year,1]],Kl=Vl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ae]]),Jl={range:function(t,e,n){return la.range(Math.ceil(t/n)*n,+e,n).map(oa)},floor:b,ceil:b};Zl.year=ds.year,ds.scale=function(){return ra(la.scale.linear(),Zl,Kl)};var Ql=Zl.map(function(t){return[t[0].utc,t[1]]}),tu=Yl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ae]]);Ql.year=ds.year.utc,ds.scale.utc=function(){return ra(la.scale.linear(),Ql,tu)},la.text=Mt(function(t){return t.responseText}),la.json=function(t,e){return Dt(t,"application/json",aa,e)},la.html=function(t,e){return Dt(t,"text/html",sa,e)},la.xml=Mt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=la,define(la)):"object"==typeof module&&module.exports?module.exports=la:this.d3=la}(),function(){var t=window.nv||{};window.nv=t,t.dev=!1,t.tooltip=t.tooltip||{},t.utils=t.utils||{},t.models=t.models||{},t.charts={},t.graphs=[],t.logs={},t.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),t.dev&&(t.dispatch.on("render_start",function(){t.logs.startTime=+new Date}),t.dispatch.on("render_end",function(){t.logs.endTime=+new Date,t.logs.totalTime=t.logs.endTime-t.logs.startTime,t.log("total",t.logs.totalTime)})),t.log=function(){if(t.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(t.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){Function.prototype.bind.call(console.log,console).apply(console,arguments)}return arguments[arguments.length-1]},t.deprecated=function(e){t.dev&&console&&console.warn&&console.warn("`"+e+"` has been deprecated.")},t.render=function(e){e=e||1,t.render.active=!0,t.dispatch.render_start(),setTimeout(function(){for(var n,i,r=0;r<e&&(i=t.render.queue[r]);r++)n=i.generate(),typeof i.callback==typeof Function&&i.callback(n),t.graphs.push(n);t.render.queue.splice(0,r),t.render.queue.length?setTimeout(arguments.callee,0):(t.dispatch.render_end(),t.render.active=!1)},0)},t.render.active=!1,t.render.queue=[],t.addGraph=function(e){typeof arguments[0]==typeof Function&&(e={generate:arguments[0],callback:arguments[1]}),t.render.queue.push(e),t.render.active||t.render()},t.interactiveGuideline=function(){"use strict";function e(d){d.each(function(d){function f(){var t=d3.mouse(this),i=t[0],r=t[1],l=!0,u=!1;if(c&&(i=d3.event.offsetX,r=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(l=!1),d3.event.target.className.baseVal.match("nv-legend")&&(u=!0)),l&&(i-=o.left,r-=o.top),i<0||r<0||i>p||r>g||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined||u){if(c&&d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined&&d3.event.relatedTarget.className.match(n.nvPointerEventsClass))return;return s.elementMouseout({mouseX:i,mouseY:r}),void e.renderGuideLine(null)}var d=a.invert(i);s.elementMousemove({mouseX:i,mouseY:r,pointXValue:d}),"dblclick"===d3.event.type&&s.elementDblclick({mouseX:i,mouseY:r,pointXValue:d}),"click"===d3.event.type&&s.elementClick({mouseX:i,mouseY:r,pointXValue:d})}var h=d3.select(this),p=i||960,g=r||400,m=h.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]);m.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),u&&(u.on("mousemove",f,!0).on("mouseout",f,!0).on("dblclick",f).on("click",f),e.renderGuideLine=function(e){if(l){var n=m.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[t.utils.NaNtoZero(e)]:[],String);n.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",g).attr("y2",0),n.exit().remove()}})})}var n=t.models.tooltip(),i=null,r=null,o={left:0,top:0},a=d3.scale.linear(),s=(d3.scale.linear(),d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick")),l=!0,u=null,c="ActiveXObject"in window;return e.dispatch=s,e.tooltip=n,e.margin=function(t){return arguments.length?(o.top="undefined"!=typeof t.top?t.top:o.top,o.left="undefined"!=typeof t.left?t.left:o.left,e):o},e.width=function(t){return arguments.length?(i=t,e):i},e.height=function(t){return arguments.length?(r=t,e):r},e.xScale=function(t){return arguments.length?(a=t,e):a},e.showGuideLine=function(t){return arguments.length?(l=t,e):l},e.svgContainer=function(t){return arguments.length?(u=t,e):u},e},t.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;"function"!=typeof n&&(n=function(t){return t.x});var i=d3.bisector(n).left,r=d3.max([0,i(t,e)-1]),o=n(t[r],r);if(void 0===o&&(o=r),o===e)return r;var a=d3.min([r+1,t.length-1]),s=n(t[a],a);return void 0===s&&(s=a),Math.abs(s-e)>=Math.abs(o-e)?r:a},t.nearestValueIndex=function(t,e,n){"use strict";var i=Infinity,r=null;return t.forEach(function(t,o){var a=Math.abs(e-t);a<=i&&a<n&&(i=a,r=o)}),r},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){function e(){if(d){var t=d3.select(d);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];h.left=h.left*n,h.top=h.top*n}}}function n(t){var e,n=(e=d?d3.select(d):d3.select("body")).select(".nvtooltip");return null===n.node()&&(n=e.append("div").attr("class","nvtooltip "+(c||"xy-tooltip")).attr("id",g)),n.node().innerHTML=t,n.style("top",0).style("left",0).style("opacity",0),n.selectAll("div, table, td, tr").classed(m,!0),n.classed(m,!0),n.node()}function i(){if(p&&x(o)){e();var r=h.left,c=null!=u?u:h.top,g=n(y(o));if(f=g,d){var m=d.getElementsByTagName("svg")[0],v=(m?m.getBoundingClientRect():d.getBoundingClientRect(),{left:0,top:0});if(m){var b=m.getBoundingClientRect(),w=d.getBoundingClientRect(),_=b.top;if(_<0){var C=d.getBoundingClientRect();_=Math.abs(_)>C.height?0:_}v.top=Math.abs(_-w.top),v.left=Math.abs(b.left-w.left)}r+=d.offsetLeft+v.left-2*d.scrollLeft,c+=d.offsetTop+v.top-2*d.scrollTop}return l&&l>0&&(c=Math.floor(c/l)*l),t.tooltip.calcTooltipPosition([r,c],a,s,g),i}}var r=null,o=null,a="w",s=50,l=25,u=null,c=null,d=null,f=null,h={left:null,top:null},p=!0,g="nvtooltip-"+Math.floor(1e5*Math.random()),m="nv-pointer-events-none",v=function(t){return t},b=function(t){return t},y=function(t){if(null!=r)return r;if(null==t)return"";var e=d3.select(document.createElement("table"));e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(b(t.value));var n=e.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),n.append("td").classed("key",!0).html(function(t){return t.key}),n.append("td").classed("value",!0).html(function(t,e){return v(t.value,e)}),n.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]),n=.6;d3.select(this).style("border-bottom-color",e(n)).style("border-top-color",e(n))}});var i=e.node().outerHTML;return t.footer!==undefined&&(i+="<div class='footer'>"+t.footer+"</div>"),i},x=function(t){return!!(t&&t.series&&t.series.length>0)};return i.nvPointerEventsClass=m,i.content=function(t){return arguments.length?(r=t,i):r},i.tooltipElem=function(){return f},i.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(y=t),i):y},i.data=function(t){return arguments.length?(o=t,i):o},i.gravity=function(t){return arguments.length?(a=t,i):a},i.distance=function(t){return arguments.length?(s=t,i):s},i.snapDistance=function(t){return arguments.length?(l=t,i):l},i.classes=function(t){return arguments.length?(c=t,i):c},i.chartContainer=function(t){return arguments.length?(d=t,i):d},i.position=function(t){return arguments.length?(h.left="undefined"!=typeof t.left?t.left:h.left,h.top="undefined"!=typeof t.top?t.top:h.top,i):h},i.fixedTop=function(t){return arguments.length?(u=t,i):u},i.enabled=function(t){return arguments.length?(p=t,i):p},i.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(v=t),i):v},i.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(b=t),i):b},i.id=function(){return g},i},t.tooltip.show=function(e,n,i,r,o,a){var s=document.createElement("div");s.className="nvtooltip "+(a||"xy-tooltip");var l=o;o&&!o.tagName.match(/g|svg/i)||(l=document.getElementsByTagName("body")[0]),s.style.left=0,s.style.top=0,s.style.opacity=0,"string"!=typeof n?s.appendChild(n):s.innerHTML=n,l.appendChild(s),o&&(e[0]=e[0]-o.scrollLeft,e[1]=e[1]-o.scrollTop),t.tooltip.calcTooltipPosition(e,i,r,s)},t.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},t.tooltip.findTotalOffsetTop=function(t,e){var n=e;do{isNaN(t.offsetTop)||(n+=t.offsetTop)}while(t=t.offsetParent);return n},t.tooltip.findTotalOffsetLeft=function(t,e){var n=e;do{isNaN(t.offsetLeft)||(n+=t.offsetLeft)}while(t=t.offsetParent);return n},t.tooltip.calcTooltipPosition=function(e,n,i,r){var o,a,s=parseInt(r.offsetHeight),l=parseInt(r.offsetWidth),u=t.utils.windowSize().width,c=t.utils.windowSize().height,d=window.pageYOffset,f=window.pageXOffset;c=window.innerWidth>=document.body.scrollWidth?c:c-16,u=window.innerHeight>=document.body.scrollHeight?u:u-16,i=i||20;var h=function(e){return t.tooltip.findTotalOffsetTop(e,a)},p=function(e){return t.tooltip.findTotalOffsetLeft(e,o)};switch(n=n||"s"){case"e":o=e[0]-l-i,a=e[1]-s/2;var g=p(r),m=h(r);g<f&&(o=e[0]+i>f?e[0]+i:f-g+o),m<d&&(a=d-m+a),m+s>d+c&&(a=d+c-m+a-s);break;case"w":o=e[0]+i,a=e[1]-s/2;g=p(r),m=h(r);g+l>u&&(o=e[0]-l-i),m<d&&(a=d+5),m+s>d+c&&(a=d+c-m+a-s);break;case"n":o=e[0]-l/2-5,a=e[1]+i;g=p(r),m=h(r);g<f&&(o=f+5),g+l>u&&(o=o-l/2+5),m+s>d+c&&(a=d+c-m+a-s);break;case"s":o=e[0]-l/2,a=e[1]-s-i;g=p(r),m=h(r);g<f&&(o=f+5),g+l>u&&(o=o-l/2+5),d>m&&(a=d);break;case"none":o=e[0],a=e[1]-i;g=p(r),m=h(r)}return r.style.left=o+"px",r.style.top=a+"px",r.style.opacity=1,r.style.position="absolute",r},t.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),t.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},t.utils.windowResize=function(e){return window.addEventListener?window.addEventListener("resize",e):t.log("ERROR: Failed to bind to window.resize with: ",e),{callback:e,clear:function(){window.removeEventListener("resize",e)}}},t.utils.getColor=function(e){return arguments.length?e instanceof Array?function(t,n){return t.color||e[n%e.length]}:e:t.utils.defaultColor()},t.utils.defaultColor=function(){var t=d3.scale.category20().range();return function(e,n){return e.color||t[n%t.length]}},t.utils.customTheme=function(t,e,n){e=e||function(t){return t.key};var i=(n=n||d3.scale.category20().range()).length;return function(r){var o=e(r);return"function"==typeof t[o]?t[o]():t[o]!==undefined?t[o]:(i||(i=n.length),n[i-=1])}},t.utils.pjax=function(e,n){var i=function(i){d3.html(i,function(i){var r=d3.select(n).node();r.parentNode.replaceChild(d3.select(i).select(n).node(),r),t.utils.pjax(e,n)})};d3.selectAll(e).on("click",function(){history.pushState(this.href,this.textContent,this.href),i(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&i(d3.event.state)})},t.utils.calcApproxTextWidth=function(t){if("function"==typeof t.style&&"function"==typeof t.text){var e=parseInt(t.style("font-size").replace("px",""));return t.text().length*e*.5}return 0},t.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||t===Infinity||t===-Infinity?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},t.utils.renderWatch=function(e,n){if(!(this instanceof t.utils.renderWatch))return new t.utils.renderWatch(e,n);var i=n!==undefined?n:250,r=[],o=this;this.models=function(){return[].slice.call(arguments,0).forEach(function(t){var e;t.__rendered=!1,(e=t).dispatch.on("renderEnd",function(){e.__rendered=!0,o.renderEnd("model")}),r.indexOf(t)<0&&r.push(t)}),this},this.reset=function(t){t!==undefined&&(i=t),r=[]},this.transition=function(t,e,n){if(n=(e=arguments.length>1?[].slice.call(arguments,1):[]).length>1?e.pop():i!==undefined?i:250,t.__rendered=!1,r.indexOf(t)<0&&r.push(t),0===n)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;0===t.length?t.__rendered=!0:t.every(function(t){return!t.length})?t.__rendered=!0:t.__rendered=!1;var a=0;return t.transition().duration(n).each(function(){++a}).each("end",function(){0==--a&&(t.__rendered=!0,o.renderEnd.apply(this,e))})},this.renderEnd=function(){r.every(function(t){return t.__rendered})&&(r.forEach(function(t){t.__rendered=!1}),e.renderEnd.apply(this,arguments))}},t.utils.deepExtend=function(e){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(n){for(key in n){var i=e[key]instanceof Array,r="object"==typeof e[key],o="object"==typeof n[key];r&&!i&&o?t.utils.deepExtend(e[key],n[key]):e[key]=n[key]}})},t.utils.state=function(){if(!(this instanceof t.utils.state))return new t.utils.state;var e={},n=function(){},i=function(){return{}},r=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){n(t,!0)}),this.getter=function(t){return i=t,this},this.setter=function(t,e){return e||(e=function(){}),n=function(n,i){t(n),i&&e()},this},this.init=function(e){r=r||{},t.utils.deepExtend(r,e)};var o=function(){var t=i();if(JSON.stringify(t)===JSON.stringify(e))return!1;for(var n in t)e[n]===undefined&&(e[n]={}),e[n]=t[n],!0;return!0};this.update=function(){r&&(n(r,!1),r=null),o.call(this)&&this.dispatch.change(e)}},t.utils.optionsFunc=function(e){return t.deprecated("nv.utils.optionsFunc"),e&&d3.map(e).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},t.utils.calcTicksX=function(e,n){for(var i=1,r=0;r<n.length;r+=1){var o=n[r]&&n[r].values?n[r].values.length:0;i=o>i?o:i}return t.log("Requested number of ticks: ",e),t.log("Calculated max values to be: ",i),e=(e=e>i?e=i-1:e)<1?1:e,e=Math.floor(e),t.log("Calculating tick count as: ",e),e},t.utils.calcTicksY=function(e,n){return t.utils.calcTicksX(e,n)},t.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:t[e]=function(n){return arguments.length?(t._options[e]=n,t):t._options[e]}},t.utils.initOptions=function(e){var n=Object.getOwnPropertyNames(e._options||{}),i=Object.getOwnPropertyNames(e._calls||{});for(var r in n=n.concat(i))t.utils.initOption(e,n[r])},t.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},t.utils.arrayUnique=function(t){return t.sort().filter(function(e,n){return!n||e!=t[n-1]})},t.utils.symbolMap=d3.map(),t.utils.symbol=function(){function e(e,r){var o=n.call(this,e,r),a=i.call(this,e,r);return-1!==d3.svg.symbolTypes.indexOf(o)?d3.svg.symbol().type(o).size(a)():t.utils.symbolMap.get(o)(a)}var n,i=64;return e.type=function(t){return arguments.length?(n=d3.functor(t),e):n},e.size=function(t){return arguments.length?(i=d3.functor(t),e):i},e},t.utils.inheritOptions=function(e,n){var i=Object.getOwnPropertyNames(n._options||{}),r=Object.getOwnPropertyNames(n._calls||{}),o=n._inherited||[],a=n._d3options||[],s=i.concat(r).concat(o).concat(a);s.unshift(n),s.unshift(e),d3.rebind.apply(this,s),e._inherited=t.utils.arrayUnique(i.concat(r).concat(o).concat(i).concat(e._inherited||[])),e._d3options=t.utils.arrayUnique(a.concat(e._d3options||[]))},t.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},t.models.axis=function(){"use strict";function e(s){return y.reset(),s.each(function(e){var s=d3.select(this);t.utils.initSVG(s);var v=s.selectAll("g.nv-wrap.nv-axis").data([e]),b=(v.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),v.select("g"));null!==g?i.ticks(g):"top"!=i.orient()&&"bottom"!=i.orient()||i.ticks(Math.abs(r.range()[1]-r.range()[0])/100),b.watchTransition(y,"axis").call(i),n=n||i.scale();var x=i.tickFormat();null==x&&(x=n.tickFormat());var w=b.selectAll("text.nv-axislabel").data([l||null]);switch(w.exit().remove(),i.orient()){case"top":if(w.enter().append("text").attr("class","nv-axislabel"),_=r.range().length<2?0:2===r.range().length?r.range()[1]:r.range()[r.range().length-1]+(r.range()[1]-r.range()[0]),w.attr("text-anchor","middle").attr("y",0).attr("x",_/2),u)(M=v.selectAll("g.nv-axisMaxMin").data(r.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text"),M.exit().remove(),M.attr("transform",function(e){return"translate("+t.utils.NaNtoZero(r(e))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-i.tickPadding()).attr("text-anchor","middle").text(function(t){var e=x(t);return(""+e).match("NaN")?"":e}),M.watchTransition(y,"min-max top").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r.range()[n])+",0)"});break;case"bottom":var _,C=m+36,k=30,S=b.selectAll("g").select("text");if(d%360){S.each(function(){var t=this.getBoundingClientRect().width;t>k&&(k=t)});var T=Math.abs(Math.sin(d*Math.PI/180));C=(T?T*k:k)+30;S.attr("transform",function(){return"rotate("+d+" 0,0)"}).style("text-anchor",d%360>0?"start":"end")}if(w.enter().append("text").attr("class","nv-axislabel"),_=r.range().length<2?0:2===r.range().length?r.range()[1]:r.range()[r.range().length-1]+(r.range()[1]-r.range()[0]),w.attr("text-anchor","middle").attr("y",C).attr("x",_/2),u)(M=v.selectAll("g.nv-axisMaxMin").data([r.domain()[0],r.domain()[r.domain().length-1]])).enter().append("g").attr("class","nv-axisMaxMin").append("text"),M.exit().remove(),M.attr("transform",function(e){return"translate("+t.utils.NaNtoZero(r(e)+(p?r.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",i.tickPadding()).attr("transform",function(){return"rotate("+d+" 0,0)"}).style("text-anchor",d?d%360>0?"start":"end":"middle").text(function(t){var e=x(t);return(""+e).match("NaN")?"":e}),M.watchTransition(y,"min-max bottom").attr("transform",function(e){return"translate("+t.utils.NaNtoZero(r(e)+(p?r.rangeBand()/2:0))+",0)"});h&&S.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"});break;case"right":if(w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",f?"middle":"begin").attr("transform",f?"rotate(90)":"").attr("y",f?12-Math.max(o.right,a):-10).attr("x",f?r.range()[0]/2:i.tickPadding()),u)(M=v.selectAll("g.nv-axisMaxMin").data(r.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),M.exit().remove(),M.attr("transform",function(e){return"translate(0,"+t.utils.NaNtoZero(r(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",i.tickPadding()).style("text-anchor","start").text(function(t){var e=x(t);return(""+e).match("NaN")?"":e}),M.watchTransition(y,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r.range()[n])+")"}).select("text").style("opacity",1);break;case"left":var M;if(w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",f?"middle":"end").attr("transform",f?"rotate(-90)":"").attr("y",f?25-Math.max(o.left,a)-(m||0):-10).attr("x",f?-r.range()[0]/2:-i.tickPadding()),u)(M=v.selectAll("g.nv-axisMaxMin").data(r.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),M.exit().remove(),M.attr("transform",function(e){return"translate(0,"+t.utils.NaNtoZero(n(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-i.tickPadding()).attr("text-anchor","end").text(function(t){var e=x(t);return(""+e).match("NaN")?"":e}),M.watchTransition(y,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r.range()[n])+")"}).select("text").style("opacity",1)}if(w.text(function(t){return t}),!u||"left"!==i.orient()&&"right"!==i.orient()||(b.selectAll("g").each(function(t){d3.select(this).select("text").attr("opacity",1),(r(t)<r.range()[1]+10||r(t)>r.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),r.domain()[0]==r.domain()[1]&&0==r.domain()[0]&&v.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),u&&("top"===i.orient()||"bottom"===i.orient())){var D=[];v.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?D.push(r(t)-this.getBoundingClientRect().width-4):D.push(r(t)+this.getBoundingClientRect().width+4)}catch(n){e?D.push(r(t)-4):D.push(r(t)+4)}}),b.selectAll("g").each(function(t){(r(t)<D[0]||r(t)>D[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}c&&b.selectAll(".tick").filter(function(){return!parseFloat(Math.round(1e5*this.__data__)/1e6)&&this.__data__!==undefined}).classed("zero",!0),n=r.copy()}),y.renderEnd("axis immediate"),e}var n,i=d3.svg.axis(),r=d3.scale.linear(),o={top:0,right:0,bottom:0,left:0},a=75,s=60,l=null,u=!0,c=!0,d=0,f=!0,h=!1,p=!1,g=null,m=0,v=250,b=d3.dispatch("renderEnd");i.scale(r).orient("bottom").tickFormat(function(t){return t});var y=t.utils.renderWatch(b,v);return e.axis=i,e.dispatch=b,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{axisLabelDistance:{get:function(){return m},set:function(t){m=t}},staggerLabels:{get:function(){return h},set:function(t){h=t}},rotateLabels:{get:function(){return d},set:function(t){d=t}},rotateYLabel:{get:function(){return f},set:function(t){f=t}},highlightZero:{get:function(){return c},set:function(t){c=t}},showMaxMin:{get:function(){return u},set:function(t){u=t}},axisLabel:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return s},set:function(t){s=t}},ticks:{get:function(){return g},set:function(t){g=t}},width:{get:function(){return a},set:function(t){a=t}},margin:{get:function(){return o},set:function(t){o.top=t.top!==undefined?t.top:o.top,o.right=t.right!==undefined?t.right:o.right,o.bottom=t.bottom!==undefined?t.bottom:o.bottom,o.left=t.left!==undefined?t.left:o.left}},duration:{get:function(){return v},set:function(t){v=t,y.reset(v)}},scale:{get:function(){return r},set:function(n){r=n,i.scale(r),p="function"==typeof r.rangeBands,t.utils.inheritOptionsD3(e,r,["domain","range","rangeBand","rangeBands"])}}}),t.utils.initOptions(e),t.utils.inheritOptionsD3(e,i,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),t.utils.inheritOptionsD3(e,r,["domain","range","rangeBand","rangeBands"]),e},t.models.bullet=function(){"use strict";function e(i){return i.each(function(e,i){var p=f-n.left-n.right,v=h-n.top-n.bottom,b=d3.select(this);t.utils.initSVG(b);var y=o.call(this,e,i).slice().sort(d3.descending),x=a.call(this,e,i).slice().sort(d3.descending),w=s.call(this,e,i).slice().sort(d3.descending),_=l.call(this,e,i).slice(),C=u.call(this,e,i).slice(),k=c.call(this,e,i).slice(),S=d3.scale.linear().domain(d3.extent(d3.merge([d,y]))).range(r?[p,0]:[0,p]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(S.range());this.__chart__=S;var T=d3.min(y),M=d3.max(y),D=y[1],A=b.selectAll("g.nv-wrap.nv-bullet").data([e]),I=A.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),j=A.select("g");I.append("rect").attr("class","nv-range nv-rangeMax"),I.append("rect").attr("class","nv-range nv-rangeAvg"),I.append("rect").attr("class","nv-range nv-rangeMin"),I.append("rect").attr("class","nv-measure"),I.append("path").attr("class","nv-markerTriangle"),A.attr("transform","translate("+n.left+","+n.top+")");var $=function(t){return Math.abs(S(t)-S(0))},F=function(t){return S(t<0?t:0)};j.select("rect.nv-rangeMax").attr("height",v).attr("width",$(M>0?M:T)).attr("x",F(M>0?M:T)).datum(M>0?M:T),j.select("rect.nv-rangeAvg").attr("height",v).attr("width",$(D)).attr("x",F(D)).datum(D),j.select("rect.nv-rangeMin").attr("height",v).attr("width",$(M)).attr("x",F(M)).attr("width",$(M>0?T:M)).attr("x",F(M>0?T:M)).datum(M>0?T:M),j.select("rect.nv-measure").style("fill",g).attr("height",v/3).attr("y",v/3).attr("width",w<0?S(0)-S(w[0]):S(w[0])-S(0)).attr("x",F(w)).on("mouseover",function(){m.elementMouseover({value:w[0],label:k[0]||"Current",pos:[S(w[0]),v/2]})}).on("mouseout",function(){m.elementMouseout({value:w[0],label:k[0]||"Current"})});var E=v/6;x[0]?j.selectAll("path.nv-markerTriangle").attr("transform",function(){return"translate("+S(x[0])+","+v/2+")"}).attr("d","M0,"+E+"L"+E+","+-E+" "+-E+","+-E+"Z").on("mouseover",function(){m.elementMouseover({value:x[0],label:C[0]||"Previous",pos:[S(x[0]),v/2]})}).on("mouseout",function(){m.elementMouseout({value:x[0],label:C[0]||"Previous"})}):j.selectAll("path.nv-markerTriangle").remove(),A.selectAll(".nv-range").on("mouseover",function(t,e){var n=_[e]||(e?1==e?"Mean":"Minimum":"Maximum");m.elementMouseover({value:t,label:n,pos:[S(t),v/2]})}).on("mouseout",function(t,e){var n=_[e]||(e?1==e?"Mean":"Minimum":"Maximum");m.elementMouseout({value:t,label:n})})}),e}var n={top:0,right:0,bottom:0,left:0},i="left",r=!1,o=function(t){return t.ranges},a=function(t){return t.markers?t.markers:[0]},s=function(t){return t.measures},l=function(t){return t.rangeLabels?t.rangeLabels:[]},u=function(t){return t.markerLabels?t.markerLabels:[]},c=function(t){return t.measureLabels?t.measureLabels:[]},d=[0],f=380,h=30,p=null,g=t.utils.getColor(["#1f77b4"]),m=d3.dispatch("elementMouseover","elementMouseout");return e.dispatch=m,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return o},set:function(t){o=t}},markers:{get:function(){return a},set:function(t){a=t}},measures:{get:function(){return s},set:function(t){s=t}},forceX:{get:function(){return d},set:function(t){d=t}},width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return h},set:function(t){h=t}},tickFormat:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return n},set:function(t){n.top=t.top!==undefined?t.top:n.top,n.right=t.right!==undefined?t.right:n.right,n.bottom=t.bottom!==undefined?t.bottom:n.bottom,n.left=t.left!==undefined?t.left:n.left}},orient:{get:function(){return i},
set:function(t){r="right"==(i=t)||"bottom"==i}},color:{get:function(){return g},set:function(e){g=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.bulletChart=function(){"use strict";function e(i){return i.each(function(h,v){var b=d3.select(this);t.utils.initSVG(b);var y=(u||parseInt(b.style("width"))||960)-o.left-o.right,x=c-o.top-o.bottom,w=this;if(e.update=function(){e(i)},e.container=this,!h||!a.call(this,h,v)){var _=b.selectAll(".nv-noData").data([p]);return _.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),_.attr("x",o.left+y/2).attr("y",18+o.top+x/2).text(function(t){return t}),e}b.selectAll(".nv-noData").remove();var C=a.call(this,h,v).slice().sort(d3.descending),k=s.call(this,h,v).slice().sort(d3.descending),S=l.call(this,h,v).slice().sort(d3.descending),T=b.selectAll("g.nv-wrap.nv-bulletChart").data([h]),M=T.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),D=T.select("g");M.append("g").attr("class","nv-bulletWrap"),M.append("g").attr("class","nv-titles"),T.attr("transform","translate("+o.left+","+o.top+")");var A=d3.scale.linear().domain([0,Math.max(C[0],k[0],S[0])]).range(r?[y,0]:[0,y]),I=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(A.range());this.__chart__=A;var j=M.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(c-o.top-o.bottom)/2+")");j.append("text").attr("class","nv-title").text(function(t){return t.title}),j.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),n.width(y).height(x);var $=D.select(".nv-bulletWrap");d3.transition($).call(n);var F=d||A.tickFormat(y/100),E=D.selectAll("g.nv-tick").data(A.ticks(y/50),function(t){return this.textContent||F(t)}),O=E.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+I(t)+",0)"}).style("opacity",1e-6);O.append("line").attr("y1",x).attr("y2",7*x/6),O.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*x/6).text(F);var P=d3.transition(E).attr("transform",function(t){return"translate("+A(t)+",0)"}).style("opacity",1);P.select("line").attr("y1",x).attr("y2",7*x/6),P.select("text").attr("y",7*x/6),d3.transition(E.exit()).attr("transform",function(t){return"translate("+A(t)+",0)"}).style("opacity",1e-6).remove(),g.on("tooltipShow",function(t){t.key=h.title,f&&m(t,w.parentNode)})}),d3.timer.flush(),e}var n=t.models.bullet(),i="left",r=!1,o={top:5,right:40,bottom:20,left:120},a=function(t){return t.ranges},s=function(t){return t.markers?t.markers:[0]},l=function(t){return t.measures},u=null,c=55,d=null,f=!0,h=function(t,e,n){return"<h3>"+e+"</h3><p>"+n+"</p>"},p="No Data Available.",g=d3.dispatch("tooltipShow","tooltipHide"),m=function(n,i){var r=n.pos[0]+(i.offsetLeft||0)+o.left,a=n.pos[1]+(i.offsetTop||0)+o.top,s=h(n.key,n.label,n.value,n,e);t.tooltip.show([r,a],s,n.value<0?"e":"w",null,i)};return n.dispatch.on("elementMouseover.tooltip",function(t){g.tooltipShow(t)}),n.dispatch.on("elementMouseout.tooltip",function(t){g.tooltipHide(t)}),g.on("tooltipHide",function(){f&&t.tooltip.cleanup()}),e.bullet=n,e.dispatch=g,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return a},set:function(t){a=t}},markers:{get:function(){return s},set:function(t){s=t}},measures:{get:function(){return l},set:function(t){l=t}},width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},tickFormat:{get:function(){return d},set:function(t){d=t}},tooltips:{get:function(){return f},set:function(t){f=t}},tooltipContent:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return o},set:function(t){o.top=t.top!==undefined?t.top:o.top,o.right=t.right!==undefined?t.right:o.right,o.bottom=t.bottom!==undefined?t.bottom:o.bottom,o.left=t.left!==undefined?t.left:o.left}},orient:{get:function(){return i},set:function(t){r="right"==(i=t)||"bottom"==i}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.cumulativeLineChart=function(){"use strict";function e(C){return E.reset(),E.models(o),m&&E.models(a),v&&E.models(s),C.each(function(C){function j(){d3.select(e.container).style("cursor","ew-resize")}function E(){F.x=d3.event.x,F.i=Math.round($.invert(F.x)),B()}function N(){d3.select(e.container).style("cursor","auto"),S.index=F.i,A.stateChange(S)}function B(){ot.data([F]);var t=e.duration();e.duration(0),e.update(),e.duration(t)}var R=d3.select(this);t.utils.initSVG(R),R.classed("nv-chart-"+k,!0);var z,H=this,U=(h||parseInt(R.style("width"))||960)-d.left-d.right,q=(p||parseInt(R.style("height"))||400)-d.top-d.bottom;if(e.update=function(){0===I?R.call(e):R.transition().duration(I).call(e)},e.container=this,S.setter(L(C),e.update).getter(P(C)).update(),S.disabled=C.map(function(t){return!!t.disabled}),!T)for(z in T={},S)S[z]instanceof Array?T[z]=S[z].slice(0):T[z]=S[z];var W=d3.behavior.drag().on("dragstart",j).on("drag",E).on("dragend",N);if(!(C&&C.length&&C.filter(function(t){return t.values.length}).length)){var V=R.selectAll(".nv-noData").data([M]);return V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",d.left+U/2).attr("y",d.top+q/2).text(function(t){return t}),e}if(R.selectAll(".nv-noData").remove(),i=o.xScale(),r=o.yScale(),_)o.yDomain(null);else{var Y=C.filter(function(t){return!t.disabled}).map(function(t){var e=d3.extent(t.values,o.y());return e[0]<-.95&&(e[0]=-.95),[(e[0]-e[1])/(1+e[1]),(e[1]-e[0])/(1+e[0])]}),X=[d3.min(Y,function(t){return t[0]}),d3.max(Y,function(t){return t[1]})];o.yDomain(X)}$.domain([0,C[0].values.length-1]).range([0,U]).clamp(!0);C=n(F.i,C);var G=w?"none":"all",Z=R.selectAll("g.nv-wrap.nv-cumulativeLine").data([C]),K=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),J=Z.select("g");if(K.append("g").attr("class","nv-interactive"),K.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),K.append("g").attr("class","nv-y nv-axis"),K.append("g").attr("class","nv-background"),K.append("g").attr("class","nv-linesWrap").style("pointer-events",G),K.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),K.append("g").attr("class","nv-legendWrap"),K.append("g").attr("class","nv-controlsWrap"),g&&(l.width(U),J.select(".nv-legendWrap").datum(C).call(l),d.top!=l.height()&&(d.top=l.height(),q=(p||parseInt(R.style("height"))||400)-d.top-d.bottom),J.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")),x){var Q=[{key:"Re-scale y-axis",disabled:!_}];u.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),J.select(".nv-controlsWrap").datum(Q).attr("transform","translate(0,"+-d.top+")").call(u)}Z.attr("transform","translate("+d.left+","+d.top+")"),b&&J.select(".nv-y.nv-axis").attr("transform","translate("+U+",0)");var tt=C.filter(function(t){return t.tempDisabled});Z.select(".tempDisabled").remove(),tt.length&&Z.append("text").attr("class","tempDisabled").attr("x",U/2).attr("y","-.71em").style("text-anchor","end").text(tt.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),w&&(c.width(U).height(q).margin({left:d.left,top:d.top}).svgContainer(R).xScale(i),Z.select(".nv-interactive").call(c)),K.select(".nv-background").append("rect"),J.select(".nv-background rect").attr("width",U).attr("height",q),o.y(function(t){return t.display.y}).width(U).height(q).color(C.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!C[e].disabled&&!C[e].tempDisabled}));var et=J.select(".nv-linesWrap").datum(C.filter(function(t){return!t.disabled&&!t.tempDisabled}));et.call(o),C.forEach(function(t,e){t.seriesIndex=e});var nt=C.filter(function(t){return!t.disabled&&!!D(t)}),it=J.select(".nv-avgLinesWrap").selectAll("line").data(nt,function(t){return t.key}),rt=function(t){var e=r(D(t));return e<0?0:e>q?q:e};it.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t){return o.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",U).attr("y1",rt).attr("y2",rt),it.style("stroke-opacity",function(t){var e=r(D(t));return e<0||e>q?0:1}).attr("x1",0).attr("x2",U).attr("y1",rt).attr("y2",rt),it.exit().remove();var ot=et.selectAll(".nv-indexLine").data([F]);ot.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(W),ot.attr("transform",function(t){return"translate("+$(t.i)+",0)"}).attr("height",q),m&&(a.scale(i).ticks(t.utils.calcTicksX(U/70,C)).tickSize(-q,0),J.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),J.select(".nv-x.nv-axis").call(a)),v&&(s.scale(r).ticks(t.utils.calcTicksY(q/36,C)).tickSize(-U,0),J.select(".nv-y.nv-axis").call(s)),J.select(".nv-background rect").on("click",function(){F.x=d3.mouse(this)[0],F.i=Math.round($.invert(F.x)),S.index=F.i,A.stateChange(S),B()}),o.dispatch.on("elementClick",function(t){F.i=t.pointIndex,F.x=$(F.i),S.index=F.i,A.stateChange(S),B()}),u.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,_=!t.disabled,S.rescaleY=_,A.stateChange(S),e.update()}),l.dispatch.on("stateChange",function(t){for(var n in t)S[n]=t[n];A.stateChange(S),e.update()}),c.dispatch.on("elementMousemove",function(n){o.clearHighlights();var i,r,l,u=[];if(C.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,s){r=t.interactiveBisect(a.values,n.pointXValue,e.x()),o.highlightPoint(s,r,!0);var c=a.values[r];void 0!==c&&(void 0===i&&(i=c),void 0===l&&(l=e.xScale()(e.x()(c,r))),u.push({key:a.key,value:e.y()(c,r),color:f(a,a.seriesIndex)}))}),u.length>2){var h=e.yScale().invert(n.mouseY),p=.03*Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),g=t.nearestValueIndex(u.map(function(t){return t.value}),h,p);null!==g&&(u[g].highlight=!0)}var m=a.tickFormat()(e.x()(i,r),r);c.tooltip.position({left:l+d.left,top:n.mouseY+d.top}).chartContainer(H.parentNode).enabled(y).valueFormatter(function(t){return s.tickFormat()(t)}).data({value:m,series:u})(),c.renderGuideLine(l)}),c.dispatch.on("elementMouseout",function(){A.tooltipHide(),o.clearHighlights()}),A.on("tooltipShow",function(t){y&&O(t,H.parentNode)}),A.on("changeState",function(t){"undefined"!=typeof t.disabled&&(C.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),"undefined"!=typeof t.index&&(F.i=t.index,F.x=$(F.i),S.index=t.index,ot.data([F])),"undefined"!=typeof t.rescaleY&&(_=t.rescaleY),e.update()})}),E.renderEnd("cumulativeLineChart immediate"),e}function n(t,e){return N||(N=o.y()),e.map(function(e){if(!e.values)return e;var n=e.values[t];if(null==n)return e;var i=N(n,t);return i<-.95&&!j?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(N(t,e)-i)/(1+i)},t}),e)})}var i,r,o=t.models.line(),a=t.models.axis(),s=t.models.axis(),l=t.models.legend(),u=t.models.legend(),c=t.interactiveGuideline(),d={top:30,right:30,bottom:50,left:60},f=t.utils.defaultColor(),h=null,p=null,g=!0,m=!0,v=!0,b=!1,y=!0,x=!0,w=!1,_=!0,C=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},k=o.id(),S=t.utils.state(),T=null,M="No Data Available.",D=function(t){return t.average},A=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),I=250,j=!1;S.index=0,S.rescaleY=_,a.orient("bottom").tickPadding(7),s.orient(b?"right":"left"),u.updateState(!1);var $=d3.scale.linear(),F={i:0,x:0},E=t.utils.renderWatch(A,I),O=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),u=a.tickFormat()(o.x()(n.point,n.pointIndex)),c=s.tickFormat()(o.y()(n.point,n.pointIndex)),d=C(n.series.key,u,c,n,e);t.tooltip.show([r,l],d,null,null,i)},P=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:F.i,rescaleY:_}}},L=function(t){return function(e){e.index!==undefined&&(F.i=e.index),e.rescaleY!==undefined&&(_=e.rescaleY),e.active!==undefined&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+d.left,t.pos[1]+d.top],A.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){A.tooltipHide(t)}),A.on("tooltipHide",function(){y&&t.tooltip.cleanup()});var N=null;return e.dispatch=A,e.lines=o,e.legend=l,e.xAxis=a,e.yAxis=s,e.interactiveLayer=c,e.state=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},rescaleY:{get:function(){return _},set:function(t){_=t}},showControls:{get:function(){return x},set:function(t){x=t}},showLegend:{get:function(){return g},set:function(t){g=t}},average:{get:function(){return D},set:function(t){D=t}},tooltips:{get:function(){return y},set:function(t){y=t}},tooltipContent:{get:function(){return C},set:function(t){C=t}},defaultState:{get:function(){return T},set:function(t){T=t}},noData:{get:function(){return M},set:function(t){M=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},noErrorCheck:{get:function(){return j},set:function(t){j=t}},margin:{get:function(){return d},set:function(t){d.top=t.top!==undefined?t.top:d.top,d.right=t.right!==undefined?t.right:d.right,d.bottom=t.bottom!==undefined?t.bottom:d.bottom,d.left=t.left!==undefined?t.left:d.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),l.color(f)}},useInteractiveGuideline:{get:function(){return w},set:function(t){w=t,!0===t&&(e.interactive(!1),e.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,s.orient(t?"right":"left")}},duration:{get:function(){return I},set:function(t){I=t,o.duration(I),a.duration(I),s.duration(I),E.reset(I)}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.discreteBar=function(){"use strict";function e(d){return C.reset(),d.each(function(e){var d=u-l.left-l.right,_=c-l.top-l.bottom,k=d3.select(this);t.utils.initSVG(k),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var S=n&&i?[]:e.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:g(t,e),y0:t.y0}})});f.domain(n||d3.merge(S).map(function(t){return t.x})).rangeBands(r||[0,d],.1),h.domain(i||d3.extent(d3.merge(S).map(function(t){return t.y}).concat(m))),b?h.range(o||[_-(h.domain()[0]<0?12:0),h.domain()[1]>0?12:0]):h.range(o||[_,0]),a=a||f,s=s||h.copy().range([h(0),h(0)]);var T=k.selectAll("g.nv-wrap.nv-discretebar").data([e]),M=T.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");T.select("g");M.append("g").attr("class","nv-groups"),T.attr("transform","translate("+l.left+","+l.top+")");var D=T.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});D.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),D.exit().watchTransition(C,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),D.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),D.watchTransition(C,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var A=D.selectAll("g.nv-bar").data(function(t){return t.values});A.exit().remove();var I=A.enter().append("g").attr("transform",function(t,e){return"translate("+(f(p(t,e))+.05*f.rangeBand())+", "+h(0)+")"}).on("mouseover",function(t,n){d3.select(this).classed("hover",!0),x.elementMouseover({value:g(t,n),point:t,series:e[t.series],pos:[f(p(t,n))+f.rangeBand()*(t.series+.5)/e.length,h(g(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",!1),x.elementMouseout({value:g(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){x.elementClick({value:g(t,n),point:t,series:e[t.series],pos:[f(p(t,n))+f.rangeBand()*(t.series+.5)/e.length,h(g(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,n){x.elementDblClick({value:g(t,n),point:t,series:e[t.series],pos:[f(p(t,n))+f.rangeBand()*(t.series+.5)/e.length,h(g(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()});I.append("rect").attr("height",0).attr("width",.9*f.rangeBand()/e.length),b?(I.append("text").attr("text-anchor","middle"),A.select("text").text(function(t,e){return y(g(t,e))}).watchTransition(C,"discreteBar: bars text").attr("x",.9*f.rangeBand()/2).attr("y",function(t,e){return g(t,e)<0?h(g(t,e))-h(0)+12:-4})):A.selectAll("text").remove(),A.attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||v(t,e)}).style("stroke",function(t,e){return t.color||v(t,e)}).select("rect").attr("class",w).watchTransition(C,"discreteBar: bars rect").attr("width",.9*f.rangeBand()/e.length),A.watchTransition(C,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(f(p(t,e))+.05*f.rangeBand())+", "+(g(t,e)<0?h(0):h(0)-h(g(t,e))<1?h(0)-1:h(g(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(h(g(t,e))-h(i&&i[0]||0))||1)}),a=f.copy(),s=h.copy()}),C.renderEnd("discreteBar immediate"),e}var n,i,r,o,a,s,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),h=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},m=[0],v=t.utils.defaultColor(),b=!1,y=d3.format(",.2f"),x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),w="discreteBar",_=250,C=t.utils.renderWatch(x,_);return e.dispatch=x,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},forceY:{get:function(){return m},set:function(t){m=t}},showValues:{get:function(){return b},set:function(t){b=t}},x:{get:function(){return p},set:function(t){p=t}},y:{get:function(){return g},set:function(t){g=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return o},set:function(t){o=t}},valueFormat:{get:function(){return y},set:function(t){y=t}},id:{get:function(){return d},set:function(t){d=t}},rectClass:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return l},set:function(t){l.top=t.top!==undefined?t.top:l.top,l.right=t.right!==undefined?t.right:l.right,l.bottom=t.bottom!==undefined?t.bottom:l.bottom,l.left=t.left!==undefined?t.left:l.left}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e)}},duration:{get:function(){return _},set:function(t){_=t,C.reset(_)}}}),t.utils.initOptions(e),e},t.models.discreteBarChart=function(){"use strict";function e(c){return w.reset(),w.models(r),d&&w.models(o),f&&w.models(a),c.each(function(c){var m=d3.select(this),w=this;t.utils.initSVG(m);var _=(l||parseInt(m.style("width"))||960)-s.left-s.right,C=(u||parseInt(m.style("height"))||400)-s.top-s.bottom;if(e.update=function(){b.beforeUpdate(),m.transition().duration(y).call(e)},e.container=this,!(c&&c.length&&c.filter(function(t){return t.values.length}).length)){var k=m.selectAll(".nv-noData").data([v]);return k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",s.left+_/2).attr("y",s.top+C/2).text(function(t){return t}),e}m.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale().clamp(!0);var S=m.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([c]),T=S.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),M=T.append("defs"),D=S.select("g");if(T.append("g").attr("class","nv-x nv-axis"),T.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),T.append("g").attr("class","nv-barsWrap"),D.attr("transform","translate("+s.left+","+s.top+")"),h&&D.select(".nv-y.nv-axis").attr("transform","translate("+_+",0)"),r.width(_).height(C),D.select(".nv-barsWrap").datum(c.filter(function(t){return!t.disabled})).transition().call(r),M.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),D.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",n.rangeBand()*(p?2:1)).attr("height",16).attr("x",-n.rangeBand()/(p?1:2)),d){o.scale(n).ticks(t.utils.calcTicksX(_/100,c)).tickSize(-C,0),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+(i.range()[0]+(r.showValues()&&i.domain()[0]<0?16:0))+")"),D.select(".nv-x.nv-axis").call(o);var A=D.select(".nv-x.nv-axis").selectAll("g");p&&A.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}f&&(a.scale(i).ticks(t.utils.calcTicksY(C/36,c)).tickSize(-_,0),D.select(".nv-y.nv-axis").call(a)),D.select(".nv-zeroLine line").attr("x1",0).attr("x2",_).attr("y1",i(0)).attr("y2",i(0)),b.on("tooltipShow",function(t){g&&x(t,w.parentNode)})}),w.renderEnd("discreteBar chart immediate"),e}var n,i,r=t.models.discreteBar(),o=t.models.axis(),a=t.models.axis(),s={top:15,right:10,bottom:50,left:60},l=null,u=null,c=t.utils.getColor(),d=!0,f=!0,h=!1,p=!1,g=!0,m=function(t,e,n){return"<h3>"+e+"</h3><p>"+n+"</p>"},v="No Data Available.",b=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),y=250;o.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),a.orient(h?"right":"left").tickFormat(d3.format(",.1f"));var x=function(n,i){var s=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),u=o.tickFormat()(r.x()(n.point,n.pointIndex)),c=a.tickFormat()(r.y()(n.point,n.pointIndex)),d=m(n.series.key,u,c,n,e);t.tooltip.show([s,l],d,n.value<0?"n":"s",null,i)},w=t.utils.renderWatch(b,y);return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+s.left,t.pos[1]+s.top],b.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){b.tooltipHide(t)}),b.on("tooltipHide",function(){g&&t.tooltip.cleanup()}),e.dispatch=b,e.discretebar=r,e.xAxis=o,e.yAxis=a,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},staggerLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return d},set:function(t){d=t}},showYAxis:{get:function(){return f},set:function(t){f=t}},tooltips:{get:function(){return g},set:function(t){g=t}},tooltipContent:{get:function(){return m},set:function(t){m=t}},noData:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return s},set:function(t){s.top=t.top!==undefined?t.top:s.top,s.right=t.right!==undefined?t.right:s.right,s.bottom=t.bottom!==undefined?t.bottom:s.bottom,s.left=t.left!==undefined?t.left:s.left}},duration:{get:function(){return y},set:function(t){y=t,w.reset(y),r.duration(y),o.duration(y),a.duration(y)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e),r.color(c)}},rightAlignYAxis:{get:function(){return h},set:function(t){h=t,a.orient(t?"right":"left")}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.models.distribution=function(){"use strict";function e(r){return f.reset(),r.each(function(e){"x"===a?(i.left,i.right):(i.top,i.bottom);var r="x"==a?"y":"x",c=d3.select(this);t.utils.initSVG(c),n=n||u;var d=c.selectAll("g.nv-distribution").data([e]),h=(d.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),d.select("g"));d.attr("transform","translate("+i.left+","+i.top+")");var p=h.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});p.enter().append("g"),p.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return l(t,e)});var g=p.selectAll("line.nv-dist"+a).data(function(t){return t.values});g.enter().append("line").attr(a+"1",function(t,e){return n(s(t,e))}).attr(a+"2",function(t,e){return n(s(t,e))}),f.transition(p.exit().selectAll("line.nv-dist"+a),"dist exit").attr(a+"1",function(t,e){return u(s(t,e))}).attr(a+"2",function(t,e){return u(s(t,e))}).style("stroke-opacity",0).remove(),g.attr("class",function(t,e){return"nv-dist"+a+" nv-dist"+a+"-"+e}).attr(r+"1",0).attr(r+"2",o),f.transition(g,"dist").attr(a+"1",function(t,e){return u(s(t,e))}).attr(a+"2",function(t,e){return u(s(t,e))}),n=u.copy()}),f.renderEnd("distribution immediate"),e}var n,i={top:0,right:0,bottom:0,left:0},r=400,o=8,a="x",s=function(t){return t[a]},l=t.utils.defaultColor(),u=d3.scale.linear(),c=250,d=d3.dispatch("renderEnd"),f=t.utils.renderWatch(d,c);return e.options=t.utils.optionsFunc.bind(e),e.dispatch=d,e.margin=function(t){return arguments.length?(i.top="undefined"!=typeof t.top?t.top:i.top,i.right="undefined"!=typeof t.right?t.right:i.right,i.bottom="undefined"!=typeof t.bottom?t.bottom:i.bottom,i.left="undefined"!=typeof t.left?t.left:i.left,e):i},e.width=function(t){return arguments.length?(r=t,e):r},e.axis=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(o=t,e):o},e.getData=function(t){return arguments.length?(s=d3.functor(t),e):s},e.scale=function(t){return arguments.length?(u=t,e):u},e.color=function(n){return arguments.length?(l=t.utils.getColor(n),e):l},e.duration=function(t){return arguments.length?(c=t,f.reset(c),e):c},e},t.models.historicalBar=function(){"use strict";function e(_){return _.each(function(e){w.reset();var _=d3.select(this),C=(s||parseInt(_.style("width"))||960)-a.left-a.right,k=(l||parseInt(_.style("height"))||400)-a.top-a.bottom;t.utils.initSVG(_),c.domain(n||d3.extent(e[0].values.map(f).concat(p))),m?c.range(r||[.5*C/e[0].values.length,C*(e[0].values.length-.5)/e[0].values.length]):c.range(r||[0,C]),d.domain(i||d3.extent(e[0].values.map(h).concat(g))).range(o||[k,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var S=_.selectAll("g.nv-wrap.nv-historicalBar-"+u).data([e[0].values]),T=S.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+u),M=T.append("defs"),D=T.append("g"),A=S.select("g");D.append("g").attr("class","nv-bars"),S.attr("transform","translate("+a.left+","+a.top+")"),_.on("click",function(t,e){y.chartClick({data:t,index:e,pos:d3.event,id:u})}),M.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),S.select("#nv-chart-clip-path-"+u+" rect").attr("width",C).attr("height",k),A.attr("clip-path",v?"url(#nv-chart-clip-path-"+u+")":"");var I=S.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return f(t,e)});I.exit().remove();I.enter().append("rect").attr("x",0).attr("y",function(e,n){return t.utils.NaNtoZero(d(Math.max(0,h(e,n))))}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.abs(d(h(e,n))-d(0)))}).attr("transform",function(t,n){return"translate("+(c(f(t,n))-C/e[0].values.length*.45)+",0)"}).on("mouseover",function(t,n){x&&(d3.select(this).classed("hover",!0),y.elementMouseover({point:t,series:e[0],pos:[c(f(t,n)),d(h(t,n))],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("mouseout",function(t,n){x&&(d3.select(this).classed("hover",!1),y.elementMouseout({point:t,series:e[0],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("click",function(t,e){x&&(y.elementClick({value:h(t,e),data:t,index:e,pos:[c(f(t,e)),d(h(t,e))],e:d3.event,id:u}),d3.event.stopPropagation())}).on("dblclick",function(t,e){x&&(y.elementDblClick({value:h(t,e),data:t,index:e,pos:[c(f(t,e)),d(h(t,e))],e:d3.event,id:u}),d3.event.stopPropagation())});I.attr("fill",function(t,e){return b(t,e)}).attr("class",function(t,e,n){return(h(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(w,"bars").attr("transform",function(t,n){return"translate("+(c(f(t,n))-C/e[0].values.length*.45)+",0)"}).attr("width",C/e[0].values.length*.9),I.watchTransition(w,"bars").attr("y",function(e,n){var i=h(e,n)<0?d(0):d(0)-d(h(e,n))<1?d(0)-1:d(h(e,n));return t.utils.NaNtoZero(i)}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.max(Math.abs(d(h(e,n))-d(0)),1))})}),w.renderEnd("historicalBar immediate"),e}var n,i,r,o,a={top:0,right:0,bottom:0,left:0},s=null,l=null,u=Math.floor(1e4*Math.random()),c=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},h=function(t){return t.y},p=[],g=[0],m=!1,v=!0,b=t.utils.defaultColor(),y=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),x=!0,w=t.utils.renderWatch(y,0);return e.highlightPoint=function(t,e){d3.select(".nv-historicalBar-"+u).select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},e.clearHighlights=function(){d3.select(".nv-historicalBar-"+u).select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=y,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},forceX:{get:function(){return p},set:function(t){p=t}},forceY:{get:function(){return g},set:function(t){g=t}},padData:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return h},set:function(t){h=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return o},set:function(t){o=t}},clipEdge:{get:function(){return v},set:function(t){v=t}},id:{get:function(){return u},set:function(t){u=t}},interactive:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return a},set:function(t){a.top=t.top!==undefined?t.top:a.top,a.right=t.right!==undefined?t.right:a.right,a.bottom=t.bottom!==undefined?t.bottom:a.bottom,a.left=t.left!==undefined?t.left:a.left}},color:{get:function(){return b},set:function(e){b=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.historicalBarChart=function(e){"use strict";function n(e){return e.each(function(x){M.reset(),M.models(o),g&&M.models(a),m&&M.models(s);var D=d3.select(this),A=this;t.utils.initSVG(D);var I,j=(f||parseInt(D.style("width"))||960)-c.left-c.right,$=(h||parseInt(D.style("height"))||400)-c.top-c.bottom;if(n.update=function(){D.transition().duration(S).call(n)},n.container=this,w.disabled=x.map(function(t){return!!t.disabled}),!_)for(I in _={},w)w[I]instanceof Array?_[I]=w[I].slice(0):_[I]=w[I];if(!(x&&x.length&&x.filter(function(t){return t.values.length}).length)){var F=D.selectAll(".nv-noData").data([C]);return F.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),F.attr("x",c.left+j/2).attr("y",c.top+$/2).text(function(t){return t}),n}D.selectAll(".nv-noData").remove(),i=o.xScale(),r=o.yScale();var E=D.selectAll("g.nv-wrap.nv-historicalBarChart").data([x]),O=E.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),P=E.select("g");O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-barsWrap"),O.append("g").attr("class","nv-legendWrap"),O.append("g").attr("class","nv-interactive"),p&&(l.width(j),P.select(".nv-legendWrap").datum(x).call(l),c.top!=l.height()&&(c.top=l.height(),$=(h||parseInt(D.style("height"))||400)-c.top-c.bottom),E.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")),E.attr("transform","translate("+c.left+","+c.top+")"),v&&P.select(".nv-y.nv-axis").attr("transform","translate("+j+",0)"),b&&(u.width(j).height($).margin({left:c.left,top:c.top}).svgContainer(D).xScale(i),E.select(".nv-interactive").call(u)),o.width(j).height($).color(x.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!x[e].disabled})),P.select(".nv-barsWrap").datum(x.filter(function(t){return!t.disabled})).transition().call(o),g&&(a.scale(i).tickSize(-$,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),P.select(".nv-x.nv-axis").transition().call(a)),m&&(s.scale(r).ticks(t.utils.calcTicksY($/36,x)).tickSize(-j,0),P.select(".nv-y.nv-axis").transition().call(s)),u.dispatch.on("elementMousemove",function(e){o.clearHighlights();var i,r,l,f=[];x.filter(function(t,e){
return t.seriesIndex=e,!t.disabled}).forEach(function(a){r=t.interactiveBisect(a.values,e.pointXValue,n.x()),o.highlightPoint(r,!0);var s=a.values[r];void 0!==s&&(void 0===i&&(i=s),void 0===l&&(l=n.xScale()(n.x()(s,r))),f.push({key:a.key,value:n.y()(s,r),color:d(a,a.seriesIndex),data:a.values[r]}))});var h=a.tickFormat()(n.x()(i,r));u.tooltip.position({left:l+c.left,top:e.mouseY+c.top}).chartContainer(A.parentNode).enabled(y).valueFormatter(function(t){return s.tickFormat()(t)}).data({value:h,series:f})(),u.renderGuideLine(l)}),u.dispatch.on("elementMouseout",function(){k.tooltipHide(),o.clearHighlights()}),l.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,x.filter(function(t){return!t.disabled}).length||x.map(function(t){return t.disabled=!1,E.selectAll(".nv-series").classed("disabled",!1),t}),w.disabled=x.map(function(t){return!!t.disabled}),k.stateChange(w),e.transition().call(n)}),l.dispatch.on("legendDblclick",function(t){x.forEach(function(t){t.disabled=!0}),t.disabled=!1,w.disabled=x.map(function(t){return!!t.disabled}),k.stateChange(w),n.update()}),k.on("tooltipShow",function(t){y&&T(t,A.parentNode)}),k.on("changeState",function(t){"undefined"!=typeof t.disabled&&(x.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),n.update()})}),M.renderEnd("historicalBarChart immediate"),n}var i,r,o=e||t.models.historicalBar(),a=t.models.axis(),s=t.models.axis(),l=t.models.legend(),u=t.interactiveGuideline(),c={top:30,right:90,bottom:50,left:90},d=t.utils.defaultColor(),f=null,h=null,p=!1,g=!0,m=!0,v=!1,b=!1,y=!0,x=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},w={},_=null,C="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),S=250;a.orient("bottom").tickPadding(7),s.orient(v?"right":"left");var T=function(e,i){if(i){var r=d3.select(i).select("svg"),l=r.node()?r.attr("viewBox"):null;if(l){l=l.split(" ");var u=parseInt(r.style("width"))/l[2];e.pos[0]=e.pos[0]*u,e.pos[1]=e.pos[1]*u}}var c=e.pos[0]+(i.offsetLeft||0),d=e.pos[1]+(i.offsetTop||0),f=a.tickFormat()(o.x()(e.point,e.pointIndex)),h=s.tickFormat()(o.y()(e.point,e.pointIndex)),p=x(e.series.key,f,h,e,n);t.tooltip.show([c,d],p,null,null,i)},M=t.utils.renderWatch(k,0);return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],k.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){y&&t.tooltip.cleanup()}),n.dispatch=k,n.bars=o,n.legend=l,n.xAxis=a,n.yAxis=s,n.interactiveLayer=u,n.options=t.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return g},set:function(t){g=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},tooltips:{get:function(){return y},set:function(t){y=t}},tooltipContent:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return c},set:function(t){c.top=t.top!==undefined?t.top:c.top,c.right=t.right!==undefined?t.right:c.right,c.bottom=t.bottom!==undefined?t.bottom:c.bottom,c.left=t.left!==undefined?t.left:c.left}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),l.color(d),o.color(d)}},duration:{get:function(){return S},set:function(t){S=t,M.reset(S),s.duration(S),a.duration(S)}},rightAlignYAxis:{get:function(){return v},set:function(t){v=t,s.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(t){b=t,!0===t&&n.interactive(!1)}}}),t.utils.inheritOptions(n,o),t.utils.initOptions(n),n},t.models.ohlcBarChart=function(){var e=t.models.historicalBarChart(t.models.ohlcBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator(function(t){var n=t.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),e},t.models.legend=function(){"use strict";function e(f){return f.each(function(e){var f=i-n.left-n.right,h=d3.select(this);t.utils.initSVG(h);var p=h.selectAll("g.nv-legend").data([e]),g=(p.enter().append("g").attr("class","nvd3 nv-legend").append("g"),p.select("g"));p.attr("transform","translate("+n.left+","+n.top+")");var m=g.selectAll(".nv-series").data(function(t){return t}),v=m.enter().append("g").attr("class","nv-series").on("mouseover",function(t,e){d.legendMouseover(t,e)}).on("mouseout",function(t,e){d.legendMouseout(t,e)}).on("click",function(t,n){d.legendClick(t,n),u&&(c?(e.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,e.every(function(t){return t.disabled})&&e.forEach(function(t){t.disabled=!1})),d.stateChange({disabled:e.map(function(t){return!!t.disabled})}))}).on("dblclick",function(t,n){d.legendDblclick(t,n),u&&(e.forEach(function(t){t.disabled=!0}),t.disabled=!1,d.stateChange({disabled:e.map(function(t){return!!t.disabled})}))});if(v.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),v.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),m.classed("nv-disabled",function(t){return t.disabled}),m.exit().remove(),m.select("circle").style("fill",function(t,e){return t.color||a(t,e)}).style("stroke",function(t,e){return t.color||a(t,e)}),m.select("text").text(o),s){var b=[];m.each(function(){var e,n=d3.select(this).select("text");try{if((e=n.node().getComputedTextLength())<=0)throw Error()}catch(i){e=t.utils.calcApproxTextWidth(n)}b.push(e+28)});for(var y=0,x=0,w=[];x<f&&y<b.length;)w[y]=b[y],x+=b[y++];for(0===y&&(y=1);x>f&&y>1;){w=[],y--;for(var _=0;_<b.length;_++)b[_]>(w[_%y]||0)&&(w[_%y]=b[_]);x=w.reduce(function(t,e){return t+e})}for(var C=[],k=0,S=0;k<y;k++)C[k]=S,S+=w[k];m.attr("transform",function(t,e){return"translate("+C[e%y]+","+(5+20*Math.floor(e/y))+")"}),l?g.attr("transform","translate("+(i-n.right-x)+","+n.top+")"):g.attr("transform","translate(0,"+n.top+")"),r=n.top+n.bottom+20*Math.ceil(b.length/y)}else{var T,M=5,D=5,A=0;m.attr("transform",function(){var t=d3.select(this).select("text").node().getComputedTextLength()+28;return T=D,i<n.left+n.right+T+t&&(D=T=5,M+=20),(D+=t)>A&&(A=D),"translate("+T+","+M+")"}),g.attr("transform","translate("+(i-n.right-A)+","+n.top+")"),r=n.top+n.bottom+M+15}}),e}var n={top:5,right:0,bottom:5,left:0},i=400,r=20,o=function(t){return t.key},a=t.utils.defaultColor(),s=!0,l=!0,u=!0,c=!1,d=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");return e.dispatch=d,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return i},set:function(t){i=t}},height:{get:function(){return r},set:function(t){r=t}},key:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return s},set:function(t){s=t}},rightAlign:{get:function(){return l},set:function(t){l=t}},updateState:{get:function(){return u},set:function(t){u=t}},radioButtonMode:{get:function(){return c},set:function(t){c=t}},margin:{get:function(){return n},set:function(t){n.top=t.top!==undefined?t.top:n.top,n.right=t.right!==undefined?t.right:n.right,n.bottom=t.bottom!==undefined?t.bottom:n.bottom,n.left=t.left!==undefined?t.left:n.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.line=function(){"use strict";function e(g){return y.reset(),y.models(r),g.each(function(e){var g=a-o.left-o.right,m=s-o.top-o.bottom,x=d3.select(this);t.utils.initSVG(x),n=r.xScale(),i=r.yScale(),v=v||n,b=b||i;var w=x.selectAll("g.nv-wrap.nv-line").data([e]),_=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),C=_.append("defs"),k=_.append("g"),S=w.select("g");k.append("g").attr("class","nv-groups"),k.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+o.left+","+o.top+")"),r.width(g).height(m);var T=w.select(".nv-scatterWrap");T.call(r),C.append("clipPath").attr("id","nv-edge-clip-"+r.id()).append("rect"),w.select("#nv-edge-clip-"+r.id()+" rect").attr("width",g).attr("height",m>0?m:0),S.attr("clip-path",h?"url(#nv-edge-clip-"+r.id()+")":""),T.attr("clip-path",h?"url(#nv-edge-clip-"+r.id()+")":"");var M=w.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});M.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),M.exit().remove(),M.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return l(t,e)}).style("stroke",function(t,e){return l(t,e)}),M.watchTransition(y,"line: groups").style("stroke-opacity",1).style("fill-opacity",.5);var D=M.selectAll("path.nv-area").data(function(t){return f(t)?[t]:[]});D.enter().append("path").attr("class","nv-area").attr("d",function(e){return d3.svg.area().interpolate(p).defined(d).x(function(e,n){return t.utils.NaNtoZero(v(u(e,n)))}).y0(function(e,n){return t.utils.NaNtoZero(b(c(e,n)))}).y1(function(){return b(i.domain()[0]<=0?i.domain()[1]>=0?0:i.domain()[1]:i.domain()[0])}).apply(this,[e.values])}),M.exit().selectAll("path.nv-area").remove(),D.watchTransition(y,"line: areaPaths").attr("d",function(e){return d3.svg.area().interpolate(p).defined(d).x(function(e,i){return t.utils.NaNtoZero(n(u(e,i)))}).y0(function(e,n){return t.utils.NaNtoZero(i(c(e,n)))}).y1(function(){return i(i.domain()[0]<=0?i.domain()[1]>=0?0:i.domain()[1]:i.domain()[0])}).apply(this,[e.values])});var A=M.selectAll("path.nv-line").data(function(t){return[t.values]});A.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(p).defined(d).x(function(e,n){return t.utils.NaNtoZero(v(u(e,n)))}).y(function(e,n){return t.utils.NaNtoZero(b(c(e,n)))})),A.watchTransition(y,"line: linePaths").attr("d",d3.svg.line().interpolate(p).defined(d).x(function(e,i){return t.utils.NaNtoZero(n(u(e,i)))}).y(function(e,n){return t.utils.NaNtoZero(i(c(e,n)))})),v=n.copy(),b=i.copy()}),y.renderEnd("line immediate"),e}var n,i,r=t.models.scatter(),o={top:0,right:0,bottom:0,left:0},a=960,s=500,l=t.utils.defaultColor(),u=function(t){return t.x},c=function(t){return t.y},d=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},f=function(t){return t.area},h=!1,p="linear",g=250,m=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");r.pointSize(16).pointDomain([16,256]);var v,b,y=t.utils.renderWatch(m,g);return e.dispatch=m,e.scatter=r,r.dispatch.on("elementClick",function(){m.elementClick.apply(this,arguments)}),r.dispatch.on("elementMouseover",function(){m.elementMouseover.apply(this,arguments)}),r.dispatch.on("elementMouseout",function(){m.elementMouseout.apply(this,arguments)}),e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},defined:{get:function(){return d},set:function(t){d=t}},interpolate:{get:function(){return p},set:function(t){p=t}},clipEdge:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return o},set:function(t){o.top=t.top!==undefined?t.top:o.top,o.right=t.right!==undefined?t.right:o.right,o.bottom=t.bottom!==undefined?t.bottom:o.bottom,o.left=t.left!==undefined?t.left:o.left}},duration:{get:function(){return g},set:function(t){g=t,y.reset(g),r.duration(g)}},isArea:{get:function(){return f},set:function(t){f=d3.functor(t)}},x:{get:function(){return u},set:function(t){u=t,r.x(t)}},y:{get:function(){return c},set:function(t){c=t,r.y(t)}},color:{get:function(){return l},set:function(e){l=t.utils.getColor(e),r.color(l)}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.models.lineChart=function(){"use strict";function e(y){return T.reset(),T.models(r),p&&T.models(o),g&&T.models(a),y.each(function(y){var T=d3.select(this),A=this;t.utils.initSVG(T);var I,j=(d||parseInt(T.style("width"))||960)-u.left-u.right,$=(f||parseInt(T.style("height"))||400)-u.top-u.bottom;if(e.update=function(){0===k?T.call(e):T.transition().duration(k).call(e)},e.container=this,x.setter(D(y),e.update).getter(M(y)).update(),x.disabled=y.map(function(t){return!!t.disabled}),!w)for(I in w={},x)x[I]instanceof Array?w[I]=x[I].slice(0):w[I]=x[I];if(!(y&&y.length&&y.filter(function(t){return t.values.length}).length)){var F=T.selectAll(".nv-noData").data([_]);return F.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),F.attr("x",u.left+j/2).attr("y",u.top+$/2).text(function(t){return t}),e}T.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var E=T.selectAll("g.nv-wrap.nv-lineChart").data([y]),O=E.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),P=E.select("g");O.append("rect").style("opacity",0),O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-linesWrap"),O.append("g").attr("class","nv-legendWrap"),O.append("g").attr("class","nv-interactive"),P.select("rect").attr("width",j).attr("height",$>0?$:0),h&&(s.width(j),P.select(".nv-legendWrap").datum(y).call(s),u.top!=s.height()&&(u.top=s.height(),$=(f||parseInt(T.style("height"))||400)-u.top-u.bottom),E.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")),E.attr("transform","translate("+u.left+","+u.top+")"),m&&P.select(".nv-y.nv-axis").attr("transform","translate("+j+",0)"),v&&(l.width(j).height($).margin({left:u.left,top:u.top}).svgContainer(T).xScale(n),E.select(".nv-interactive").call(l)),r.width(j).height($).color(y.map(function(t,e){return t.color||c(t,e)}).filter(function(t,e){return!y[e].disabled})),P.select(".nv-linesWrap").datum(y.filter(function(t){return!t.disabled})).call(r),p&&(o.scale(n).ticks(t.utils.calcTicksX(j/100,y)).tickSize(-$,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),P.select(".nv-x.nv-axis").call(o)),g&&(a.scale(i).ticks(t.utils.calcTicksY($/36,y)).tickSize(-j,0),P.select(".nv-y.nv-axis").call(a)),s.dispatch.on("stateChange",function(t){for(var n in t)x[n]=t[n];C.stateChange(x),e.update()}),l.dispatch.on("elementMousemove",function(n){r.clearHighlights();var i,s,d,f=[];if(y.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,a){s=t.interactiveBisect(o.values,n.pointXValue,e.x()),r.highlightPoint(a,s,!0);var l=o.values[s];void 0!==l&&(void 0===i&&(i=l),void 0===d&&(d=e.xScale()(e.x()(l,s))),f.push({key:o.key,value:e.y()(l,s),color:c(o,o.seriesIndex)}))}),f.length>2){var h=e.yScale().invert(n.mouseY),p=.03*Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),g=t.nearestValueIndex(f.map(function(t){return t.value}),h,p);null!==g&&(f[g].highlight=!0)}var m=o.tickFormat()(e.x()(i,s));l.tooltip.position({left:d+u.left,top:n.mouseY+u.top}).chartContainer(A.parentNode).enabled(b).valueFormatter(function(t){return a.tickFormat()(t)}).data({value:m,series:f})(),l.renderGuideLine(d)}),l.dispatch.on("elementClick",function(n){var i,o=[];y.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(r){var a=t.interactiveBisect(r.values,n.pointXValue,e.x()),s=r.values[a];if(void 0!==s){void 0===i&&(i=e.xScale()(e.x()(s,a)));var l=e.yScale()(e.y()(s,a));o.push({point:s,pointIndex:a,pos:[i,l],seriesIndex:r.seriesIndex,series:r})}}),r.dispatch.elementClick(o)}),l.dispatch.on("elementMouseout",function(){C.tooltipHide(),r.clearHighlights()}),C.on("tooltipShow",function(t){b&&S(t,A.parentNode)}),C.on("changeState",function(t){"undefined"!=typeof t.disabled&&y.length===t.disabled.length&&(y.forEach(function(e,n){e.disabled=t.disabled[n]}),x.disabled=t.disabled),e.update()})}),T.renderEnd("lineChart immediate"),e}var n,i,r=t.models.line(),o=t.models.axis(),a=t.models.axis(),s=t.models.legend(),l=t.interactiveGuideline(),u={top:30,right:20,bottom:50,left:60},c=t.utils.defaultColor(),d=null,f=null,h=!0,p=!0,g=!0,m=!1,v=!1,b=!0,y=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},x=t.utils.state(),w=null,_="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),k=250;o.orient("bottom").tickPadding(7),a.orient(m?"right":"left");var S=function(n,i){var s=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),u=o.tickFormat()(r.x()(n.point,n.pointIndex)),c=a.tickFormat()(r.y()(n.point,n.pointIndex)),d=y(n.series.key,u,c,n,e);t.tooltip.show([s,l],d,null,null,i)},T=t.utils.renderWatch(C,k),M=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},D=function(t){return function(e){e.active!==undefined&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],C.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),C.on("tooltipHide",function(){b&&t.tooltip.cleanup()}),e.dispatch=C,e.lines=r,e.legend=s,e.xAxis=o,e.yAxis=a,e.interactiveLayer=l,e.dispatch=C,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return h},set:function(t){h=t}},showXAxis:{get:function(){return p},set:function(t){p=t}},showYAxis:{get:function(){return g},set:function(t){g=t}},tooltips:{get:function(){return b},set:function(t){b=t}},tooltipContent:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return w},set:function(t){w=t}},noData:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return u},set:function(t){u.top=t.top!==undefined?t.top:u.top,u.right=t.right!==undefined?t.right:u.right,u.bottom=t.bottom!==undefined?t.bottom:u.bottom,u.left=t.left!==undefined?t.left:u.left}},duration:{get:function(){return k},set:function(t){k=t,T.reset(k),r.duration(k),o.duration(k),a.duration(k)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e),s.color(c),r.color(c)}},rightAlignYAxis:{get:function(){return m},set:function(t){m=t,a.orient(m?"right":"left")}},useInteractiveGuideline:{get:function(){return v},set:function(t){(v=t)&&(r.interactive(!1),r.useVoronoi(!1))}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.models.linePlusBarChart=function(){"use strict";function e(O){return O.each(function(O){function V(t){var e=+("e"==t),n=e?1:-1,i=tt/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}function Y(){x.empty()||x.extent(F),ht.data([x.empty()?r.domain():F]).each(function(t){var e=r(t[0])-r.range()[0],n=r.range()[1]-r(t[1]);d3.select(this).select(".left").attr("width",e<0?0:e),d3.select(this).select(".right").attr("x",r(t[1])).attr("width",n<0?0:n)})}function X(){F=x.empty()?null:x.extent(),n=x.empty()?r.domain():x.extent(),L.brush({extent:n,brush:x}),Y(),d.width(J).height(Q).color(O.map(function(t,e){return t.color||M(t,e)}).filter(function(t,e){return!O[e].disabled&&O[e].bar})),u.width(J).height(Q).color(O.map(function(t,e){return t.color||M(t,e)}).filter(function(t,e){return!O[e].disabled&&!O[e].bar}));var e=lt.select(".nv-focus .nv-barsWrap").datum(nt.length?nt.map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return d.x()(t,e)>=n[0]&&d.x()(t,e)<=n[1]})}}):[{values:[]}]),s=lt.select(".nv-focus .nv-linesWrap").datum(it[0].disabled?[{values:[]}]:it.map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return u.x()(t,e)>=n[0]&&u.x()(t,e)<=n[1]})}}));i=nt.length?d.xScale():u.xScale(),h.scale(i).ticks(t.utils.calcTicksX(J/100,O)).tickSize(-Q,0),h.domain([Math.ceil(n[0]),Math.floor(n[1])]),lt.select(".nv-x.nv-axis").transition().duration(N).call(h),e.transition().duration(N).call(d),s.transition().duration(N).call(u),lt.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),g.scale(o).ticks(t.utils.calcTicksY(Q/36,O)).tickSize(-J,0),m.scale(a).ticks(t.utils.calcTicksY(Q/36,O)).tickSize(nt.length?0:-J,0),lt.select(".nv-focus .nv-y1.nv-axis").style("opacity",nt.length?1:0),lt.select(".nv-focus .nv-y2.nv-axis").style("opacity",it.length&&!it[0].disabled?1:0).attr("transform","translate("+i.range()[1]+",0)"),lt.select(".nv-focus .nv-y1.nv-axis").transition().duration(N).call(g),lt.select(".nv-focus .nv-y2.nv-axis").transition().duration(N).call(m)}var G=d3.select(this),Z=this;t.utils.initSVG(G);var K,J=(C||parseInt(G.style("width"))||960)-w.left-w.right,Q=(k||parseInt(G.style("height"))||400)-w.top-w.bottom-(A?$:0),tt=$-_.top-_.bottom;if(e.update=function(){G.transition().duration(N).call(e)},e.container=this,B.setter(W(O),e.update).getter(q(O)).update(),B.disabled=O.map(function(t){return!!t.disabled}),!R)for(K in R={},B)B[K]instanceof Array?R[K]=B[K].slice(0):R[K]=B[K];if(!(O&&O.length&&O.filter(function(t){return t.values.length}).length)){var et=G.selectAll(".nv-noData").data([P]);return et.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),et.attr("x",w.left+J/2).attr("y",w.top+Q/2).text(function(t){return t}),e}G.selectAll(".nv-noData").remove();var nt=O.filter(function(t){return!t.disabled&&t.bar}),it=O.filter(function(t){return!t.bar});i=d.xScale(),r=p.scale(),o=d.yScale(),a=u.yScale(),s=f.yScale(),l=c.yScale();var rt=O.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:T(t,e)}})}),ot=O.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:T(t,e)}})});i.range([0,J]),r.domain(d3.extent(d3.merge(rt.concat(ot)),function(t){return t.x})).range([0,J]);var at=G.selectAll("g.nv-wrap.nv-linePlusBar").data([O]),st=at.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),lt=at.select("g");st.append("g").attr("class","nv-legendWrap");var ut=st.append("g").attr("class","nv-focus");ut.append("g").attr("class","nv-x nv-axis"),ut.append("g").attr("class","nv-y1 nv-axis"),ut.append("g").attr("class","nv-y2 nv-axis"),ut.append("g").attr("class","nv-barsWrap"),ut.append("g").attr("class","nv-linesWrap");var ct=st.append("g").attr("class","nv-context");ct.append("g").attr("class","nv-x nv-axis"),ct.append("g").attr("class","nv-y1 nv-axis"),ct.append("g").attr("class","nv-y2 nv-axis"),ct.append("g").attr("class","nv-barsWrap"),ct.append("g").attr("class","nv-linesWrap"),ct.append("g").attr("class","nv-brushBackground"),ct.append("g").attr("class","nv-x nv-brush"),D&&(y.width(J/2),lt.select(".nv-legendWrap").datum(O.map(function(t){return t.originalKey=t.originalKey===undefined?t.key:t.originalKey,t.key=t.originalKey+(t.bar?z:H),t})).call(y),w.top!=y.height()&&(w.top=y.height(),Q=(k||parseInt(G.style("height"))||400)-w.top-w.bottom-$),lt.select(".nv-legendWrap").attr("transform","translate("+J/2+","+-w.top+")")),at.attr("transform","translate("+w.left+","+w.top+")"),lt.select(".nv-context").style("display",A?"initial":"none"),f.width(J).height(tt).color(O.map(function(t,e){return t.color||M(t,e)}).filter(function(t,e){return!O[e].disabled&&O[e].bar})),c.width(J).height(tt).color(O.map(function(t,e){return t.color||M(t,e)}).filter(function(t,e){return!O[e].disabled&&!O[e].bar}));var dt=lt.select(".nv-context .nv-barsWrap").datum(nt.length?nt:[{values:[]}]),ft=lt.select(".nv-context .nv-linesWrap").datum(it[0].disabled?[{values:[]}]:it);lt.select(".nv-context").attr("transform","translate(0,"+(Q+w.bottom+_.top)+")"),dt.transition().call(f),ft.transition().call(c),j&&(p.ticks(t.utils.calcTicksX(J/100,O)).tickSize(-tt,0),lt.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")"),lt.select(".nv-context .nv-x.nv-axis").transition().call(p)),I&&(v.scale(s).ticks(tt/36).tickSize(-J,0),b.scale(l).ticks(tt/36).tickSize(nt.length?0:-J,0),lt.select(".nv-context .nv-y3.nv-axis").style("opacity",nt.length?1:0).attr("transform","translate(0,"+r.range()[0]+")"),lt.select(".nv-context .nv-y2.nv-axis").style("opacity",it.length?1:0).attr("transform","translate("+r.range()[1]+",0)"),lt.select(".nv-context .nv-y1.nv-axis").transition().call(v),lt.select(".nv-context .nv-y2.nv-axis").transition().call(b)),x.x(r).on("brush",X),F&&x.extent(F);var ht=lt.select(".nv-brushBackground").selectAll("g").data([F||x.extent()]),pt=ht.enter().append("g");pt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",tt),pt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",tt);var gt=lt.select(".nv-x.nv-brush").call(x);gt.selectAll("rect").attr("height",tt),gt.selectAll(".resize").append("path").attr("d",V),y.dispatch.on("stateChange",function(t){for(var n in t)B[n]=t[n];L.stateChange(B),e.update()}),L.on("tooltipShow",function(t){E&&U(t,Z.parentNode)}),L.on("changeState",function(t){"undefined"!=typeof t.disabled&&(O.forEach(function(e,n){e.disabled=t.disabled[n]}),B.disabled=t.disabled),e.update()}),X()}),e}var n,i,r,o,a,s,l,u=t.models.line(),c=t.models.line(),d=t.models.historicalBar(),f=t.models.historicalBar(),h=t.models.axis(),p=t.models.axis(),g=t.models.axis(),m=t.models.axis(),v=t.models.axis(),b=t.models.axis(),y=t.models.legend(),x=d3.svg.brush(),w={top:30,right:30,bottom:30,left:60},_={top:0,right:30,bottom:20,left:60},C=null,k=null,S=function(t){return t.x},T=function(t){return t.y},M=t.utils.defaultColor(),D=!0,A=!0,I=!1,j=!0,$=50,F=null,E=!0,O=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},P="No Data Available.",L=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState"),N=0,B=t.utils.state(),R=null,z=" (left axis)",H=" (right axis)";u.clipEdge(!0),c.interactive(!1),h.orient("bottom").tickPadding(5),g.orient("left"),m.orient("right"),p.orient("bottom").tickPadding(5),v.orient("left"),b.orient("right");var U=function(i,r){n&&(i.pointIndex+=Math.ceil(n[0]));var o=i.pos[0]+(r.offsetLeft||0),a=i.pos[1]+(r.offsetTop||0),s=h.tickFormat()(u.x()(i.point,i.pointIndex)),l=(i.series.bar?g:m).tickFormat()(u.y()(i.point,i.pointIndex)),c=O(i.series.key,s,l,i,e);t.tooltip.show([o,a],c,i.value<0?"n":"s",null,r)},q=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},W=function(t){return function(e){e.active!==undefined&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return u.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+w.left,t.pos[1]+w.top],L.tooltipShow(t)}),u.dispatch.on("elementMouseout.tooltip",function(t){L.tooltipHide(t)}),d.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+w.left,t.pos[1]+w.top],L.tooltipShow(t)}),d.dispatch.on("elementMouseout.tooltip",function(t){L.tooltipHide(t)}),L.on("tooltipHide",function(){E&&t.tooltip.cleanup()}),e.dispatch=L,e.legend=y,e.lines=u,e.lines2=c,e.bars=d,e.bars2=f,e.xAxis=h,e.x2Axis=p,e.y1Axis=g,e.y2Axis=m,e.y3Axis=v,e.y4Axis=b,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return C},set:function(t){C=t}},height:{get:function(){return k},set:function(t){k=t}},showLegend:{get:function(){return D},set:function(t){D=t}},tooltips:{get:function(){return E},set:function(t){E=t}},tooltipContent:{get:function(){return O},set:function(t){O=t}},brushExtent:{get:function(){return F},set:function(t){F=t}},noData:{get:function(){return P},set:function(t){P=t}},focusEnable:{get:function(){return A},set:function(t){A=t}},focusHeight:{get:function(){return $},set:function(t){$=t}},focusShowAxisX:{get:function(){return j},set:function(t){j=t}},focusShowAxisY:{get:function(){return I},set:function(t){I=t}},legendLeftAxisHint:{get:function(){return z},set:function(t){z=t}},legendRightAxisHint:{get:function(){return H},set:function(t){H=t}},margin:{get:function(){return w},set:function(t){w.top=t.top!==undefined?t.top:w.top,w.right=t.right!==undefined?t.right:w.right,w.bottom=t.bottom!==undefined?t.bottom:w.bottom,w.left=t.left!==undefined?t.left:w.left}},duration:{get:function(){return N},set:function(t){N=t}},color:{get:function(){return M},set:function(e){M=t.utils.getColor(e),y.color(M)}},x:{get:function(){return S},set:function(t){S=t,u.x(t),c.x(t),d.x(t),f.x(t)}},y:{get:function(){return T},set:function(t){T=t,u.y(t),c.y(t),d.y(t),f.y(t)}}}),t.utils.inheritOptions(e,u),t.utils.initOptions(e),e},t.models.lineWithFocusChart=function(){"use strict";function e(C){return C.each(function(C){function $(t){var e=+("e"==t),n=e?1:-1,i=R/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}function F(){h.empty()||h.extent(w),X.data([h.empty()?r.domain():w]).each(function(t){var e=r(t[0])-n.range()[0],i=n.range()[1]-r(t[1]);d3.select(this).select(".left").attr("width",e<0?0:e),d3.select(this).select(".right").attr("x",r(t[1])).attr("width",i<0?0:i)})}function E(){w=h.empty()?null:h.extent();var t=h.empty()?r.domain():h.extent();Math.abs(t[0]-t[1])<=1||(S.brush({extent:t,brush:h}),F(),q.select(".nv-focus .nv-linesWrap").datum(C.filter(function(t){return!t.disabled}).map(function(e){return{key:e.key,area:e.area,values:e.values.filter(function(e,n){return a.x()(e,n)>=t[0]&&a.x()(e,n)<=t[1]})}})).transition().duration(T).call(a),q.select(".nv-focus .nv-x.nv-axis").transition().duration(T).call(l),q.select(".nv-focus .nv-y.nv-axis").transition().duration(T).call(u))}var O=d3.select(this),P=this;t.utils.initSVG(O);var L,N=(v||parseInt(O.style("width"))||960)-p.left-p.right,B=(b||parseInt(O.style("height"))||400)-p.top-p.bottom-y,R=y-g.top-g.bottom;if(e.update=function(){O.transition().duration(T).call(e)},e.container=this,M.setter(j(C),e.update).getter(I(C)).update(),M.disabled=C.map(function(t){return!!t.disabled}),!D)for(L in D={},M)M[L]instanceof Array?D[L]=M[L].slice(0):D[L]=M[L];if(!(C&&C.length&&C.filter(function(t){return t.values.length}).length)){var z=O.selectAll(".nv-noData").data([k]);return z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),z.attr("x",p.left+N/2).attr("y",p.top+B/2).text(function(t){return t}),e}O.selectAll(".nv-noData").remove(),n=a.xScale(),i=a.yScale(),r=s.xScale(),o=s.yScale();var H=O.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([C]),U=H.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),q=H.select("g");U.append("g").attr("class","nv-legendWrap");var W=U.append("g").attr("class","nv-focus");W.append("g").attr("class","nv-x nv-axis"),W.append("g").attr("class","nv-y nv-axis"),W.append("g").attr("class","nv-linesWrap");var V=U.append("g").attr("class","nv-context");V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-linesWrap"),V.append("g").attr("class","nv-brushBackground"),V.append("g").attr("class","nv-x nv-brush"),x&&(f.width(N),q.select(".nv-legendWrap").datum(C).call(f),p.top!=f.height()&&(p.top=f.height(),B=(b||parseInt(O.style("height"))||400)-p.top-p.bottom-y),q.select(".nv-legendWrap").attr("transform","translate(0,"+-p.top+")")),H.attr("transform","translate("+p.left+","+p.top+")"),a.width(N).height(B).color(C.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!C[e].disabled})),s.defined(a.defined()).width(N).height(R).color(C.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!C[e].disabled})),q.select(".nv-context").attr("transform","translate(0,"+(B+p.bottom+g.top)+")");var Y=q.select(".nv-context .nv-linesWrap").datum(C.filter(function(t){return!t.disabled}));d3.transition(Y).call(s),l.scale(n).ticks(t.utils.calcTicksX(N/100,C)).tickSize(-B,0),u.scale(i).ticks(t.utils.calcTicksY(B/36,C)).tickSize(-N,0),q.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+B+")"),h.x(r).on("brush",function(){var t=e.duration();e.duration(0),E(),e.duration(t)}),w&&h.extent(w);var X=q.select(".nv-brushBackground").selectAll("g").data([w||h.extent()]),G=X.enter().append("g");G.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",R),G.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",R);var Z=q.select(".nv-x.nv-brush").call(h);Z.selectAll("rect").attr("height",R),Z.selectAll(".resize").append("path").attr("d",$),E(),c.scale(r).ticks(t.utils.calcTicksX(N/100,C)).tickSize(-R,0),q.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),
d3.transition(q.select(".nv-context .nv-x.nv-axis")).call(c),d.scale(o).ticks(t.utils.calcTicksY(R/36,C)).tickSize(-N,0),d3.transition(q.select(".nv-context .nv-y.nv-axis")).call(d),q.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),f.dispatch.on("stateChange",function(t){for(var n in t)M[n]=t[n];S.stateChange(M),e.update()}),S.on("tooltipShow",function(t){_&&A(t,P.parentNode)}),S.on("changeState",function(t){"undefined"!=typeof t.disabled&&C.forEach(function(e,n){e.disabled=t.disabled[n]}),e.update()})}),e}var n,i,r,o,a=t.models.line(),s=t.models.line(),l=t.models.axis(),u=t.models.axis(),c=t.models.axis(),d=t.models.axis(),f=t.models.legend(),h=d3.svg.brush(),p={top:30,right:30,bottom:30,left:60},g={top:0,right:30,bottom:20,left:60},m=t.utils.defaultColor(),v=null,b=null,y=100,x=!0,w=null,_=!0,C=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},k="No Data Available.",S=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState"),T=250,M=t.utils.state(),D=null;a.clipEdge(!0),s.interactive(!1),l.orient("bottom").tickPadding(5),u.orient("left"),c.orient("bottom").tickPadding(5),d.orient("left");var A=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),o=n.pos[1]+(i.offsetTop||0),s=l.tickFormat()(a.x()(n.point,n.pointIndex)),c=u.tickFormat()(a.y()(n.point,n.pointIndex)),d=C(n.series.key,s,c,n,e);t.tooltip.show([r,o],d,null,null,i)},I=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},j=function(t){return function(e){e.active!==undefined&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+p.left,t.pos[1]+p.top],S.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),S.on("tooltipHide",function(){_&&t.tooltip.cleanup()}),e.dispatch=S,e.legend=f,e.lines=a,e.lines2=s,e.xAxis=l,e.yAxis=u,e.x2Axis=c,e.y2Axis=d,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return b},set:function(t){b=t}},focusHeight:{get:function(){return y},set:function(t){y=t}},showLegend:{get:function(){return x},set:function(t){x=t}},brushExtent:{get:function(){return w},set:function(t){w=t}},tooltips:{get:function(){return _},set:function(t){_=t}},tooltipContent:{get:function(){return C},set:function(t){C=t}},defaultState:{get:function(){return D},set:function(t){D=t}},noData:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return p},set:function(t){p.top=t.top!==undefined?t.top:p.top,p.right=t.right!==undefined?t.right:p.right,p.bottom=t.bottom!==undefined?t.bottom:p.bottom,p.left=t.left!==undefined?t.left:p.left}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),f.color(m)}},interpolate:{get:function(){return a.interpolate()},set:function(t){a.interpolate(t),s.interpolate(t)}},xTickFormat:{get:function(){return l.xTickFormat()},set:function(t){l.xTickFormat(t),c.xTickFormat(t)}},yTickFormat:{get:function(){return u.yTickFormat()},set:function(t){u.yTickFormat(t),d.yTickFormat(t)}},duration:{get:function(){return T},set:function(t){T=t,u.duration(T),l.duration(T)}},x:{get:function(){return a.x()},set:function(t){a.x(t),s.x(t)}},y:{get:function(){return a.y()},set:function(t){a.y(t),s.y(t)}}}),t.utils.inheritOptions(e,a),t.utils.initOptions(e),e},t.models.multiBar=function(){"use strict";function e(A){return M.reset(),A.each(function(e){var A=c-u.left-u.right,I=d-u.top-u.bottom,j=d3.select(this);t.utils.initSVG(j);_&&e.length&&(_=[{values:e[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),y&&(e=d3.layout.stack().offset(x).values(function(t){return t.values}).y(m)(!e.length&&_?_:e)),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),y&&e[0].values.map(function(t,n){var i=0,r=0;e.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=r,r-=e.size):(e.y1=e.size+i,i+=e.size)})});var $=i&&r?[]:e.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});f.domain(i||d3.merge($).map(function(t){return t.x})).rangeBands(o||[0,A],S),h.domain(r||d3.extent(d3.merge($).map(function(t){return y?t.y>0?t.y1:t.y1+t.y:t.y}).concat(v))).range(a||[I,0]),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1])),s=s||f,l=l||h;var F=j.selectAll("g.nv-wrap.nv-multibar").data([e]),E=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),O=E.append("defs"),P=E.append("g"),L=F.select("g");P.append("g").attr("class","nv-groups"),F.attr("transform","translate("+u.left+","+u.top+")"),O.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),F.select("#nv-edge-clip-"+p+" rect").attr("width",A).attr("height",I),L.attr("clip-path",b?"url(#nv-edge-clip-"+p+")":"");var N=F.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});N.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var B=M.transition(N.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,k)).attr("y",function(t){return l(y?t.y0:0)||0}).attr("height",0).remove();B.delay&&B.delay(function(t,e){return e*(k/(D+1))-e}),N.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return w(t,e)}).style("stroke",function(t,e){return w(t,e)}),N.style("stroke-opacity",1).style("fill-opacity",.75);var R=N.selectAll("rect.nv-bar").data(function(t){return _&&!e.length?_.values:t.values});R.exit().remove();R.enter().append("rect").attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,n,i){return y?0:i*f.rangeBand()/e.length}).attr("y",function(t){return l(y?t.y0:0)||0}).attr("height",0).attr("width",f.rangeBand()/(y?1:e.length)).attr("transform",function(t,e){return"translate("+f(g(t,e))+",0)"});R.style("fill",function(t,e,n){return w(t,n,e)}).style("stroke",function(t,e,n){return w(t,n,e)}).on("mouseover",function(t,n){d3.select(this).classed("hover",!0),T.elementMouseover({value:m(t,n),point:t,series:e[t.series],pos:[f(g(t,n))+f.rangeBand()*(y?e.length/2:t.series+.5)/e.length,h(m(t,n)+(y?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",!1),T.elementMouseout({value:m(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){T.elementClick({value:m(t,n),point:t,series:e[t.series],pos:[f(g(t,n))+f.rangeBand()*(y?e.length/2:t.series+.5)/e.length,h(m(t,n)+(y?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,n){T.elementDblClick({value:m(t,n),point:t,series:e[t.series],pos:[f(g(t,n))+f.rangeBand()*(y?e.length/2:t.series+.5)/e.length,h(m(t,n)+(y?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),R.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+f(g(t,e))+",0)"}),C&&(n||(n=e.map(function(){return!0})),R.style("fill",function(t,e,i){return d3.rgb(C(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()}).style("stroke",function(t,e,i){return d3.rgb(C(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()}));var z=R.watchTransition(M,"multibar",Math.min(250,k)).delay(function(t,n){return n*k/e[0].values.length});y?z.attr("y",function(t){return h(y?t.y1:0)}).attr("height",function(t){return Math.max(Math.abs(h(t.y+(y?t.y0:0))-h(y?t.y0:0)),1)}).attr("x",function(t){return y?0:t.series*f.rangeBand()/e.length}).attr("width",f.rangeBand()/(y?1:e.length)):z.attr("x",function(t){return t.series*f.rangeBand()/e.length}).attr("width",f.rangeBand()/e.length).attr("y",function(t,e){return m(t,e)<0?h(0):h(0)-h(m(t,e))<1?h(0)-1:h(m(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(h(m(t,e))-h(0)),1)||0}),s=f.copy(),l=h.copy(),e[0]&&e[0].values&&(D=e[0].values.length)}),M.renderEnd("multibar immediate"),e}var n,i,r,o,a,s,l,u={top:0,right:0,bottom:0,left:0},c=960,d=500,f=d3.scale.ordinal(),h=d3.scale.linear(),p=Math.floor(1e4*Math.random()),g=function(t){return t.x},m=function(t){return t.y},v=[0],b=!0,y=!1,x="zero",w=t.utils.defaultColor(),_=!1,C=null,k=500,S=.1,T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),M=t.utils.renderWatch(T,k),D=0;return e.dispatch=T,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return i},set:function(t){i=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return o},set:function(t){o=t}},yRange:{get:function(){return a},set:function(t){a=t}},forceY:{get:function(){return v},set:function(t){v=t}},stacked:{get:function(){return y},set:function(t){y=t}},stackOffset:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return b},set:function(t){b=t}},disabled:{get:function(){return n},set:function(t){n=t}},id:{get:function(){return p},set:function(t){p=t}},hideable:{get:function(){return _},set:function(t){_=t}},groupSpacing:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return u},set:function(t){u.top=t.top!==undefined?t.top:u.top,u.right=t.right!==undefined?t.right:u.right,u.bottom=t.bottom!==undefined?t.bottom:u.bottom,u.left=t.left!==undefined?t.left:u.left}},duration:{get:function(){return k},set:function(t){k=t,M.reset(k)}},color:{get:function(){return w},set:function(e){w=t.utils.getColor(e)}},barColor:{get:function(){return C},set:function(e){C=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.multiBarChart=function(){"use strict";function e(C){return I.reset(),I.models(r),m&&I.models(o),v&&I.models(a),C.each(function(C){var I=d3.select(this),O=this;t.utils.initSVG(I);var P,L=(c||parseInt(I.style("width"))||960)-u.left-u.right,N=(d||parseInt(I.style("height"))||400)-u.top-u.bottom;if(e.update=function(){0===A?I.call(e):I.transition().duration(A).call(e)},e.container=this,k.setter(E(C),e.update).getter(F(C)).update(),k.disabled=C.map(function(t){return!!t.disabled}),!S)for(P in S={},k)k[P]instanceof Array?S[P]=k[P].slice(0):S[P]=k[P];if(!(C&&C.length&&C.filter(function(t){return t.values.length}).length)){var B=I.selectAll(".nv-noData").data([T]);return B.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),B.attr("x",u.left+L/2).attr("y",u.top+N/2).text(function(t){return t}),e}I.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var R=I.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([C]),z=R.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),H=R.select("g");if(z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-barsWrap"),z.append("g").attr("class","nv-legendWrap"),z.append("g").attr("class","nv-controlsWrap"),g&&(s.width(L-D()),r.barColor()&&C.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),H.select(".nv-legendWrap").datum(C).call(s),u.top!=s.height()&&(u.top=s.height(),N=(d||parseInt(I.style("height"))||400)-u.top-u.bottom),H.select(".nv-legendWrap").attr("transform","translate("+D()+","+-u.top+")")),h){var U=[{key:p.grouped||"Grouped",disabled:r.stacked()},{key:p.stacked||"Stacked",disabled:!r.stacked()}];l.width(D()).color(["#444","#444","#444"]),H.select(".nv-controlsWrap").datum(U).attr("transform","translate(0,"+-u.top+")").call(l)}if(R.attr("transform","translate("+u.left+","+u.top+")"),b&&H.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)"),r.disabled(C.map(function(t){return t.disabled})).width(L).height(N).color(C.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!C[e].disabled})),H.select(".nv-barsWrap").datum(C.filter(function(t){return!t.disabled})).call(r),m){o.scale(n).ticks(t.utils.calcTicksX(L/100,C)).tickSize(-N,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),H.select(".nv-x.nv-axis").call(o);var q=H.select(".nv-x.nv-axis > g").selectAll("g");if(q.selectAll("line, text").style("opacity",1),x){var W=function(t,e){return"translate("+t+","+e+")"},V=5,Y=17;q.selectAll("text").attr("transform",function(t,e,n){return W(0,n%2==0?V:Y)});var X=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;H.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return W(0,0===e||X%2!=0?Y:V)})}y&&q.filter(function(t,e){return e%Math.ceil(C[0].values.length/(L/100))!=0}).selectAll("text, line").style("opacity",0),w&&q.selectAll(".tick text").attr("transform","rotate("+w+" 0,0)").style("text-anchor",w>0?"start":"end"),H.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}v&&(a.scale(i).ticks(t.utils.calcTicksY(N/36,C)).tickSize(-L,0),H.select(".nv-y.nv-axis").call(a)),s.dispatch.on("stateChange",function(t){for(var n in t)k[n]=t[n];M.stateChange(k),e.update()}),l.dispatch.on("legendClick",function(t){if(t.disabled){switch(U=U.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":r.stacked(!1);break;case"Stacked":r.stacked(!0)}k.stacked=r.stacked(),M.stateChange(k),e.update()}}),M.on("tooltipShow",function(t){_&&$(t,O.parentNode)}),M.on("changeState",function(t){"undefined"!=typeof t.disabled&&(C.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),"undefined"!=typeof t.stacked&&(r.stacked(t.stacked),k.stacked=t.stacked,j=t.stacked),e.update()})}),I.renderEnd("multibarchart immediate"),e}var n,i,r=t.models.multiBar(),o=t.models.axis(),a=t.models.axis(),s=t.models.legend(),l=t.models.legend(),u={top:30,right:20,bottom:50,left:60},c=null,d=null,f=t.utils.defaultColor(),h=!0,p={},g=!0,m=!0,v=!0,b=!1,y=!0,x=!1,w=0,_=!0,C=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},k=t.utils.state(),S=null,T="No Data Available.",M=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),D=function(){return h?180:0},A=250;k.stacked=!1,r.stacked(!1),o.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(t){return t}),a.orient(b?"right":"left").tickFormat(d3.format(",.1f")),l.updateState(!1);var I=t.utils.renderWatch(M),j=!1,$=function(n,i){var s=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),u=o.tickFormat()(r.x()(n.point,n.pointIndex)),c=a.tickFormat()(r.y()(n.point,n.pointIndex)),d=C(n.series.key,u,c,n,e);t.tooltip.show([s,l],d,n.value<0?"n":"s",null,i)},F=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:j}}},E=function(t){return function(e){e.stacked!==undefined&&(j=e.stacked),e.active!==undefined&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],M.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),M.on("tooltipHide",function(){_&&t.tooltip.cleanup()}),e.dispatch=M,e.multibar=r,e.legend=s,e.xAxis=o,e.yAxis=a,e.state=k,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showControls:{get:function(){return h},set:function(t){h=t}},controlLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},tooltips:{get:function(){return _},set:function(t){_=t}},tooltipContent:{get:function(){return C},set:function(t){C=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return T},set:function(t){T=t}},reduceXTicks:{get:function(){return y},set:function(t){y=t}},rotateLabels:{get:function(){return w},set:function(t){w=t}},staggerLabels:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return u},set:function(t){u.top=t.top!==undefined?t.top:u.top,u.right=t.right!==undefined?t.right:u.right,u.bottom=t.bottom!==undefined?t.bottom:u.bottom,u.left=t.left!==undefined?t.left:u.left}},duration:{get:function(){return A},set:function(t){A=t,r.duration(A),o.duration(A),a.duration(A),I.reset(A)}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),s.color(f)}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,a.orient(b?"right":"left")}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.models.multiBarHorizontal=function(){"use strict";function e(f){return D.reset(),f.each(function(e){var f=c-u.left-u.right,T=d-u.top-u.bottom,A=d3.select(this);t.utils.initSVG(A),w&&(e=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(m)(e)),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),w&&e[0].values.map(function(t,n){var i=0,r=0;e.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=r-e.size,r-=e.size):(e.y1=i,i+=e.size)})});var I=i&&r?[]:e.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});h.domain(i||d3.merge(I).map(function(t){return t.x})).rangeBands(o||[0,T],.1),p.domain(r||d3.extent(d3.merge(I).map(function(t){return w?t.y>0?t.y1+t.y:t.y1:t.y}).concat(b))),_&&!w?p.range(a||[p.domain()[0]<0?k:0,f-(p.domain()[1]>0?k:0)]):p.range(a||[0,f]),s=s||h,l=l||d3.scale.linear().domain(p.domain()).range([p(0),p(0)]);var j=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([e]),$=j.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),F=($.append("defs"),$.append("g"));j.select("g");F.append("g").attr("class","nv-groups"),j.attr("transform","translate("+u.left+","+u.top+")");var E=j.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});E.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),E.exit().watchTransition(D,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),E.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return y(t,e)}).style("stroke",function(t,e){return y(t,e)}),E.watchTransition(D,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);var O=E.selectAll("g.nv-bar").data(function(t){return t.values});O.exit().remove();var P=O.enter().append("g").attr("transform",function(t,n,i){return"translate("+l(w?t.y0:0)+","+(w?0:i*h.rangeBand()/e.length+h(g(t,n)))+")"});P.append("rect").attr("width",0).attr("height",h.rangeBand()/(w?1:e.length)),O.on("mouseover",function(t,n){d3.select(this).classed("hover",!0),M.elementMouseover({value:m(t,n),point:t,series:e[t.series],pos:[p(m(t,n)+(w?t.y0:0)),h(g(t,n))+h.rangeBand()*(w?e.length/2:t.series+.5)/e.length],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,n){d3.select(this).classed("hover",!1),M.elementMouseout({value:m(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on("click",function(t,n){M.elementClick({value:m(t,n),point:t,series:e[t.series],pos:[h(g(t,n))+h.rangeBand()*(w?e.length/2:t.series+.5)/e.length,p(m(t,n)+(w?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,n){M.elementDblClick({value:m(t,n),point:t,series:e[t.series],pos:[h(g(t,n))+h.rangeBand()*(w?e.length/2:t.series+.5)/e.length,p(m(t,n)+(w?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),v(e[0],0)&&(P.append("polyline"),O.select("polyline").attr("fill","none").attr("points",function(t,n){var i=v(t,n),r=.8*h.rangeBand()/(2*(w?1:e.length));return[[(i=(i=i.length?i:[-Math.abs(i),Math.abs(i)]).map(function(t){return p(t)-p(0)}))[0],-r],[i[0],r],[i[0],0],[i[1],0],[i[1],-r],[i[1],r]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,n){var i=h.rangeBand()/(2*(w?1:e.length));return"translate("+(m(t,n)<0?0:p(m(t,n))-p(0))+", "+i+")"})),P.append("text"),_&&!w?(O.select("text").attr("text-anchor",function(t,e){return m(t,e)<0?"end":"start"}).attr("y",h.rangeBand()/(2*e.length)).attr("dy",".32em").html(function(t,e){var n=S(m(t,e)),i=v(t,e);return i===undefined?n:i.length?n+"+"+S(Math.abs(i[1]))+"-"+S(Math.abs(i[0])):n+"&plusmn;"+S(Math.abs(i))}),O.watchTransition(D,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return m(t,e)<0?-4:p(m(t,e))-p(0)+4})):O.selectAll("text").text(""),C&&!w?(P.append("text").classed("nv-bar-label",!0),O.select("text.nv-bar-label").attr("text-anchor",function(t,e){return m(t,e)<0?"start":"end"}).attr("y",h.rangeBand()/(2*e.length)).attr("dy",".32em").text(function(t,e){return g(t,e)}),O.watchTransition(D,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return m(t,e)<0?p(0)-p(m(t,e))+4:-4})):O.selectAll("text.nv-bar-label").text(""),O.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}),x&&(n||(n=e.map(function(){return!0})),O.style("fill",function(t,e,i){return d3.rgb(x(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()}).style("stroke",function(t,e,i){return d3.rgb(x(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[i]).toString()})),w?O.watchTransition(D,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+p(t.y1)+","+h(g(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(p(m(t,e)+t.y0)-p(t.y0))}).attr("height",h.rangeBand()):O.watchTransition(D,"multibarhorizontal: bars").attr("transform",function(t,n){return"translate("+(m(t,n)<0?p(m(t,n)):p(0))+","+(t.series*h.rangeBand()/e.length+h(g(t,n)))+")"}).select("rect").attr("height",h.rangeBand()/e.length).attr("width",function(t,e){return Math.max(Math.abs(p(m(t,e))-p(0)),1)}),s=h.copy(),l=p.copy()}),D.renderEnd("multibarHorizontal immediate"),e}var n,i,r,o,a,s,l,u={top:0,right:0,bottom:0,left:0},c=960,d=500,f=Math.floor(1e4*Math.random()),h=d3.scale.ordinal(),p=d3.scale.linear(),g=function(t){return t.x},m=function(t){return t.y},v=function(t){return t.yErr},b=[0],y=t.utils.defaultColor(),x=null,w=!1,_=!1,C=!1,k=60,S=d3.format(",.2f"),T=250,M=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),D=t.utils.renderWatch(M,T);return e.dispatch=M,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return m},set:function(t){m=t}},yErr:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return i},set:function(t){i=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return o},set:function(t){o=t}},yRange:{get:function(){return a},set:function(t){a=t}},forceY:{get:function(){return b},set:function(t){b=t}},stacked:{get:function(){return w},set:function(t){w=t}},showValues:{get:function(){return _},set:function(t){_=t}},disabled:{get:function(){return n},set:function(t){n=t}},id:{get:function(){return f},set:function(t){f=t}},valueFormat:{get:function(){return S},set:function(t){S=t}},valuePadding:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return u},set:function(t){u.top=t.top!==undefined?t.top:u.top,u.right=t.right!==undefined?t.right:u.right,u.bottom=t.bottom!==undefined?t.bottom:u.bottom,u.left=t.left!==undefined?t.left:u.left}},duration:{get:function(){return T},set:function(t){T=t,D.reset(T)}},color:{get:function(){return y},set:function(e){y=t.utils.getColor(e)}},barColor:{get:function(){return y},set:function(e){x=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.multiBarHorizontalChart=function(){"use strict";function e(x){return I.reset(),I.models(r),m&&I.models(o),v&&I.models(a),x.each(function(x){var I=d3.select(this),j=this;t.utils.initSVG(I);var $,F=(c||parseInt(I.style("width"))||960)-u.left-u.right,E=(d||parseInt(I.style("height"))||400)-u.top-u.bottom;if(e.update=function(){I.transition().duration(T).call(e)},e.container=this,b=r.stacked(),w.setter(A(x),e.update).getter(D(x)).update(),w.disabled=x.map(function(t){return!!t.disabled}),!_)for($ in _={},w)w[$]instanceof Array?_[$]=w[$].slice(0):_[$]=w[$];if(!(x&&x.length&&x.filter(function(t){return t.values.length}).length)){var O=I.selectAll(".nv-noData").data([C]);return O.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),O.attr("x",u.left+F/2).attr("y",u.top+E/2).text(function(t){return t}),e}I.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var P=I.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([x]),L=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),N=P.select("g");if(L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),L.append("g").attr("class","nv-barsWrap"),L.append("g").attr("class","nv-legendWrap"),L.append("g").attr("class","nv-controlsWrap"),g&&(s.width(F-S()),r.barColor()&&x.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),N.select(".nv-legendWrap").datum(x).call(s),u.top!=s.height()&&(u.top=s.height(),E=(d||parseInt(I.style("height"))||400)-u.top-u.bottom),N.select(".nv-legendWrap").attr("transform","translate("+S()+","+-u.top+")")),h){var B=[{key:p.grouped||"Grouped",disabled:r.stacked()},{key:p.stacked||"Stacked",disabled:!r.stacked()}];l.width(S()).color(["#444","#444","#444"]),N.select(".nv-controlsWrap").datum(B).attr("transform","translate(0,"+-u.top+")").call(l)}(P.attr("transform","translate("+u.left+","+u.top+")"),r.disabled(x.map(function(t){return t.disabled})).width(F).height(E).color(x.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!x[e].disabled})),N.select(".nv-barsWrap").datum(x.filter(function(t){return!t.disabled})).transition().call(r),m)&&(o.scale(n).ticks(t.utils.calcTicksY(E/24,x)).tickSize(-F,0),N.select(".nv-x.nv-axis").call(o),N.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));v&&(a.scale(i).ticks(t.utils.calcTicksX(F/100,x)).tickSize(-E,0),N.select(".nv-y.nv-axis").attr("transform","translate(0,"+E+")"),N.select(".nv-y.nv-axis").call(a)),N.select(".nv-zeroLine line").attr("x1",i(0)).attr("x2",i(0)).attr("y1",0).attr("y2",-E),s.dispatch.on("stateChange",function(t){for(var n in t)w[n]=t[n];k.stateChange(w),e.update()}),l.dispatch.on("legendClick",function(t){if(t.disabled){switch(B=B.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":r.stacked(!1);break;case"Stacked":r.stacked(!0)}w.stacked=r.stacked(),k.stateChange(w),b=r.stacked(),e.update()}}),k.on("tooltipShow",function(t){y&&M(t,j.parentNode)}),k.on("changeState",function(t){"undefined"!=typeof t.disabled&&(x.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),"undefined"!=typeof t.stacked&&(r.stacked(t.stacked),w.stacked=t.stacked,b=t.stacked),e.update()})}),I.renderEnd("multibar horizontal chart immediate"),e}var n,i,r=t.models.multiBarHorizontal(),o=t.models.axis(),a=t.models.axis(),s=t.models.legend().height(30),l=t.models.legend().height(30),u={top:30,right:20,bottom:50,left:60},c=null,d=null,f=t.utils.defaultColor(),h=!0,p={},g=!0,m=!0,v=!0,b=!1,y=!0,x=function(t,e,n){return"<h3>"+t+" - "+e+"</h3><p>"+n+"</p>"},w=t.utils.state(),_=null,C="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),S=function(){return h?180:0},T=250;w.stacked=!1,r.stacked(b),o.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),a.orient("bottom").tickFormat(d3.format(",.1f")),l.updateState(!1);var M=function(n,i){var s=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),u=o.tickFormat()(r.x()(n.point,n.pointIndex)),c=a.tickFormat()(r.y()(n.point,n.pointIndex)),d=x(n.series.key,u,c,n,e);t.tooltip.show([s,l],d,n.value<0?"e":"w",null,i)},D=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:b}}},A=function(t){return function(e){e.stacked!==undefined&&(b=e.stacked),e.active!==undefined&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},I=t.utils.renderWatch(k,T);return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],k.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){y&&t.tooltip.cleanup()}),e.dispatch=k,e.multibar=r,e.legend=s,e.xAxis=o,e.yAxis=a,e.state=w,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showControls:{get:function(){return h},set:function(t){h=t}},controlLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},tooltips:{get:function(){return y},set:function(t){y=t}},tooltipContent:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return u},set:function(t){u.top=t.top!==undefined?t.top:u.top,u.right=t.right!==undefined?t.right:u.right,u.bottom=t.bottom!==undefined?t.bottom:u.bottom,u.left=t.left!==undefined?t.left:u.left}},duration:{get:function(){return T},set:function(t){T=t,I.reset(T),r.duration(T),o.duration(T),a.duration(T)}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),s.color(f)}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.models.multiChart=function(){"use strict";function e(c){return c.each(function(c){var f=d3.select(this),h=this;t.utils.initSVG(f),e.update=function(){f.transition().call(e)},e.container=this;var I=(a||parseInt(f.style("width"))||960)-r.left-r.right,j=(s||parseInt(f.style("height"))||400)-r.top-r.bottom,$=c.filter(function(t){return"line"==t.type&&1==t.yAxis}),F=c.filter(function(t){return"line"==t.type&&2==t.yAxis}),E=c.filter(function(t){return"bar"==t.type&&1==t.yAxis}),O=c.filter(function(t){return"bar"==t.type&&2==t.yAxis}),P=c.filter(function(t){return"area"==t.type&&1==t.yAxis}),L=c.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length)){var N=f.selectAll(".nv-noData").data([d]);return N.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),N.attr("x",r.left+I/2).attr("y",r.top+j/2).text(function(t){return t}),e}f.selectAll(".nv-noData").remove();var B=c.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:t.x,y:t.y}})}),R=c.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:t.x,y:t.y}})});g.domain(d3.extent(d3.merge(B.concat(R)),function(t){return t.x})).range([0,I]);var z=f.selectAll("g.wrap.multiChart").data([c]),H=z.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");H.append("g").attr("class","x axis"),H.append("g").attr("class","y1 axis"),H.append("g").attr("class","y2 axis"),H.append("g").attr("class","lines1Wrap"),H.append("g").attr("class","lines2Wrap"),H.append("g").attr("class","bars1Wrap"),H.append("g").attr("class","bars2Wrap"),H.append("g").attr("class","stack1Wrap"),H.append("g").attr("class","stack2Wrap"),H.append("g").attr("class","legendWrap");var U=z.select("g"),q=c.map(function(t,e){return c[e].color||o(t,e)});l&&(M.color(q),M.width(I/2),U.select(".legendWrap").datum(c.map(function(t){return t.originalKey=t.originalKey===undefined?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(M),
r.top!=M.height()&&(r.top=M.height(),j=(s||parseInt(f.style("height"))||400)-r.top-r.bottom),U.select(".legendWrap").attr("transform","translate("+I/2+","+-r.top+")")),b.width(I).height(j).interpolate(p).color(q.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"line"==c[e].type})),y.width(I).height(j).interpolate(p).color(q.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"line"==c[e].type})),x.width(I).height(j).color(q.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"bar"==c[e].type})),w.width(I).height(j).color(q.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"bar"==c[e].type})),_.width(I).height(j).color(q.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"area"==c[e].type})),C.width(I).height(j).color(q.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"area"==c[e].type})),U.attr("transform","translate("+r.left+","+r.top+")");var W=U.select(".lines1Wrap").datum($.filter(function(t){return!t.disabled})),V=U.select(".bars1Wrap").datum(E.filter(function(t){return!t.disabled})),Y=U.select(".stack1Wrap").datum(P.filter(function(t){return!t.disabled})),X=U.select(".lines2Wrap").datum(F.filter(function(t){return!t.disabled})),G=U.select(".bars2Wrap").datum(O.filter(function(t){return!t.disabled})),Z=U.select(".stack2Wrap").datum(L.filter(function(t){return!t.disabled})),K=P.length?P.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],J=L.length?L.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];m.domain(n||d3.extent(d3.merge(B).concat(K),function(t){return t.y})).range([0,j]),v.domain(i||d3.extent(d3.merge(R).concat(J),function(t){return t.y})).range([0,j]),b.yDomain(m.domain()),x.yDomain(m.domain()),_.yDomain(m.domain()),y.yDomain(v.domain()),w.yDomain(v.domain()),C.yDomain(v.domain()),P.length&&d3.transition(Y).call(_),L.length&&d3.transition(Z).call(C),E.length&&d3.transition(V).call(x),O.length&&d3.transition(G).call(w),$.length&&d3.transition(W).call(b),F.length&&d3.transition(X).call(y),k.ticks(t.utils.calcTicksX(I/100,c)).tickSize(-j,0),U.select(".x.axis").attr("transform","translate(0,"+j+")"),d3.transition(U.select(".x.axis")).call(k),S.ticks(t.utils.calcTicksY(j/36,c)).tickSize(-I,0),d3.transition(U.select(".y1.axis")).call(S),T.ticks(t.utils.calcTicksY(j/36,c)).tickSize(-I,0),d3.transition(U.select(".y2.axis")).call(T),U.select(".y1.axis").classed("nv-disabled",!B.length).attr("transform","translate("+g.range()[0]+",0)"),U.select(".y2.axis").classed("nv-disabled",!R.length).attr("transform","translate("+g.range()[1]+",0)"),M.dispatch.on("stateChange",function(){e.update()}),D.on("tooltipShow",function(t){u&&A(t,h.parentNode)})}),e}var n,i,r={top:30,right:20,bottom:50,left:60},o=t.utils.defaultColor(),a=null,s=null,l=!0,u=!0,c=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},d="No Data Available.",f=function(t){return t.x},h=function(t){return t.y},p="monotone",g=d3.scale.linear(),m=d3.scale.linear(),v=d3.scale.linear(),b=t.models.line().yScale(m),y=t.models.line().yScale(v),x=t.models.multiBar().stacked(!1).yScale(m),w=t.models.multiBar().stacked(!1).yScale(v),_=t.models.stackedArea().yScale(m),C=t.models.stackedArea().yScale(v),k=t.models.axis().scale(g).orient("bottom").tickPadding(5),S=t.models.axis().scale(m).orient("left"),T=t.models.axis().scale(v).orient("right"),M=t.models.legend().height(30),D=d3.dispatch("tooltipShow","tooltipHide"),A=function(n,i){var r=n.pos[0]+(i.offsetLeft||0),o=n.pos[1]+(i.offsetTop||0),a=k.tickFormat()(b.x()(n.point,n.pointIndex)),s=(2==n.series.yAxis?T:S).tickFormat()(b.y()(n.point,n.pointIndex)),l=c(n.series.key,a,s,n,e);t.tooltip.show([r,o],l,undefined,undefined,i.offsetParent)};return b.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),b.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),y.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),y.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),x.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),x.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),w.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),w.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),_.dispatch.on("tooltipShow",function(t){if(!Math.round(100*_.y()(t.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),_.dispatch.on("tooltipHide",function(t){D.tooltipHide(t)}),C.dispatch.on("tooltipShow",function(t){if(!Math.round(100*C.y()(t.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),C.dispatch.on("tooltipHide",function(t){D.tooltipHide(t)}),b.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),b.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),y.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],D.tooltipShow(t)}),y.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),D.on("tooltipHide",function(){u&&t.tooltip.cleanup()}),e.dispatch=D,e.lines1=b,e.lines2=y,e.bars1=x,e.bars2=w,e.stack1=_,e.stack2=C,e.xAxis=k,e.yAxis1=S,e.yAxis2=T,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},yDomain1:{get:function(){return n},set:function(t){n=t}},yDomain2:{get:function(){return i},set:function(t){i=t}},tooltips:{get:function(){return u},set:function(t){u=t}},tooltipContent:{get:function(){return c},set:function(t){c=t}},noData:{get:function(){return d},set:function(t){d=t}},interpolate:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return r},set:function(t){r.top=t.top!==undefined?t.top:r.top,r.right=t.right!==undefined?t.right:r.right,r.bottom=t.bottom!==undefined?t.bottom:r.bottom,r.left=t.left!==undefined?t.left:r.left}},color:{get:function(){return o},set:function(e){o=t.utils.getColor(e)}},x:{get:function(){return f},set:function(t){f=t,b.x(t),x.x(t)}},y:{get:function(){return h},set:function(t){h=t,b.y(t),x.y(t)}}}),t.utils.initOptions(e),e},t.models.ohlcBar=function(){"use strict";function e(C){return C.each(function(e){var C=d3.select(this),S=(s||parseInt(C.style("width"))||960)-a.left-a.right,T=(l||parseInt(C.style("height"))||400)-a.top-a.bottom;t.utils.initSVG(C),c.domain(n||d3.extent(e[0].values.map(f).concat(b))),x?c.range(r||[.5*S/e[0].values.length,S*(e[0].values.length-.5)/e[0].values.length]):c.range(r||[0,S]),d.domain(i||[d3.min(e[0].values.map(v).concat(y)),d3.max(e[0].values.map(m).concat(y))]).range(o||[T,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var M=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([e[0].values]),D=M.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),A=D.append("defs"),I=D.append("g"),j=M.select("g");I.append("g").attr("class","nv-ticks"),M.attr("transform","translate("+a.left+","+a.top+")"),C.on("click",function(t,e){k.chartClick({data:t,index:e,pos:d3.event,id:u})}),A.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),M.select("#nv-chart-clip-path-"+u+" rect").attr("width",S).attr("height",T),j.attr("clip-path",w?"url(#nv-chart-clip-path-"+u+")":"");var $=M.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});$.exit().remove();$.enter().append("path").attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,n){var i=S/e[0].values.length*.9;return"m0,0l0,"+(d(p(t,n))-d(m(t,n)))+"l"+-i/2+",0l"+i/2+",0l0,"+(d(v(t,n))-d(p(t,n)))+"l0,"+(d(g(t,n))-d(v(t,n)))+"l"+i/2+",0l"+-i/2+",0z"}).attr("transform",function(t,e){return"translate("+c(f(t,e))+","+d(m(t,e))+")"}).attr("fill",function(){return _[0]}).attr("stroke",function(){return _[0]}).attr("x",0).attr("y",function(t,e){return d(Math.max(0,h(t,e)))}).attr("height",function(t,e){return Math.abs(d(h(t,e))-d(0))});$.attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition($).attr("transform",function(t,e){return"translate("+c(f(t,e))+","+d(m(t,e))+")"}).attr("d",function(t,n){var i=S/e[0].values.length*.9;return"m0,0l0,"+(d(p(t,n))-d(m(t,n)))+"l"+-i/2+",0l"+i/2+",0l0,"+(d(v(t,n))-d(p(t,n)))+"l0,"+(d(g(t,n))-d(v(t,n)))+"l"+i/2+",0l"+-i/2+",0z"})}),e}var n,i,r,o,a={top:0,right:0,bottom:0,left:0},s=null,l=null,u=Math.floor(1e4*Math.random()),c=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},h=function(t){return t.y},p=function(t){return t.open},g=function(t){return t.close},m=function(t){return t.high},v=function(t){return t.low},b=[],y=[],x=!1,w=!0,_=t.utils.defaultColor(),C=!1,k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return e.highlightPoint=function(t,n){e.clearHighlights(),d3.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",n)},e.clearHighlights=function(){d3.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},e.dispatch=k,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceX:{get:function(){return b},set:function(t){b=t}},forceY:{get:function(){return y},set:function(t){y=t}},padData:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return w},set:function(t){w=t}},id:{get:function(){return u},set:function(t){u=t}},interactive:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return h},set:function(t){h=t}},open:{get:function(){return p()},set:function(t){p=t}},close:{get:function(){return g()},set:function(t){g=t}},high:{get:function(){return m},set:function(t){m=t}},low:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return a},set:function(t){a.top=t.top!=undefined?t.top:a.top,a.right=t.right!=undefined?t.right:a.right,a.bottom=t.bottom!=undefined?t.bottom:a.bottom,a.left=t.left!=undefined?t.left:a.left}},color:{get:function(){return _},set:function(e){_=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.parallelCoordinates=function(){"use strict";function e(f){return f.each(function(f){function h(t){return _(s.map(function(e){return[o(e),a[e](t[e])]}))}function p(){var t=s.filter(function(t){return!a[t].brush.empty()}),e=t.map(function(t){return a[t].brush.extent()});u=[],t.forEach(function(t,n){u[n]={dimension:t,extent:e[n]}}),c=[],w.style("display",function(n){var i=t.every(function(t,i){return e[i][0]<=n[t]&&n[t]<=e[i][1]});return i&&c.push(n),i?null:"none"}),d.brush({filters:u,active:c})}var g=d3.select(this),m=(i||parseInt(g.style("width"))||960)-n.left-n.right,v=(r||parseInt(g.style("height"))||400)-n.top-n.bottom;t.utils.initSVG(g),c=f,e.update=function(){},o.rangePoints([0,m],1).domain(s),s.forEach(function(t){return a[t]=d3.scale.linear().domain(d3.extent(f,function(e){return+e[t]})).range([v,0]),a[t].brush=d3.svg.brush().y(a[t]).on("brush",p),"name"!=t});var b=g.selectAll("g.nv-wrap.nv-parallelCoordinates").data([f]),y=b.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),x=b.select("g");y.append("g").attr("class","nv-parallelCoordinatesWrap"),b.attr("transform","translate("+n.left+","+n.top+")");var w,_=d3.svg.line(),C=d3.svg.axis().orient("left");y.append("g").attr("class","background").selectAll("path").data(f).enter().append("path").attr("d",h),w=y.append("g").attr("class","foreground").selectAll("path").data(f).enter().append("path").attr("d",h).attr("stroke",l);var k=x.selectAll(".dimension").data(s).enter().append("g").attr("class","dimension").attr("transform",function(t){return"translate("+o(t)+",0)"});k.append("g").attr("class","axis").each(function(t){d3.select(this).call(C.scale(a[t]))}).append("text").attr("text-anchor","middle").attr("y",-9).text(String),k.append("g").attr("class","brush").each(function(t){d3.select(this).call(a[t].brush)}).selectAll("rect").attr("x",-8).attr("width",16)}),e}var n={top:30,right:10,bottom:10,left:10},i=null,r=null,o=d3.scale.ordinal(),a={},s=[],l=t.utils.defaultColor(),u=[],c=[],d=d3.dispatch("brush");return e.dispatch=d,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return i},set:function(t){i=t}},height:{get:function(){return r},set:function(t){r=t}},dimensions:{get:function(){return s},set:function(t){s=t}},margin:{get:function(){return n},set:function(t){n.top="undefined"!=typeof t.top?t.top:n.top,n.right="undefined"!=typeof t.right?t.right:n.right,n.bottom="undefined"!=typeof t.bottom?t.bottom:n.bottom,n.left="undefined"!=typeof t.left?t.left:n.left}},color:{get:function(){return l},set:function(e){l=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.pie=function(){"use strict";function e(u){return D.reset(),u.each(function(e){function u(t){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,v||(t.innerRadius=0);var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return N(e(t))}}var A=i-n.left-n.right,I=r-n.top-n.bottom,j=Math.min(A,I)/2,$=j-j/5,F=d3.select(this);t.utils.initSVG(F);var E=F.selectAll(".nv-wrap.nv-pie").data(e),O=E.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+s).append("g"),P=E.select("g"),L=O.append("g").attr("class","nv-pie");O.append("g").attr("class","nv-pieLabels"),E.attr("transform","translate("+n.left+","+n.top+")"),P.select(".nv-pie").attr("transform","translate("+A/2+","+I/2+")"),P.select(".nv-pieLabels").attr("transform","translate("+A/2+","+I/2+")"),F.on("click",function(t,e){M.chartClick({data:t,index:e,pos:d3.event,id:s})});var N=d3.svg.arc().outerRadius($),B=d3.svg.arc().outerRadius($+5);_&&(N.startAngle(_),B.startAngle(_)),k&&(N.endAngle(k),B.endAngle(k)),v&&(N.innerRadius(j*T),B.innerRadius(j*T));var R=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:a(t)});(R.padAngle&&C&&R.padAngle(C),N.cornerRadius&&S&&(N.cornerRadius(S),B.cornerRadius(S)),v&&b)&&L.append("g").attr("class","nv-pie").append("text").style("text-anchor","middle").attr("class","nv-pie-title").text(function(){return b}).attr("dy","0.35em").attr("transform",function(){return"translate(0, "+x+")"});var z=E.select(".nv-pie").selectAll(".nv-slice").data(R),H=E.select(".nv-pieLabels").selectAll(".nv-label").data(R);z.exit().remove(),H.exit().remove();var U=z.enter().append("g");U.attr("class","nv-slice"),U.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),y&&d3.select(this).select("path").transition().duration(70).attr("d",B),M.elementMouseover({label:o(t.data),value:a(t.data),point:t.data,pointIndex:e,pos:[d3.event.pageX,d3.event.pageY],id:s,color:d3.select(this).style("fill")})}),U.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),y&&d3.select(this).select("path").transition().duration(50).attr("d",N),M.elementMouseout({label:o(t.data),value:a(t.data),point:t.data,index:e,id:s})}),z.attr("fill",function(t,e){return l(t,e)}),z.attr("stroke",function(t,e){return l(t,e)});var q=U.append("path").each(function(t){this._current=t});if(q.on("click",function(t,e){M.elementClick({label:o(t.data),value:a(t.data),point:t.data,index:e,pos:d3.event,id:s}),d3.event.stopPropagation()}),q.on("dblclick",function(t,e){M.elementDblClick({label:o(t.data),value:a(t.data),point:t.data,index:e,pos:d3.event,id:s}),d3.event.stopPropagation()}),z.select("path").transition().attr("d",N).attrTween("d",u),f){var W=d3.svg.arc().innerRadius(0);if(h)W=N;p&&(W=d3.svg.arc().outerRadius(N.outerRadius())),H.enter().append("g").classed("nv-label",!0).each(function(t){var e=d3.select(this);e.attr("transform",function(t){if(w){t.outerRadius=$+10,t.innerRadius=$+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+W.centroid(t)+") rotate("+e+")"}return t.outerRadius=j+10,t.innerRadius=j+15,"translate("+W.centroid(t)+")"}),e.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),e.append("text").style("text-anchor",w?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var V={},Y=14,X=140,G=function(t){return Math.floor(t[0]/X)*X+","+Math.floor(t[1]/Y)*Y};H.watchTransition(D,"pie labels").attr("transform",function(t){if(w){t.outerRadius=$+10,t.innerRadius=$+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+W.centroid(t)+") rotate("+e+")"}t.outerRadius=j+10,t.innerRadius=j+15;var n=W.centroid(t);if(t.value){var i=G(n);V[i]&&(n[1]-=Y),V[G(n)]=!0}return"translate("+n+")"}),H.select(".nv-label text").style("text-anchor",w?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(t){var e=(t.endAngle-t.startAngle)/(2*Math.PI),n={key:o(t.data),value:a(t.data),percent:c(e)};return t.value&&e>m?n[g]:""})}}),D.renderEnd("pie immediate"),e}var n={top:0,right:0,bottom:0,left:0},i=500,r=500,o=function(t){return t.x},a=function(t){return t.y},s=Math.floor(1e4*Math.random()),l=t.utils.defaultColor(),u=d3.format(",.2f"),c=d3.format("%"),f=!0,h=!0,p=!1,g="key",m=.02,v=!1,b=!1,y=!0,x=0,w=!1,_=!1,C=!1,k=!1,S=0,T=.5,M=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),D=t.utils.renderWatch(M);return e.dispatch=M,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return i},set:function(t){i=t}},height:{get:function(){return r},set:function(t){r=t}},showLabels:{get:function(){return f},set:function(t){f=t}},title:{get:function(){return b},set:function(t){b=t}},titleOffset:{get:function(){return x},set:function(t){x=t}},labelThreshold:{get:function(){return m},set:function(t){m=t}},labelFormat:{get:function(){return c},set:function(t){c=t}},valueFormat:{get:function(){return u},set:function(t){u=t}},x:{get:function(){return o},set:function(t){o=t}},id:{get:function(){return s},set:function(t){s=t}},endAngle:{get:function(){return k},set:function(t){k=t}},startAngle:{get:function(){return _},set:function(t){_=t}},padAngle:{get:function(){return C},set:function(t){C=t}},cornerRadius:{get:function(){return S},set:function(t){S=t}},donutRatio:{get:function(){return T},set:function(t){T=t}},pieLabelsOutside:{get:function(){return h},set:function(t){h=t}},donutLabelsOutside:{get:function(){return p},set:function(t){p=t}},labelSunbeamLayout:{get:function(){return w},set:function(t){w=t}},donut:{get:function(){return v},set:function(t){v=t}},growOnHover:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return n},set:function(t){n.top="undefined"!=typeof t.top?t.top:n.top,n.right="undefined"!=typeof t.right?t.right:n.right,n.bottom="undefined"!=typeof t.bottom?t.bottom:n.bottom,n.left="undefined"!=typeof t.left?t.left:n.left}},y:{get:function(){return a},set:function(t){a=d3.functor(t)}},color:{get:function(){return l},set:function(e){l=t.utils.getColor(e)}},labelType:{get:function(){return g},set:function(t){g=t||"key"}}}),t.utils.initOptions(e),e},t.models.pieChart=function(){"use strict";function e(l){return v.reset(),v.models(n),l.each(function(l){var u=d3.select(this);t.utils.initSVG(u);var c,p=(o||parseInt(u.style("width"),10)||960)-r.left-r.right,m=(a||parseInt(u.style("height"),10)||400)-r.top-r.bottom;if(e.update=function(){u.transition().call(e)},e.container=this,d.setter(y(l),e.update).getter(b(l)).update(),d.disabled=l.map(function(t){return!!t.disabled}),!f)for(c in f={},d)d[c]instanceof Array?f[c]=d[c].slice(0):f[c]=d[c];if(!l||!l.length){var v=u.selectAll(".nv-noData").data([h]);return v.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),v.attr("x",r.left+p/2).attr("y",r.top+m/2).text(function(t){return t}),e}u.selectAll(".nv-noData").remove();var x=u.selectAll("g.nv-wrap.nv-pieChart").data([l]),w=x.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),_=x.select("g");w.append("g").attr("class","nv-pieWrap"),w.append("g").attr("class","nv-legendWrap"),s&&(i.width(p).key(n.x()),x.select(".nv-legendWrap").datum(l).call(i),r.top!=i.height()&&(r.top=i.height(),m=(a||parseInt(u.style("height"))||400)-r.top-r.bottom),x.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")")),x.attr("transform","translate("+r.left+","+r.top+")"),n.width(p).height(m);var C=_.select(".nv-pieWrap").datum([l]);d3.transition(C).call(n),i.dispatch.on("stateChange",function(t){for(var n in t)d[n]=t[n];g.stateChange(d),e.update()}),n.dispatch.on("elementMouseout.tooltip",function(t){g.tooltipHide(t)}),g.on("changeState",function(t){"undefined"!=typeof t.disabled&&(l.forEach(function(e,n){e.disabled=t.disabled[n]}),d.disabled=t.disabled),e.update()})}),v.renderEnd("pieChart immediate"),e}var n=t.models.pie(),i=t.models.legend(),r={top:30,right:20,bottom:20,left:20},o=null,a=null,s=!0,l=t.utils.defaultColor(),u=!0,c=function(t,e,n){return'<h3 style="background-color: '+n.color+'">'+t+"</h3><p>"+e+"</p>"},d=t.utils.state(),f=null,h="No Data Available.",p=250,g=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),m=function(i,r){var o=n.x()(i.point),a=i.pos[0]+(r&&r.offsetLeft||0),s=i.pos[1]+(r&&r.offsetTop||0),l=n.valueFormat()(n.y()(i.point)),u=c(o,l,i,e);t.tooltip.show([a,s],u,i.value<0?"n":"s",null,r)},v=t.utils.renderWatch(g),b=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},y=function(t){return function(e){e.active!==undefined&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return n.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],g.tooltipShow(t)}),g.on("tooltipShow",function(t){u&&m(t)}),g.on("tooltipHide",function(){u&&t.tooltip.cleanup()}),e.legend=i,e.dispatch=g,e.pie=n,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{noData:{get:function(){return h},set:function(t){h=t}},tooltipContent:{get:function(){return c},set:function(t){c=t}},tooltips:{get:function(){return u},set:function(t){u=t}},showLegend:{get:function(){return s},set:function(t){s=t}},defaultState:{get:function(){return f},set:function(t){f=t}},color:{get:function(){return l},set:function(t){l=t,i.color(l),n.color(l)}},duration:{get:function(){return p},set:function(t){p=t,v.reset(p)}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.scatter=function(){"use strict";function e(L){return B.reset(),L.each(function(e){function L(){if(!w)return!1;var t=d3.merge(e.map(function(t,e){return t.values.map(function(t,n){var i=p(t,n),r=g(t,n);return[d(i)+1e-7*Math.random(),f(r)+1e-7*Math.random(),e,n,t]}).filter(function(t,e){return _(t[4],e)})}));if(!0===P){t.length<3&&(t.push([d.range()[0]-20,f.range()[0]-20,null,null]),t.push([d.range()[1]+20,f.range()[1]+20,null,null]),t.push([d.range()[0]-20,f.range()[0]+20,null,null]),t.push([d.range()[1]+20,f.range()[1]-20,null,null]));var n=d3.geom.polygon([[-10,-10],[-10,l+10],[s+10,l+10],[s+10,-10]]),i=d3.geom.voronoi(t).map(function(e,i){return{data:n.clip(e),series:t[i][2],point:t[i][3]}});q.select(".nv-point-paths").selectAll("path").remove();var r=q.select(".nv-point-paths").selectAll("path").data(i);if(r.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+e+")"}),T)q.append("svg:g").attr("id","nv-point-clips").selectAll("clipPath").data(t).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",M);var o=function(t,n){if(N)return 0;var i=e[t.series];if(void 0!==i){var r=i.values[t.point];n({point:r,series:i,pos:[d(p(r,t.point))+a.left,f(g(r,t.point))+a.top],seriesIndex:t.series,pointIndex:t.point})}};r.on("click",function(t){o(t,O.elementClick)}).on("dblclick",function(t){o(t,O.elementDblClick)}).on("mouseover",function(t){o(t,O.elementMouseover)}).on("mouseout",function(t){o(t,O.elementMouseout)})}else q.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,n){if(N||!e[t.series])return 0;var i=e[t.series],r=i.values[n];O.elementClick({point:r,series:i,pos:[d(p(r,n))+a.left,f(g(r,n))+a.top],seriesIndex:t.series,pointIndex:n})}).on("mouseover",function(t,n){if(N||!e[t.series])return 0;var i=e[t.series],r=i.values[n];O.elementMouseover({point:r,series:i,pos:[d(p(r,n))+a.left,f(g(r,n))+a.top],seriesIndex:t.series,pointIndex:n})}).on("mouseout",function(t,n){if(N||!e[t.series])return 0;var i=e[t.series],r=i.values[n];O.elementMouseout({point:r,series:i,seriesIndex:t.series,pointIndex:n})});N=!1}var R=d3.select(this),z=(s||parseInt(R.style("width"))||960)-a.left-a.right,H=(l||parseInt(R.style("height"))||400)-a.top-a.bottom;t.utils.initSVG(R),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var U=D&&A&&$?[]:d3.merge(e.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:g(t,e),size:m(t,e)}})}));d.domain(D||d3.extent(U.map(function(t){return t.x}).concat(b))),C&&e[0]?d.range(I||[(z*k+z)/(2*e[0].values.length),z-z*(1+k)/(2*e[0].values.length)]):d.range(I||[0,z]),f.domain(A||d3.extent(U.map(function(t){return t.y}).concat(y))).range(j||[H,0]),h.domain($||d3.extent(U.map(function(t){return t.size}).concat(x))).range(F||[16,256]),d.domain()[0]!==d.domain()[1]&&f.domain()[0]!==f.domain()[1]||(E=!0),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),isNaN(d.domain()[0])&&d.domain([-1,1]),isNaN(f.domain()[0])&&f.domain([-1,1]),n=n||d,i=i||f,r=r||h;var q=R.selectAll("g.nv-wrap.nv-scatter").data([e]),W=q.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+c+(E?" nv-single-point":"")),V=W.append("defs"),Y=W.append("g"),X=q.select("g");Y.append("g").attr("class","nv-groups"),Y.append("g").attr("class","nv-point-paths"),q.attr("transform","translate("+a.left+","+a.top+")"),V.append("clipPath").attr("id","nv-edge-clip-"+c).append("rect"),q.select("#nv-edge-clip-"+c+" rect").attr("width",z).attr("height",H>0?H:0),X.attr("clip-path",S?"url(#nv-edge-clip-"+c+")":""),N=!0;var G=q.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});G.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),G.exit().remove(),G.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),G.watchTransition(B,"scatter: groups").style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var Z=G.selectAll("path.nv-point").data(function(t){return t.values});Z.enter().append("path").style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(t,e){return"translate("+n(p(t,e))+","+i(g(t,e))+")"}).attr("d",t.utils.symbol().type(v).size(function(t,e){return h(m(t,e))})),Z.exit().remove(),G.exit().selectAll("path.nv-point").watchTransition(B,"scatter exit").attr("transform",function(t,e){return"translate("+d(p(t,e))+","+f(g(t,e))+")"}).remove(),Z.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),Z.watchTransition(B,"scatter points").attr("transform",function(t,e){return"translate("+d(p(t,e))+","+f(g(t,e))+")"}).attr("d",t.utils.symbol().type(v).size(function(t,e){return h(m(t,e))})),clearTimeout(o),o=setTimeout(L,300),n=d.copy(),i=f.copy(),r=h.copy()}),B.renderEnd("scatter immediate"),e}var n,i,r,o,a={top:0,right:0,bottom:0,left:0},s=null,l=null,u=t.utils.defaultColor(),c=Math.floor(1e5*Math.random()),d=d3.scale.linear(),f=d3.scale.linear(),h=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},m=function(t){return t.size||1},v=function(t){return t.shape||"circle"},b=[],y=[],x=[],w=!0,_=function(t){return!t.notActive},C=!1,k=.1,S=!1,T=!0,M=function(){return 25},D=null,A=null,I=null,j=null,$=null,F=null,E=!1,O=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),P=!0,L=250,N=!1,B=t.utils.renderWatch(O,L);return e.dispatch=O,e.options=t.utils.optionsFunc.bind(e),e._calls=new function(){this.clearHighlights=function(){return d3.selectAll(".nv-chart-"+c+" .nv-point.hover").classed("hover",!1),null},this.highlightPoint=function(t,e,n){d3.select(".nv-chart-"+c+" .nv-series-"+t+" .nv-point-"+e).classed("hover",n)}},O.on("elementMouseover.point",function(t){w&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),O.on("elementMouseout.point",function(t){w&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},pointScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return D},set:function(t){D=t}},yDomain:{get:function(){return A},set:function(t){A=t}},pointDomain:{get:function(){return $},set:function(t){$=t}},xRange:{get:function(){return I},set:function(t){I=t}},yRange:{get:function(){return j},set:function(t){j=t}},pointRange:{get:function(){return F},set:function(t){F=t}},forceX:{get:function(){return b},set:function(t){b=t}},forceY:{get:function(){return y},set:function(t){y=t}},forcePoint:{get:function(){return x},set:function(t){x=t}},interactive:{get:function(){return w},set:function(t){w=t}},pointActive:{get:function(){return _},set:function(t){_=t}},padDataOuter:{get:function(){return k},set:function(t){k=t}},padData:{get:function(){return C},set:function(t){C=t}},clipEdge:{get:function(){return S},set:function(t){S=t}},clipVoronoi:{get:function(){return T},set:function(t){T=t}},clipRadius:{get:function(){return M},set:function(t){M=t}},id:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return p},set:function(t){p=d3.functor(t)}},y:{get:function(){return g},set:function(t){g=d3.functor(t)}},pointSize:{get:function(){return m},set:function(t){m=d3.functor(t)}},pointShape:{get:function(){return v},set:function(t){v=d3.functor(t)}},margin:{get:function(){return a},set:function(t){a.top=t.top!==undefined?t.top:a.top,a.right=t.right!==undefined?t.right:a.right,a.bottom=t.bottom!==undefined?t.bottom:a.bottom,a.left=t.left!==undefined?t.left:a.left}},duration:{get:function(){return L},set:function(t){L=t,B.reset(L)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e)}},useVoronoi:{get:function(){return P},set:function(t){!1===(P=t)&&(T=!1)}}}),t.utils.initOptions(e),e},t.models.scatterChart=function(){"use strict";function e(w){return A.reset(),A.models(n),v&&A.models(i),b&&A.models(r),p&&A.models(a),g&&A.models(s),w.each(function(w){var _=d3.select(this),C=this;t.utils.initSVG(_);var F,E=(u||parseInt(_.style("width"))||960)-l.left-l.right,O=(c||parseInt(_.style("height"))||400)-l.top-l.bottom;if(e.update=function(){0===D?_.call(e):_.transition().duration(D).call(e)},e.container=this,k.setter($(w),e.update).getter(j(w)).update(),k.disabled=w.map(function(t){return!!t.disabled}),!S)for(F in S={},k)k[F]instanceof Array?S[F]=k[F].slice(0):S[F]=k[F];if(!(w&&w.length&&w.filter(function(t){
return t.values.length}).length)){var P=_.selectAll(".nv-noData").data([M]);return P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),P.attr("x",l.left+E/2).attr("y",l.top+O/2).text(function(t){return t}),A.renderEnd("scatter immediate"),e}_.selectAll(".nv-noData").remove(),f=n.xScale(),h=n.yScale();var L=_.selectAll("g.nv-wrap.nv-scatterChart").data([w]),N=L.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()).append("g"),B=L.select("g");N.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-scatterWrap"),N.append("g").attr("class","nv-regressionLinesWrap"),N.append("g").attr("class","nv-distWrap"),N.append("g").attr("class","nv-legendWrap"),L.attr("transform","translate("+l.left+","+l.top+")"),y&&B.select(".nv-y.nv-axis").attr("transform","translate("+E+",0)"),m&&(o.width(E/2),L.select(".nv-legendWrap").datum(w).call(o),l.top!=o.height()&&(l.top=o.height(),O=(c||parseInt(_.style("height"))||400)-l.top-l.bottom),L.select(".nv-legendWrap").attr("transform","translate("+E/2+","+-l.top+")")),n.width(E).height(O).color(w.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!w[e].disabled})),L.select(".nv-scatterWrap").datum(w.filter(function(t){return!t.disabled})).call(n),L.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+n.id()+")");var R=L.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});R.enter().append("g").attr("class","nv-regLines");var z=R.selectAll(".nv-regLine").data(function(t){return[t]});z.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),z.filter(function(t){return t.intercept&&t.slope}).watchTransition(A,"scatterPlusLineChart: regline").attr("x1",f.range()[0]).attr("x2",f.range()[1]).attr("y1",function(t){return h(f.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t){return h(f.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return d(t,n)}).style("stroke-opacity",function(t){return t.disabled||"undefined"==typeof t.slope||"undefined"==typeof t.intercept?0:1}),v&&(i.scale(f).ticks(i.ticks()?i.ticks():t.utils.calcTicksX(E/100,w)).tickSize(-O,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")").call(i)),b&&(r.scale(h).ticks(r.ticks()?r.ticks():t.utils.calcTicksY(O/36,w)).tickSize(-E,0),B.select(".nv-y.nv-axis").call(r)),p&&(a.getData(n.x()).scale(f).width(E).color(w.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!w[e].disabled})),N.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),B.select(".nv-distributionX").attr("transform","translate(0,"+h.range()[0]+")").datum(w.filter(function(t){return!t.disabled})).call(a)),g&&(s.getData(n.y()).scale(h).width(O).color(w.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!w[e].disabled})),N.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),B.select(".nv-distributionY").attr("transform","translate("+(y?E:-s.size())+",0)").datum(w.filter(function(t){return!t.disabled})).call(s)),o.dispatch.on("stateChange",function(t){for(var n in t)k[n]=t[n];T.stateChange(k),e.update()}),n.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.pos[1]-O),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+a.size()),t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],T.tooltipShow(t)}),T.on("tooltipShow",function(t){x&&I(t,C.parentNode)}),T.on("changeState",function(t){"undefined"!=typeof t.disabled&&(w.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),e.update()}),f.copy(),h.copy()}),A.renderEnd("scatter with line immediate"),e}var n=t.models.scatter(),i=t.models.axis(),r=t.models.axis(),o=t.models.legend(),a=t.models.distribution(),s=t.models.distribution(),l={top:30,right:20,bottom:50,left:75},u=null,c=null,d=t.utils.defaultColor(),f=n.xScale(),h=n.yScale(),p=!1,g=!1,m=!0,v=!0,b=!0,y=!1,x=!0,w=function(t,e){return"<strong>"+e+"</strong>"},_=function(t,e,n){return"<strong>"+n+"</strong>"},C=function(t,e,n,i){return"<h3>"+t+"</h3><p>"+i+"</p>"},k=t.utils.state(),S=null,T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),M="No Data Available.",D=250;n.xScale(f).yScale(h),i.orient("bottom").tickPadding(10),r.orient(y?"right":"left").tickPadding(10),a.axis("x"),s.axis("y");var A=t.utils.renderWatch(T,D),I=function(o,a){var s=o.pos[0]+(a.offsetLeft||0),u=o.pos[1]+(a.offsetTop||0),c=o.pos[0]+(a.offsetLeft||0),d=h.range()[0]+l.top+(a.offsetTop||0),p=f.range()[0]+l.left+(a.offsetLeft||0),g=o.pos[1]+(a.offsetTop||0),m=i.tickFormat()(n.x()(o.point,o.pointIndex)),v=r.tickFormat()(n.y()(o.point,o.pointIndex));null!=w&&t.tooltip.show([c,d],w(o.series.key,m,v,o,e),"n",1,a,"x-nvtooltip"),null!=_&&t.tooltip.show([p,g],_(o.series.key,m,v,o,e),"e",1,a,"y-nvtooltip"),null!=C&&t.tooltip.show([s,u],C(o.series.key,m,v,o.point.tooltip,o,e),o.value<0?"n":"s",null,a)},j=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},$=function(t){return function(e){e.active!==undefined&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return n.dispatch.on("elementMouseout.tooltip",function(t){T.tooltipHide(t),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",s.size())}),T.on("tooltipHide",function(){x&&t.tooltip.cleanup()}),e.dispatch=T,e.scatter=n,e.legend=o,e.xAxis=i,e.yAxis=r,e.distX=a,e.distY=s,e._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},showDistX:{get:function(){return p},set:function(t){p=t}},showDistY:{get:function(){return g},set:function(t){g=t}},showLegend:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},tooltips:{get:function(){return x},set:function(t){x=t}},tooltipContent:{get:function(){return C},set:function(t){C=t}},tooltipXContent:{get:function(){return w},set:function(t){w=t}},tooltipYContent:{get:function(){return _},set:function(t){_=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return M},set:function(t){M=t}},duration:{get:function(){return D},set:function(t){D=t}},margin:{get:function(){return l},set:function(t){l.top=t.top!==undefined?t.top:l.top,l.right=t.right!==undefined?t.right:l.right,l.bottom=t.bottom!==undefined?t.bottom:l.bottom,l.left=t.left!==undefined?t.left:l.left}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,r.orient(t?"right":"left")}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),o.color(d),a.color(d),s.color(d)}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.sparkline=function(){"use strict";function e(u){return u.each(function(e){var u=s-a.left-a.right,g=l-a.top-a.bottom,m=d3.select(this);t.utils.initSVG(m),c.domain(n||d3.extent(e,f)).range(r||[0,u]),d.domain(i||d3.extent(e,h)).range(o||[g,0]);var v=m.selectAll("g.nv-wrap.nv-sparkline").data([e]);v.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),v.select("g");v.attr("transform","translate("+a.left+","+a.top+")");var b=v.selectAll("path").data(function(t){return[t]});b.enter().append("path"),b.exit().remove(),b.style("stroke",function(t,e){return t.color||p(t,e)}).attr("d",d3.svg.line().x(function(t,e){return c(f(t,e))}).y(function(t,e){return d(h(t,e))}));var y=v.selectAll("circle.nv-point").data(function(t){function e(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var n=t.map(function(t,e){return h(t,e)}),i=e(n.lastIndexOf(d.domain()[1]));return[e(n.indexOf(d.domain()[0])),i,e(n.length-1)].filter(function(t){return null!=t})});y.enter().append("circle"),y.exit().remove(),y.attr("cx",function(t){return c(f(t,t.pointIndex))}).attr("cy",function(t){return d(h(t,t.pointIndex))}).attr("r",2).attr("class",function(t){return f(t,t.pointIndex)==c.domain()[1]?"nv-point nv-currentValue":h(t,t.pointIndex)==d.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),e}var n,i,r,o,a={top:2,right:0,bottom:2,left:0},s=400,l=32,u=!0,c=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},h=function(t){return t.y},p=t.utils.getColor(["#000"]);return e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return o},set:function(t){o=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},animate:{get:function(){return u},set:function(t){u=t}},x:{get:function(){return f},set:function(t){f=d3.functor(t)}},y:{get:function(){return h},set:function(t){h=d3.functor(t)}},margin:{get:function(){return a},set:function(t){a.top=t.top!==undefined?t.top:a.top,a.right=t.right!==undefined?t.right:a.right,a.bottom=t.bottom!==undefined?t.bottom:a.bottom,a.left=t.left!==undefined?t.left:a.left}},color:{get:function(){return p},set:function(e){p=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.sparklinePlus=function(){"use strict";function e(f){return f.each(function(m){function v(){if(!u){var t=T.selectAll(".nv-hoverValue").data(l),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+n(r.x()(m[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),l.length&&(e.append("line").attr("x1",0).attr("y1",-o.top).attr("x2",0).attr("y2",w),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-o.top).attr("text-anchor","end").attr("dy",".9em"),T.select(".nv-hoverValue .nv-xValue").text(c(r.x()(m[l[0]],l[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-o.top).attr("text-anchor","start").attr("dy",".9em"),T.select(".nv-hoverValue .nv-yValue").text(d(r.y()(m[l[0]],l[0]))))}}function b(){function t(t,e){for(var n=Math.abs(r.x()(t[0],0)-e),i=0,o=0;o<t.length;o++)Math.abs(r.x()(t[o],o)-e)<n&&(n=Math.abs(r.x()(t[o],o)-e),i=o);return i}if(!u){var e=d3.mouse(this)[0]-o.left;l=[t(m,Math.round(n.invert(e)))],v()}}var y=d3.select(this);t.utils.initSVG(y);var x=(a||parseInt(y.style("width"))||960)-o.left-o.right,w=(s||parseInt(y.style("height"))||400)-o.top-o.bottom;if(e.update=function(){e(f)},e.container=this,!m||!m.length){var _=y.selectAll(".nv-noData").data([g]);return _.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),_.attr("x",o.left+x/2).attr("y",o.top+w/2).text(function(t){return t}),e}y.selectAll(".nv-noData").remove();var C=r.y()(m[m.length-1],m.length-1);n=r.xScale(),i=r.yScale();var k=y.selectAll("g.nv-wrap.nv-sparklineplus").data([m]),S=k.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),T=k.select("g");S.append("g").attr("class","nv-sparklineWrap"),S.append("g").attr("class","nv-valueWrap"),S.append("g").attr("class","nv-hoverArea"),k.attr("transform","translate("+o.left+","+o.top+")");var M=T.select(".nv-sparklineWrap");r.width(x).height(w),M.call(r);var D=T.select(".nv-valueWrap").selectAll(".nv-currentValue").data([C]);D.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),D.attr("x",x+(p?o.right:0)).attr("y",h?function(t){return i(t)}:0).style("fill",r.color()(m[m.length-1],m.length-1)).text(d(C)),S.select(".nv-hoverArea").append("rect").on("mousemove",b).on("click",function(){u=!u}).on("mouseout",function(){l=[],v()}),T.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-o.left+","+-o.top+")"}).attr("width",x+o.left+o.right).attr("height",w+o.top)}),e}var n,i,r=t.models.sparkline(),o={top:15,right:100,bottom:10,left:50},a=null,s=null,l=[],u=!1,c=d3.format(",r"),d=d3.format(",.2f"),f=!0,h=!0,p=!1,g="No Data Available.";return e.sparkline=r,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},xTickFormat:{get:function(){return c},set:function(t){c=t}},yTickFormat:{get:function(){return d},set:function(t){d=t}},showValue:{get:function(){return f},set:function(t){f=t}},alignValue:{get:function(){return h},set:function(t){h=t}},rightAlignValue:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return o},set:function(t){o.top=t.top!==undefined?t.top:o.top,o.right=t.right!==undefined?t.right:o.right,o.bottom=t.bottom!==undefined?t.bottom:o.bottom,o.left=t.left!==undefined?t.left:o.left}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.models.stackedArea=function(){"use strict";function e(d){return y.reset(),y.models(m),d.each(function(d){var v=o-r.left-r.right,x=a-r.top-r.bottom,w=d3.select(this);t.utils.initSVG(w),n=m.xScale(),i=m.yScale();var _=d;d.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var C=d.filter(function(t){return!t.disabled});d=d3.layout.stack().order(h).offset(f).values(function(t){return t.values}).x(u).y(c).out(function(t,e,n){var i=0===c(t)?0:n;t.display={y:i,y0:e}})(C);var k=w.selectAll("g.nv-wrap.nv-stackedarea").data([d]),S=k.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),T=S.append("defs"),M=S.append("g"),D=k.select("g");M.append("g").attr("class","nv-areaWrap"),M.append("g").attr("class","nv-scatterWrap"),k.attr("transform","translate("+r.left+","+r.top+")"),m.width(v).height(x).x(u).y(function(t){return t.display.y+t.display.y0}).forceY([0]).color(d.map(function(t){return t.color||s(t,t.seriesIndex)})),D.select(".nv-scatterWrap").datum(d).call(m),T.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect"),k.select("#nv-edge-clip-"+l+" rect").attr("width",v).attr("height",x),D.attr("clip-path",g?"url(#nv-edge-clip-"+l+")":"");var A=d3.svg.area().x(function(t,e){return n(u(t,e))}).y0(function(t){return i(t.display.y0)}).y1(function(t){return i(t.display.y+t.display.y0)}).interpolate(p),I=d3.svg.area().x(function(t,e){return n(u(t,e))}).y0(function(t){return i(t.display.y0)}).y1(function(t){return i(t.display.y0)}),j=D.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});j.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t){return I(t.values,t.seriesIndex)}).on("mouseover",function(t){d3.select(this).classed("hover",!0),b.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t){d3.select(this).classed("hover",!1),b.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t){d3.select(this).classed("hover",!1),b.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),j.exit().remove(),j.style("fill",function(t){return t.color||s(t,t.seriesIndex)}).style("stroke",function(t){return t.color||s(t,t.seriesIndex)}),j.watchTransition(y,"stackedArea path").attr("d",function(t,e){return A(t.values,e)}),m.dispatch.on("elementMouseover.area",function(t){D.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),m.dispatch.on("elementMouseout.area",function(t){D.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),e.d3_stackedOffset_stackPercent=function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(e=0,i=0;e<_.length;e++)i+=c(_[e].values[n]);if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s}}),y.renderEnd("stackedArea immediate"),e}var n,i,r={top:0,right:0,bottom:0,left:0},o=960,a=500,s=t.utils.defaultColor(),l=Math.floor(1e5*Math.random()),u=function(t){return t.x},c=function(t){return t.y},d="stack",f="zero",h="default",p="linear",g=!1,m=t.models.scatter(),v=250,b=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout","renderEnd");m.interactive(!1),m.pointSize(2.2).pointDomain([2.2,2.2]);var y=t.utils.renderWatch(b,v);return m.dispatch.on("elementClick.area",function(t){b.areaClick(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],b.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){b.tooltipHide(t)}),e.dispatch=b,e.scatter=m,e.interpolate=function(t){return arguments.length?(p=t,e):p},e.duration=function(t){return arguments.length?(v=t,y.reset(v),m.duration(v),e):v},e.dispatch=b,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},clipEdge:{get:function(){return g},set:function(t){g=t}},offset:{get:function(){return f},set:function(t){f=t}},order:{get:function(){return h},set:function(t){h=t}},interpolate:{get:function(){return p},set:function(t){p=t}},x:{get:function(){return u},set:function(t){u=d3.functor(t)}},y:{get:function(){return c},set:function(t){c=d3.functor(t)}},margin:{get:function(){return r},set:function(t){r.top=t.top!==undefined?t.top:r.top,r.right=t.right!==undefined?t.right:r.right,r.bottom=t.bottom!==undefined?t.bottom:r.bottom,r.left=t.left!==undefined?t.left:r.left}},color:{get:function(){return s},set:function(e){s=t.utils.getColor(e)}},style:{get:function(){return d},set:function(t){switch(d=t){case"stack":e.offset("zero"),e.order("default");break;case"stream":e.offset("wiggle"),e.order("inside-out");break;case"stream-center":e.offset("silhouette"),e.order("inside-out");break;case"expand":e.offset("expand"),e.order("default");break;case"stack_percent":e.offset(e.d3_stackedOffset_stackPercent),e.order("default")}}},duration:{get:function(){return v},set:function(t){v=t,y.reset(v),m.duration(v)}}}),t.utils.inheritOptions(e,m),t.utils.initOptions(e),e},t.models.stackedAreaChart=function(){"use strict";function e(w){return j.reset(),j.models(r),m&&j.models(o),v&&j.models(a),w.each(function(w){var j=d3.select(this),O=this;t.utils.initSVG(j);var P,L=(d||parseInt(j.style("width"))||960)-c.left-c.right,N=(f||parseInt(j.style("height"))||400)-c.top-c.bottom;if(e.update=function(){j.transition().duration(I).call(e)},e.container=this,C.setter(E(w),e.update).getter(F(w)).update(),C.disabled=w.map(function(t){return!!t.disabled}),!k)for(P in k={},C)C[P]instanceof Array?k[P]=C[P].slice(0):k[P]=C[P];if(!(w&&w.length&&w.filter(function(t){return t.values.length}).length)){var B=j.selectAll(".nv-noData").data([S]);return B.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),B.attr("x",c.left+L/2).attr("y",c.top+N/2).text(function(t){return t}),e}j.selectAll(".nv-noData").remove(),n=r.xScale(),i=r.yScale();var R=j.selectAll("g.nv-wrap.nv-stackedAreaChart").data([w]),z=R.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),H=R.select("g");if(z.append("rect").style("opacity",0),z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-stackedWrap"),z.append("g").attr("class","nv-legendWrap"),z.append("g").attr("class","nv-controlsWrap"),z.append("g").attr("class","nv-interactive"),H.select("rect").attr("width",L).attr("height",N),g){var U=p?L-M:L;s.width(U),H.select(".nv-legendWrap").datum(w).call(s),c.top!=s.height()&&(c.top=s.height(),N=(f||parseInt(j.style("height"))||400)-c.top-c.bottom),H.select(".nv-legendWrap").attr("transform","translate("+(L-U)+","+-c.top+")")}if(p){var q=[{key:A.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=r.style(),style:"stack"},{key:A.stream||"Stream",metaKey:"Stream",disabled:"stream"!=r.style(),style:"stream"},{key:A.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=r.style(),style:"expand"},{key:A.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=r.style(),style:"stack_percent"}];M=D.length/3*260,q=q.filter(function(t){return-1!==D.indexOf(t.metaKey)}),l.width(M).color(["#444","#444","#444"]),H.select(".nv-controlsWrap").datum(q).call(l),c.top!=Math.max(l.height(),s.height())&&(c.top=Math.max(l.height(),s.height()),N=(f||parseInt(j.style("height"))||400)-c.top-c.bottom),H.select(".nv-controlsWrap").attr("transform","translate(0,"+-c.top+")")}R.attr("transform","translate("+c.left+","+c.top+")"),b&&H.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)"),y&&(u.width(L).height(N).margin({left:c.left,top:c.top}).svgContainer(j).xScale(n),R.select(".nv-interactive").call(u)),r.width(L).height(N),H.select(".nv-stackedWrap").datum(w).transition().call(r),m&&(o.scale(n).ticks(t.utils.calcTicksX(L/100,w)).tickSize(-N,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+N+")"),H.select(".nv-x.nv-axis").transition().duration(0).call(o)),v&&(a.scale(i).ticks("wiggle"==r.offset()?0:t.utils.calcTicksY(N/36,w)).tickSize(-L,0).setTickFormat("expand"==r.style()||"stack_percent"==r.style()?d3.format("%"):_),H.select(".nv-y.nv-axis").transition().duration(0).call(a)),r.dispatch.on("areaClick.toggle",function(t){1===w.filter(function(t){return!t.disabled}).length?w.forEach(function(t){t.disabled=!1}):w.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),C.disabled=w.map(function(t){return!!t.disabled}),T.stateChange(C),e.update()}),s.dispatch.on("stateChange",function(t){for(var n in t)C[n]=t[n];T.stateChange(C),e.update()}),l.dispatch.on("legendClick",function(t){t.disabled&&(q=q.map(function(t){return t.disabled=!0,t}),t.disabled=!1,r.style(t.style),C.style=r.style(),T.stateChange(C),e.update())}),u.dispatch.on("elementMousemove",function(n){r.clearHighlights();var i,s,l,d=[];if(w.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,a){s=t.interactiveBisect(o.values,n.pointXValue,e.x()),r.highlightPoint(a,s,!0);var u=o.values[s];if(void 0!==u){void 0===i&&(i=u),void 0===l&&(l=e.xScale()(e.x()(u,s)));var c="expand"==r.style()?u.display.y:e.y()(u,s);d.push({key:o.key,value:c,color:h(o,o.seriesIndex),stackedValue:u.display})}}),d.reverse(),d.length>2){var f=e.yScale().invert(n.mouseY),p=(Infinity,null);d.forEach(function(t,e){f=Math.abs(f);var n=Math.abs(t.stackedValue.y0),i=Math.abs(t.stackedValue.y);f>=n&&f<=i+n&&(p=e)}),null!=p&&(d[p].highlight=!0)}var g=o.tickFormat()(e.x()(i,s)),m="expand"==r.style()?function(t){return d3.format(".1%")(t)}:function(t){return a.tickFormat()(t)};u.tooltip.position({left:l+c.left,top:n.mouseY+c.top}).chartContainer(O.parentNode).enabled(x).valueFormatter(m).data({value:g,series:d})(),u.renderGuideLine(l)}),u.dispatch.on("elementMouseout",function(){T.tooltipHide(),r.clearHighlights()}),T.on("tooltipShow",function(t){x&&$(t,O.parentNode)}),T.on("changeState",function(t){"undefined"!=typeof t.disabled&&w.length===t.disabled.length&&(w.forEach(function(e,n){e.disabled=t.disabled[n]}),C.disabled=t.disabled),"undefined"!=typeof t.style&&(r.style(t.style),t.style),e.update()})}),j.renderEnd("stacked Area chart immediate"),e}var n,i,r=t.models.stackedArea(),o=t.models.axis(),a=t.models.axis(),s=t.models.legend(),l=t.models.legend(),u=t.interactiveGuideline(),c={top:30,right:25,bottom:50,left:60},d=null,f=null,h=t.utils.defaultColor(),p=!0,g=!0,m=!0,v=!0,b=!1,y=!1,x=!0,w=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},_=d3.format(",.2f"),C=t.utils.state(),k=null,S="No Data Available.",T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),M=250,D=["Stacked","Stream","Expanded"],A={},I=250;C.style=r.style(),o.orient("bottom").tickPadding(7),a.orient(b?"right":"left"),l.updateState(!1);var j=t.utils.renderWatch(T),$=(r.style(),function(n,i){var s=n.pos[0]+(i.offsetLeft||0),l=n.pos[1]+(i.offsetTop||0),u=o.tickFormat()(r.x()(n.point,n.pointIndex)),c=a.tickFormat()(r.y()(n.point,n.pointIndex)),d=w(n.series.key,u,c,n,e);t.tooltip.show([s,l],d,n.value<0?"n":"s",null,i)}),F=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:r.style()}}},E=function(t){return function(e){e.style!==undefined&&e.style,e.active!==undefined&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return r.dispatch.on("tooltipShow",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],T.tooltipShow(t)}),r.dispatch.on("tooltipHide",function(t){T.tooltipHide(t)}),T.on("tooltipHide",function(){x&&t.tooltip.cleanup()}),e.dispatch=T,e.stacked=r,e.legend=s,e.controls=l,e.xAxis=o,e.yAxis=a,e.interactiveLayer=u,a.setTickFormat=a.tickFormat,e.dispatch=T,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},tooltips:{get:function(){return x},set:function(t){x=t}},tooltipContent:{get:function(){return w},set:function(t){w=t}},defaultState:{get:function(){return k},set:function(t){k=t}},noData:{get:function(){return S},set:function(t){S=t}},showControls:{get:function(){return p},set:function(t){p=t}},controlLabels:{get:function(){return A},set:function(t){A=t}},yAxisTickFormat:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return c},set:function(t){c.top=t.top!==undefined?t.top:c.top,c.right=t.right!==undefined?t.right:c.right,c.bottom=t.bottom!==undefined?t.bottom:c.bottom,c.left=t.left!==undefined?t.left:c.left}},duration:{get:function(){return I},set:function(t){I=t,j.reset(I),r.duration(I),o.duration(I),a.duration(I)}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),s.color(h),r.color(h)}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,a.orient(b?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(t){y=!!t,t&&(e.interactive(!1),e.useVoronoi(!1))}}}),t.utils.inheritOptions(e,r),t.utils.initOptions(e),e},t.version="1.7.1"}(),function(t,e,n){"use strict";function i(){return"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/MSIE\s+\d+\.\d+/)||navigator.userAgent.match(/Trident\/\d+\.\d+/)}function r(e,n){var r=t("body"),o=r.outerWidth(!0);r.addClass(e.lockClass);var a=r.outerWidth(!0)-o;(i()&&(c=r.css("margin-top"),r.css("margin-top",0)),0!=a)&&(t("html, body").each(function(){var e=t(this);u[e.prop("tagName").toLowerCase()]=parseInt(e.css("margin-right"))}),t("html").css("margin-right",u.html+a),n.css("left",0-a))}function o(e){i()&&t("body").css("margin-top",c);var n=t("body"),r=n.outerWidth(!0);n.removeClass(e.lockClass),0!=n.outerWidth(!0)-r&&t("html, body").each(function(){var e=t(this);e.css("margin-right",u[e.prop("tagName").toLowerCase()])})}function a(i,a){var u=a;return i.length?i.each(function(){t(this).data(s+".options",u)}):t.extend(l,u),t(e).bind("keydown",function(n){if(!n.ctrlKey||65!=n.keyCode)return!0;if(t("input:focus, textarea:focus").length>0)return!0;var i=new t.Event("onSelectAll");return i.parentEvent=n,t(e).trigger(i),!0}),i.bind("keydown",function(e){var n=t(":focusable",t(this));n.filter(":last").is(":focus")&&9==(e.which||e.keyCode)&&(e.preventDefault(),n.filter(":first").focus())}),{open:function(o){var a=i.get(0),u=t.extend({},l,t(a).data(s+".options"),o);t("."+u.overlayClass).length&&t.modal().close(u);var c=t("<div/>").addClass(u.overlayClass).prependTo("body");if(c.data(s+".options",u),r(u,c),a){var d=null;u.cloning?d=t(a).clone(!0).appendTo(c).show():(c.data(s+".el",a),t(a).data(s+".parent",t(a).parent()),d=t(a).appendTo(c).show())}if(u.verticallyCenter){var f=(c.outerHeight()-d.height())/2;f>0&&d.css({"margin-top":f+"px"})}u.closeOnEsc&&t(n).bind("keyup."+s,function(e){27===e.keyCode&&t.modal().close(u)}),u.closeOnOverlayClick&&t("."+u.overlayClass).on("click."+s,function(e){e.target.className==u.overlayClass&&t.modal().close(u)}),t(n).bind("touchmove."+s,function(e){t(e).parents("."+u.overlayClass)||e.preventDefault()}),a&&t(e).bind("onSelectAll",function(t){t.parentEvent.preventDefault();var i=null,r=null,o=d.get(0);n.body.createTextRange?((i=n.body.createTextRange()).moveToElementText(o),i.select()):e.getSelection&&(r=e.getSelection(),(i=n.createRange()).selectNodeContents(o),r.removeAllRanges(),r.addRange(i))}),u.onOpen&&u.onOpen(c,u)},close:function(r){var a=i.get(0),u=t.extend({},l,t(a).data(s+".options"),r),c=t("."+u.overlayClass);t.isFunction(u.onBeforeClose)&&!1===u.onBeforeClose(c,u)||(u.cloning||(a||(a=c.data(s+".el")),t(a).hide().appendTo(t(a).data(s+".parent"))),c.remove(),o(u),u.closeOnEsc&&t(n).unbind("keyup."+s),t(e).unbind("onSelectAll"),u.onClose&&u.onClose(c,u))}}}t.extend(t.expr[":"],{focusable:function(e){function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var i,r,o,a=e.nodeName.toLowerCase(),s=!isNaN(t.attr(e,"tabindex"));if("area"===a)return r=(i=e.parentNode).name,!(!e.href||!r||"map"!==i.nodeName.toLowerCase())&&(!!(o=t("img[usemap=#"+r+"]")[0])&&n(o));var l=s;return/input|select|textarea|button|object/.test(a)?l=!e.disabled:"a"===a&&(l=e.href||s),l&&n(e)}});var s="the-modal",l={lockClass:"themodal-lock",overlayClass:"themodal-overlay",closeOnEsc:!0,closeOnOverlayClick:!0,onBeforeClose:null,onClose:null,onOpen:null,verticallyCenter:!1,cloning:!1},u={},c=0;t.modal=function(e){return a(t(),e)},t.fn.modal=function(t){return a(this,t)}}(jQuery,window,document),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(e){return!e.nodeName||-1!==t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function n(e){return t.isFunction(e)||t.isPlainObject(e)?e:{top:e,left:e}}var i=t.scrollTo=function(e,n,i){return t(window).scrollTo(e,n,i)};return i.defaults={axis:"xy",duration:0,limit:!0},t.fn.scrollTo=function(r,o,a){"object"==typeof o&&(a=o,o=0),"function"==typeof a&&(a={onAfter:a}),"max"===r&&(r=9e9),a=t.extend({},i.defaults,a),o=o||a.duration;var s=a.queue&&a.axis.length>1;return s&&(o/=2),a.offset=n(a.offset),a.over=n(a.over),this.each(function(){function l(e){var n=t.extend({},a,{queue:!0,duration:o,complete:e&&function(){e.call(d,h,a)}});f.animate(p,n)}if(null!==r){var u,c=e(this),d=c?this.contentWindow||window:this,f=t(d),h=r,p={};switch(typeof h){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(h)){h=n(h);break}h=c?t(h):t(h,d);case"object":if(0===h.length)return;(h.is||h.style)&&(u=(h=t(h)).offset())}var g=t.isFunction(a.offset)&&a.offset(d,h)||a.offset;t.each(a.axis.split(""),function(t,e){var n="x"===e?"Left":"Top",r=n.toLowerCase(),o="scroll"+n,m=f[o](),v=i.max(d,e);if(u)p[o]=u[r]+(c?0:m-f.offset()[r]),a.margin&&(p[o]-=parseInt(h.css("margin"+n),10)||0,p[o]-=parseInt(h.css("border"+n+"Width"),10)||0),p[o]+=g[r]||0,a.over[r]&&(p[o]+=h["x"===e?"width":"height"]()*a.over[r]);else{var b=h[r];p[o]=b.slice&&"%"===b.slice(-1)?parseFloat(b)/100*v:b}a.limit&&/^\d+$/.test(p[o])&&(p[o]=p[o]<=0?0:Math.min(p[o],v)),!t&&a.axis.length>1&&(m===p[o]?p={}:s&&(l(a.onAfterFirst),p={}))}),l(a.onAfter)}})},i.max=function(n,i){var r="x"===i?"Width":"Height",o="scroll"+r;if(!e(n))return n[o]-t(n)[r.toLowerCase()]();var a="client"+r,s=n.ownerDocument||n.document,l=s.documentElement,u=s.body;return Math.max(l[o],u[o])-Math.min(l[a],u[a])},t.Tween.propHooks.scrollLeft=t.Tween.propHooks.scrollTop={get:function(e){return t(e.elem)[e.prop]()},set:function(e){var n=this.get(e);if(e.options.interrupt&&e._last&&e._last!==n)return t(e.elem).stop();var i=Math.round(e.now);n!==i&&(t(e.elem)[e.prop](i),e._last=this.get(e))}},i}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t.jBox=e(n)}):"object"==typeof module&&module.exports?module.exports=t.jBox=e(require("jquery")):t.jBox=e(t.jQuery)}(this,function(t){var e,n=function i(e,n){return this.options={id:null,width:"auto",height:"auto",minWidth:null,
minHeight:null,maxWidth:null,maxHeight:null,responsiveWidth:!0,responsiveHeight:!0,responsiveMinWidth:100,responsiveMinHeight:100,attach:null,trigger:"click",preventDefault:!1,content:null,getContent:null,title:null,getTitle:null,footer:null,isolateScroll:!0,ajax:{url:null,data:"",reload:!1,getURL:"data-url",getData:"data-ajax",setContent:!0,spinner:!0,spinnerDelay:300,spinnerReposition:!0},target:null,position:{x:"center",y:"center"},outside:null,offset:0,attributes:{x:"left",y:"top"},fixed:!1,adjustPosition:!0,adjustTracker:!1,adjustDistance:5,reposition:!0,repositionOnOpen:!0,repositionOnContent:!0,pointer:!1,pointTo:"target",fade:180,animation:null,theme:"Default",addClass:null,overlay:!1,zIndex:1e4,delayOpen:0,delayClose:0,closeOnEsc:!1,closeOnClick:!1,closeOnMouseleave:!1,closeButton:!1,appendTo:t("body"),createOnInit:!1,blockScroll:!1,draggable:!1,dragOver:!0,autoClose:!1,preloadAudio:!0,audio:null,volume:100,onInit:null,onAttach:null,onPosition:null,onCreated:null,onOpen:null,onClose:null,onCloseComplete:null},this._pluginOptions={Tooltip:{getContent:"title",trigger:"mouseenter",position:{x:"center",y:"top"},outside:"y",pointer:!0},Mouse:{responsiveWidth:!1,responsiveHeight:!1,adjustPosition:"flip",target:"mouse",trigger:"mouseenter",position:{x:"right",y:"bottom"},outside:"xy",offset:5},Modal:{target:t(window),fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:!0,overlay:!0,animation:"zoomIn"}},this.options=t.extend(!0,this.options,this._pluginOptions[e]?this._pluginOptions[e]:i._pluginOptions[e],n),"string"==t.type(e)&&(this.type=e),this._fireEvent=function(t,e){this.options["_"+t]&&this.options["_"+t].bind(this)(e),this.options[t]&&this.options[t].bind(this)(e)},null===this.options.id&&(this.options.id="jBox"+i._getUniqueID()),this.id=this.options.id,("center"==this.options.position.x&&"x"==this.options.outside||"center"==this.options.position.y&&"y"==this.options.outside)&&(this.options.outside=null),"target"==this.options.pointTo&&(!this.options.outside||"xy"==this.options.outside)&&(this.options.pointer=!1),"object"!=t.type(this.options.offset)?this.options.offset={x:this.options.offset,y:this.options.offset}:this.options.offset=t.extend({x:0,y:0},this.options.offset),"object"!=t.type(this.options.adjustDistance)?this.options.adjustDistance={top:this.options.adjustDistance,right:this.options.adjustDistance,bottom:this.options.adjustDistance,left:this.options.adjustDistance}:this.options.adjustDistance=t.extend({top:5,left:5,right:5,bottom:5},this.options.adjustDistance),this.outside=!(!this.options.outside||"xy"==this.options.outside)&&this.options.position[this.options.outside],this.align=this.outside?this.outside:"center"!=this.options.position.y&&"number"!=t.type(this.options.position.y)?this.options.position.x:"center"!=this.options.position.x&&"number"!=t.type(this.options.position.x)?this.options.position.y:this.options.attributes.x,this._getOpp=function(t){return{left:"right",right:"left",top:"bottom",bottom:"top",x:"y",y:"x"}[t]},this._getXY=function(t){return{left:"x",right:"x",top:"y",bottom:"y",center:"x"}[t]},this._getTL=function(t){return{left:"left",right:"left",top:"top",bottom:"top",center:"left",x:"left",y:"top"}[t]},this._getInt=function(e,n){return"auto"==e?"auto":e&&"string"==t.type(e)&&"%"==e.slice(-1)?t(window)["height"==n?"innerHeight":"innerWidth"]()*parseInt(e.replace("%",""))/100:e},this._createSVG=function(e,n){var i=document.createElementNS("http://www.w3.org/2000/svg",e);return t.each(n,function(t,e){i.setAttribute(e[0],e[1]||"")}),i},this._isolateScroll=function(t){t&&t.length&&t.on("DOMMouseScroll.jBoxIsolateScroll mousewheel.jBoxIsolateScroll",function(e){var n=e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail,i=this.scrollTop+t.outerHeight()-this.scrollHeight>=0,r=this.scrollTop<=0;(n<0&&i||n>0&&r)&&e.preventDefault()})},this._setTitleWidth=function(){if(!this.titleContainer||"auto"==this.content[0].style.width&&!this.content[0].style.maxWidth)return null;if("none"==this.wrapper.css("display")){this.wrapper.css("display","block");var t=this.content.outerWidth();this.wrapper.css("display","none")}else t=this.content.outerWidth();this.titleContainer.css({maxWidth:Math.max(t,parseInt(this.content[0].style.maxWidth))||null})},this._draggable=function(){if(!this.options.draggable)return!1;var e="title"==this.options.draggable?this.titleContainer:this.options.draggable instanceof t?this.options.draggable:"string"==t.type(this.options.draggable)?t(this.options.draggable):this.wrapper;return!(!(e&&e instanceof t&&e.length)||e.data("jBox-draggable"))&&(e.addClass("jBox-draggable").data("jBox-draggable",!0).on("mousedown",function(e){if(2!=e.button&&!t(e.target).hasClass("jBox-noDrag")&&!t(e.target).parents(".jBox-noDrag").length){this.options.dragOver&&this.wrapper.css("zIndex")<=i.zIndexMax&&(i.zIndexMax+=1,this.wrapper.css("zIndex",i.zIndexMax));var n=this.wrapper.outerHeight(),r=this.wrapper.outerWidth(),o=this.wrapper.offset().top+n-e.pageY,a=this.wrapper.offset().left+r-e.pageX;t(document).on("mousemove.jBox-draggable-"+this.id,function(t){this.wrapper.offset({top:t.pageY+o-n,left:t.pageX+a-r})}.bind(this)),e.preventDefault()}}.bind(this)).on("mouseup",function(){t(document).off("mousemove.jBox-draggable-"+this.id)}.bind(this)),i.zIndexMax=i.zIndexMax?Math.max(i.zIndexMax,this.options.zIndex):this.options.zIndex,this)},this._create=function(){if(!this.wrapper){if(this.wrapper=t("<div/>",{id:this.id,"class":"jBox-wrapper"+(this.type?" jBox-"+this.type:"")+(this.options.theme?" jBox-"+this.options.theme:"")+(this.options.addClass?" "+this.options.addClass:"")}).css({position:this.options.fixed?"fixed":"absolute",display:"none",opacity:0,zIndex:this.options.zIndex}).data("jBox",this),this.options.closeOnMouseleave&&this.wrapper.on("mouseleave",function(e){!this.source||e.relatedTarget!=this.source[0]&&-1===t.inArray(this.source[0],t(e.relatedTarget).parents("*"))&&this.close()}.bind(this)),"box"==this.options.closeOnClick&&this.wrapper.on("touchend click",function(){this.close({ignoreDelay:!0})}.bind(this)),this.container=t('<div class="jBox-container"/>').appendTo(this.wrapper),this.content=t('<div class="jBox-content"/>').appendTo(this.container),this.options.footer&&(this.footer=t('<div class="jBox-footer"/>').append(this.options.footer).appendTo(this.container)),this.options.isolateScroll&&this._isolateScroll(this.content),this.options.closeButton){var e=this._createSVG("svg",[["viewBox","0 0 24 24"]]);e.appendChild(this._createSVG("path",[["d","M22.2,4c0,0,0.5,0.6,0,1.1l-6.8,6.8l6.9,6.9c0.5,0.5,0,1.1,0,1.1L20,22.3c0,0-0.6,0.5-1.1,0L12,15.4l-6.9,6.9c-0.5,0.5-1.1,0-1.1,0L1.7,20c0,0-0.5-0.6,0-1.1L8.6,12L1.7,5.1C1.2,4.6,1.7,4,1.7,4L4,1.7c0,0,0.6-0.5,1.1,0L12,8.5l6.8-6.8c0.5-0.5,1.1,0,1.1,0L22.2,4z"]])),this.closeButton=t('<div class="jBox-closeButton jBox-noDrag"/>').on("touchend click",function(){this.close({ignoreDelay:!0})}.bind(this)).append(e),"box"!=this.options.closeButton&&(!0!==this.options.closeButton||this.options.overlay||this.options.title)||(this.wrapper.addClass("jBox-closeButton-box"),this.closeButton.appendTo(this.container))}if(this.wrapper.appendTo(this.options.appendTo),this.wrapper.find(".jBox-closeButton").length&&t.each(["top","right","bottom","left"],function(t,e){this.wrapper.find(".jBox-closeButton").css(e)&&"auto"!=this.wrapper.find(".jBox-closeButton").css(e)&&(this.options.adjustDistance[e]=Math.max(this.options.adjustDistance[e],this.options.adjustDistance[e]+-1*((parseInt(this.wrapper.find(".jBox-closeButton").css(e))||0)+(parseInt(this.container.css("border-"+e+"-width"))||0))))}.bind(this)),this.options.pointer){if(this.pointer={position:"target"!=this.options.pointTo?this.options.pointTo:this._getOpp(this.outside),xy:"target"!=this.options.pointTo?this._getXY(this.options.pointTo):this._getXY(this.outside),align:"center",offset:0},this.pointer.element=t('<div class="jBox-pointer jBox-pointer-'+this.pointer.position+'"/>').appendTo(this.wrapper),this.pointer.dimensions={x:this.pointer.element.outerWidth(),y:this.pointer.element.outerHeight()},"string"==t.type(this.options.pointer)){var n=this.options.pointer.split(":");n[0]&&(this.pointer.align=n[0]),n[1]&&(this.pointer.offset=parseInt(n[1]))}this.pointer.alignAttribute="x"==this.pointer.xy?"bottom"==this.pointer.align?"bottom":"top":"right"==this.pointer.align?"right":"left",this.wrapper.css("padding-"+this.pointer.position,this.pointer.dimensions[this.pointer.xy]),this.pointer.element.css(this.pointer.alignAttribute,"center"==this.pointer.align?"50%":0).css("margin-"+this.pointer.alignAttribute,this.pointer.offset),this.pointer.margin={},this.pointer.margin["margin-"+this.pointer.alignAttribute]=this.pointer.offset,"center"==this.pointer.align&&this.pointer.element.css("transform","translate("+("y"==this.pointer.xy?-.5*this.pointer.dimensions.x+"px":0)+", "+("x"==this.pointer.xy?-.5*this.pointer.dimensions.y+"px":0)+")"),this.pointer.element.css("x"==this.pointer.xy?"width":"height",parseInt(this.pointer.dimensions[this.pointer.xy])+parseInt(this.container.css("border-"+this.pointer.alignAttribute+"-width"))),this.wrapper.addClass("jBox-pointerPosition-"+this.pointer.position)}this.setContent(this.options.content,!0),this.setTitle(this.options.title,!0),this.options.draggable&&this._draggable(),this._fireEvent("onCreated")}},this.options.createOnInit&&this._create(),this.options.attach&&this.attach(),this._attachEvents=function(){this.options.closeOnEsc&&t(document).on("keyup.jBox-"+this.id,function(t){27==t.keyCode&&this.close({ignoreDelay:!0})}.bind(this)),!0!==this.options.closeOnClick&&"body"!=this.options.closeOnClick||t(document).on("touchend.jBox-"+this.id+" click.jBox-"+this.id,function(t){this.blockBodyClick||"body"==this.options.closeOnClick&&(t.target==this.wrapper[0]||this.wrapper.has(t.target).length)||this.close({ignoreDelay:!0})}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&!this.fixed&&this.outside&&(this.options.adjustTracker&&t(window).on("scroll.jBox-"+this.id,function(){this.position()}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&t(window).on("resize.jBox-"+this.id,function(){this.position()}.bind(this))),"mouse"==this.options.target&&t("body").on("mousemove.jBox-"+this.id,function(t){this.position({mouseTarget:{top:t.pageY,left:t.pageX}})}.bind(this))},this._detachEvents=function(){this.options.closeOnEsc&&t(document).off("keyup.jBox-"+this.id),(!0===this.options.closeOnClick||"body"==this.options.closeOnClick)&&t(document).off("touchend.jBox-"+this.id+" click.jBox-"+this.id),this.options.adjustTracker&&t(window).off("scroll.jBox-"+this.id),(this.options.adjustPosition||this.options.reposition)&&t(window).off("resize.jBox-"+this.id),"mouse"==this.options.target&&t("body").off("mousemove.jBox-"+this.id)},this._showOverlay=function(){this.overlay||(this.overlay=t('<div id="'+this.id+'-overlay"/>').addClass("jBox-overlay"+(this.type?" jBox-overlay-"+this.type:"")).css({display:"none",opacity:0,zIndex:this.options.zIndex-1}).appendTo(this.options.appendTo),("overlay"==this.options.closeButton||!0===this.options.closeButton&&!this.titleContainer)&&this.overlay.append(this.closeButton),"overlay"==this.options.closeOnClick&&this.overlay.on("touchend click",function(){this.close({ignoreDelay:!0})}.bind(this)),t("#"+this.id+"-overlay .jBox-closeButton").length&&(this.options.adjustDistance.top=Math.max(t("#"+this.id+"-overlay .jBox-closeButton").outerHeight(),this.options.adjustDistance.top))),"block"!=this.overlay.css("display")&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.overlay.css({display:"block"})}.bind(this)}):this.overlay.css({display:"block",opacity:1}))},this._hideOverlay=function(){this.overlay&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:0},{queue:!1,duration:this.options.fade,complete:function(){this.overlay.css({display:"none"})}.bind(this)}):this.overlay.css({display:"none",opacity:0}))},this._exposeDimensions=function(){this.wrapper.css({top:-1e4,left:-1e4,right:"auto",bottom:"auto"});var t={x:this.wrapper.outerWidth(),y:this.wrapper.outerHeight()};return this.wrapper.css({top:"auto",left:"auto"}),t},this._generateAnimationCSS=function(){if("object"!=t.type(this.options.animation)&&(this.options.animation={pulse:{open:"pulse",close:"zoomOut"},zoomIn:{open:"zoomIn",close:"zoomIn"},zoomOut:{open:"zoomOut",close:"zoomOut"},move:{open:"move",close:"move"},slide:{open:"slide",close:"slide"},flip:{open:"flip",close:"flip"},tada:{open:"tada",close:"zoomOut"}}[this.options.animation]),!this.options.animation)return null;this.options.animation.open&&(this.options.animation.open=this.options.animation.open.split(":")),this.options.animation.close&&(this.options.animation.close=this.options.animation.close.split(":")),this.options.animation.openDirection=this.options.animation.open[1]?this.options.animation.open[1]:null,this.options.animation.closeDirection=this.options.animation.close[1]?this.options.animation.close[1]:null,this.options.animation.open&&(this.options.animation.open=this.options.animation.open[0]),this.options.animation.close&&(this.options.animation.close=this.options.animation.close[0]),this.options.animation.open&&(this.options.animation.open+="Open"),this.options.animation.close&&(this.options.animation.close+="Close");var e={pulse:{duration:350,css:[["0%","scale(1)"],["50%","scale(1.1)"],["100%","scale(1)"]]},zoomInOpen:{duration:this.options.fade||180,css:[["0%","scale(0.9)"],["100%","scale(1)"]]},zoomInClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(0.9)"]]},zoomOutOpen:{duration:this.options.fade||180,css:[["0%","scale(1.1)"],["100%","scale(1)"]]},zoomOutClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(1.1)"]]},moveOpen:{duration:this.options.fade||180,positions:{top:{"0%":-12},right:{"0%":12},bottom:{"0%":12},left:{"0%":-12}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},moveClose:{duration:this.options.fade||180,timing:"ease-in",positions:{top:{"100%":-12},right:{"100%":12},bottom:{"100%":12},left:{"100%":-12}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},slideOpen:{duration:400,positions:{top:{"0%":-400},right:{"0%":400},bottom:{"0%":400},left:{"0%":-400}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},slideClose:{duration:400,timing:"ease-in",positions:{top:{"100%":-400},right:{"100%":400},bottom:{"100%":400},left:{"100%":-400}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},flipOpen:{duration:600,css:[["0%","perspective(400px) rotateX(90deg)"],["40%","perspective(400px) rotateX(-15deg)"],["70%","perspective(400px) rotateX(15deg)"],["100%","perspective(400px) rotateX(0deg)"]]},flipClose:{duration:this.options.fade||300,css:[["0%","perspective(400px) rotateX(0deg)"],["100%","perspective(400px) rotateX(90deg)"]]},tada:{duration:800,css:[["0%","scale(1)"],["10%, 20%","scale(0.9) rotate(-3deg)"],["30%, 50%, 70%, 90%","scale(1.1) rotate(3deg)"],["40%, 60%, 80%","scale(1.1) rotate(-3deg)"],["100%","scale(1) rotate(0)"]]}};t.each(["pulse","tada"],function(t,n){e[n+"Open"]=e[n+"Close"]=e[n]});var n=function(n,i){return keyframe_css="@keyframes jBox-"+this.id+"-animation-"+this.options.animation[n]+"-"+n+(i?"-"+i:"")+" {",t.each(e[this.options.animation[n]].css,function(t,r){var o=i?r[1].replace("%XY",this._getXY(i).toUpperCase()):r[1];e[this.options.animation[n]].positions&&(o=o.replace("%V",e[this.options.animation[n]].positions[i][r[0]])),keyframe_css+=r[0]+" {transform:"+o+";}"}.bind(this)),keyframe_css+="}",keyframe_css+=".jBox-"+this.id+"-animation-"+this.options.animation[n]+"-"+n+(i?"-"+i:"")+" {",keyframe_css+="animation-duration: "+e[this.options.animation[n]].duration+"ms;",keyframe_css+="animation-name: jBox-"+this.id+"-animation-"+this.options.animation[n]+"-"+n+(i?"-"+i:"")+";",keyframe_css+=e[this.options.animation[n]].timing?"animation-timing-function: "+e[this.options.animation[n]].timing+";":"",keyframe_css+="}",keyframe_css}.bind(this);this._animationCSS="",t.each(["open","close"],function(i,r){if(!this.options.animation[r]||!e[this.options.animation[r]]||"close"==r&&!this.options.fade)return"";e[this.options.animation[r]].positions?t.each(["top","right","bottom","left"],function(t,e){this._animationCSS+=n(r,e)}.bind(this)):this._animationCSS+=n(r)}.bind(this))},this.options.animation&&this._generateAnimationCSS(),this._blockBodyClick=function(){this.blockBodyClick=!0,setTimeout(function(){this.blockBodyClick=!1}.bind(this),10)},this._animate=function(t){if(!t&&(t=this.isOpen?"open":"close"),!this.options.fade&&"close"==t)return null;var e=this.options.animation[t+"Direction"]||("center"!=this.align?this.align:this.options.attributes.x);this.flipped&&this._getXY(e)==this._getXY(this.align)&&(e=this._getOpp(e));var n="jBox-"+this.id+"-animation-"+this.options.animation[t]+"-"+t+" jBox-"+this.id+"-animation-"+this.options.animation[t]+"-"+t+"-"+e;this.wrapper.addClass(n);var i=1e3*parseFloat(this.wrapper.css("animation-duration"));"close"==t&&(i=Math.min(i,this.options.fade)),setTimeout(function(){this.wrapper.removeClass(n)}.bind(this),i)},this._abortAnimation=function(){var t=this.wrapper.attr("class").split(" ").filter(function(t){return 0!==t.lastIndexOf("jBox-"+this.id+"-animation",0)}.bind(this));this.wrapper.attr("class",t.join(" "))},(this.options.responsiveWidth||this.options.responsiveHeight)&&t(window).on("resize.responsivejBox-"+this.id,function(){this.isOpen&&this.position()}.bind(this)),"string"===t.type(this.options.preloadAudio)&&(this.options.preloadAudio=[this.options.preloadAudio]),"string"===t.type(this.options.audio)&&(this.options.audio={open:this.options.audio}),"number"===t.type(this.options.volume)&&(this.options.volume={open:this.options.volume,close:this.options.volume}),!0===this.options.preloadAudio&&this.options.audio&&(this.options.preloadAudio=[],t.each(this.options.audio,function(t,e){this.options.preloadAudio.push(e+".mp3"),this.options.preloadAudio.push(e+".ogg")}.bind(this))),this.options.preloadAudio.length&&t.each(this.options.preloadAudio,function(t,e){var n=new Audio;n.src=e,n.preload="auto"}),this._fireEvent("onInit"),this};return n.prototype.attach=function(e,n){return!e&&(e=this.options.attach),"string"==t.type(e)&&(e=t(e)),!n&&(n=this.options.trigger),e&&e.length&&t.each(e,function(e,i){(i=t(i)).data("jBox-attached-"+this.id)||("title"==this.options.getContent&&i.attr("title")!=undefined&&i.data("jBox-getContent",i.attr("title")).removeAttr("title"),this.attachedElements||(this.attachedElements=[]),this.attachedElements.push(i[0]),i.on(n+".jBox-attach-"+this.id,function(t){if(this.timer&&clearTimeout(this.timer),"mouseenter"!=n||!this.isOpen||this.source[0]!=i[0]){if(this.isOpen&&this.source&&this.source[0]!=i[0])var e=!0;this.source=i,!this.options.target&&(this.target=i),"click"==n&&this.options.preventDefault&&t.preventDefault(),this["click"!=n||e?"open":"toggle"]()}}.bind(this)),"mouseenter"==this.options.trigger&&i.on("mouseleave",function(e){if(!this.wrapper)return null;this.options.closeOnMouseleave&&(e.relatedTarget==this.wrapper[0]||t(e.relatedTarget).parents("#"+this.id).length)||this.close()}.bind(this)),i.data("jBox-attached-"+this.id,n),this._fireEvent("onAttach",i))}.bind(this)),this},n.prototype.detach=function(e){return!e&&(e=this.attachedElements||[]),e&&e.length&&t.each(e,function(e,n){(n=t(n)).data("jBox-attached-"+this.id)&&(n.off(n.data("jBox-attached-"+this.id)+".jBox-attach-"+this.id),n.data("jBox-attached-"+this.id,null)),this.attachedElements=t.grep(this.attachedElements,function(t){return t!=n[0]})}.bind(this)),this},n.prototype.setTitle=function(e,n){if(null==e||e==undefined)return this;!this.wrapper&&this._create();var i=this.wrapper.outerHeight(),r=this.wrapper.outerWidth();return this.title||(this.titleContainer=t('<div class="jBox-title"/>'),this.title=t("<div/>").appendTo(this.titleContainer),this.wrapper.addClass("jBox-hasTitle"),("title"==this.options.closeButton||!0===this.options.closeButton&&!this.options.overlay)&&(this.wrapper.addClass("jBox-closeButton-title"),this.closeButton.appendTo(this.titleContainer)),this.titleContainer.insertBefore(this.content),this._setTitleWidth()),this.title.html(e),r!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),!n&&this.options.repositionOnContent&&(i!=this.wrapper.outerHeight()||r!=this.wrapper.outerWidth())&&this.position(),this},n.prototype.setContent=function(e,n){if(null==e||e==undefined)return this;!this.wrapper&&this._create();var i=this.wrapper.outerHeight(),r=this.wrapper.outerWidth();switch(this.content.children("[data-jbox-content-appended]").appendTo("body").css({display:"none"}),t.type(e)){case"string":this.content.html(e);break;case"object":this.content.html(""),e.attr("data-jbox-content-appended",1).appendTo(this.content).css({display:"block"})}return r!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),!n&&this.options.repositionOnContent&&(i!=this.wrapper.outerHeight()||r!=this.wrapper.outerWidth())&&this.position(),this},n.prototype.setDimensions=function(t,e,n){!this.wrapper&&this._create(),e==undefined&&(e="auto"),this.content.css(t,this._getInt(e)),"width"==t&&this._setTitleWidth(),(n==undefined||n)&&this.position()},n.prototype.setWidth=function(t,e){this.setDimensions("width",t,e)},n.prototype.setHeight=function(t,e){this.setDimensions("height",t,e)},n.prototype.position=function(e){if(!e&&(e={}),e=t.extend(!0,this.options,e),this.target=e.target||this.target||t(window),!(this.target instanceof t||"mouse"==this.target)&&(this.target=t(this.target)),!this.target.length)return this;this.content.css({width:this._getInt(e.width,"width"),height:this._getInt(e.height,"height"),minWidth:this._getInt(e.minWidth,"width"),minHeight:this._getInt(e.minHeight,"height"),maxWidth:this._getInt(e.maxWidth,"width"),maxHeight:this._getInt(e.maxHeight,"height")}),this._setTitleWidth();var n=this._exposeDimensions();"mouse"!=this.target&&!this.target.data("jBox-"+this.id+"-fixed")&&this.target.data("jBox-"+this.id+"-fixed",this.target[0]!=t(window)[0]&&("fixed"==this.target.css("position")||this.target.parents().filter(function(){return"fixed"==t(this).css("position")}).length>0)?"fixed":"static");var i={x:t(window).outerWidth(),y:t(window).outerHeight(),top:e.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:t(window).scrollTop(),left:e.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:t(window).scrollLeft()};i.bottom=i.top+i.y,i.right=i.left+i.x;try{var r=this.target.offset()}catch(C){r={top:0,left:0}}"mouse"!=this.target&&"fixed"==this.target.data("jBox-"+this.id+"-fixed")&&e.fixed&&(r.top=r.top-t(window).scrollTop(),r.left=r.left-t(window).scrollLeft());var o={x:"mouse"==this.target?12:this.target.outerWidth(),y:"mouse"==this.target?20:this.target.outerHeight(),top:"mouse"==this.target&&e.mouseTarget?e.mouseTarget.top:r?r.top:0,left:"mouse"==this.target&&e.mouseTarget?e.mouseTarget.left:r?r.left:0},a=e.outside&&!("center"==e.position.x&&"center"==e.position.y),s={x:i.x-e.adjustDistance.left-e.adjustDistance.right,y:i.y-e.adjustDistance.top-e.adjustDistance.bottom,left:a?o.left-t(window).scrollLeft()-e.adjustDistance.left:0,right:a?i.x-o.left+t(window).scrollLeft()-o.x-e.adjustDistance.right:0,top:a?o.top-t(window).scrollTop()-this.options.adjustDistance.top:0,bottom:a?i.y-o.top+t(window).scrollTop()-o.y-e.adjustDistance.bottom:0},l={x:"x"!=e.outside&&"xy"!=e.outside||"number"==t.type(e.position.x)?null:e.position.x,y:"y"!=e.outside&&"xy"!=e.outside||"number"==t.type(e.position.y)?null:e.position.y},u={x:!1,y:!1};if(l.x&&n.x>s[l.x]&&s[this._getOpp(l.x)]>s[l.x]&&(l.x=this._getOpp(l.x))&&(u.x=!0),l.y&&n.y>s[l.y]&&s[this._getOpp(l.y)]>s[l.y]&&(l.y=this._getOpp(l.y))&&(u.y=!0),e.responsiveWidth||e.responsiveHeight){var c=function(){if(e.responsiveWidth&&n.x>s[l.x||"x"]){var t=s[l.x||"x"]-(this.pointer&&a&&"x"==e.outside?this.pointer.dimensions.x:0)-parseInt(this.container.css("border-left-width"))-parseInt(this.container.css("border-right-width"));this.content.css({width:t>this.options.responsiveMinWidth?t:null,minWidth:t<parseInt(this.content.css("minWidth"))?0:null}),this._setTitleWidth()}n=this._exposeDimensions()}.bind(this);e.responsiveWidth&&c(),e.responsiveWidth&&!u.y&&l.y&&n.y>s[l.y]&&s[this._getOpp(l.y)]>s[l.y]&&(l.y=this._getOpp(l.y))&&(u.y=!0);var d=function(){if(e.responsiveHeight&&n.y>s[l.y||"y"]){var t=function(){if(!this.titleContainer&&!this.footer)return 0;if("none"==this.wrapper.css("display")){this.wrapper.css("display","block");var t=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0);this.wrapper.css("display","none")}else t=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0);return t||0}.bind(this),i=s[l.y||"y"]-(this.pointer&&a&&"y"==e.outside?this.pointer.dimensions.y:0)-t()-parseInt(this.container.css("border-top-width"))-parseInt(this.container.css("border-bottom-width"));this.content.css({height:i>this.options.responsiveMinHeight?i:null}),this._setTitleWidth()}n=this._exposeDimensions()}.bind(this);e.responsiveHeight&&d(),e.responsiveHeight&&!u.x&&l.x&&n.x>s[l.x]&&s[this._getOpp(l.x)]>s[l.x]&&(l.x=this._getOpp(l.x))&&(u.x=!0),e.adjustPosition&&"move"!=e.adjustPosition&&(u.x&&c(),u.y&&d())}var f={},h=function(i){if("number"!=t.type(e.position[i])){var r=e.attributes[i]="x"==i?"left":"top";if(f[r]=o[r],"center"==e.position[i])return f[r]+=Math.ceil((o[i]-n[i])/2),void("mouse"!=this.target&&this.target[0]&&this.target[0]==t(window)[0]&&(f[r]+=.5*(e.adjustDistance[r]-e.adjustDistance[this._getOpp(r)])));r!=e.position[i]&&(f[r]+=o[i]-n[i]),(e.outside==i||"xy"==e.outside)&&(f[r]+=n[i]*(r!=e.position[i]?1:-1))}else f[e.attributes[i]]=e.position[i]}.bind(this);if(h("x"),h("y"),this.pointer&&"target"==e.pointTo&&"number"!=t.type(e.position.x)&&"number"!=t.type(e.position.y)){var p=0;switch(this.pointer.align){case"center":"center"!=e.position[this._getOpp(e.outside)]&&(p+=n[this._getOpp(e.outside)]/2);break;default:switch(e.position[this._getOpp(e.outside)]){case"center":p+=(n[this._getOpp(e.outside)]/2-this.pointer.dimensions[this._getOpp(e.outside)]/2)*(this.pointer.align==this._getTL(this.pointer.align)?1:-1);break;default:p+=this.pointer.align!=e.position[this._getOpp(e.outside)]?this.dimensions[this._getOpp(e.outside)]*(-1!==t.inArray(this.pointer.align,["top","left"])?1:-1)+this.pointer.dimensions[this._getOpp(e.outside)]/2*(-1!==t.inArray(this.pointer.align,["top","left"])?-1:1):this.pointer.dimensions[this._getOpp(e.outside)]/2*(-1!==t.inArray(this.pointer.align,["top","left"])?1:-1)}}p*=e.position[this._getOpp(e.outside)]==this.pointer.alignAttribute?-1:1,p+=this.pointer.offset*(this.pointer.align==this._getOpp(this._getTL(this.pointer.align))?1:-1),f[this._getTL(this._getOpp(this.pointer.xy))]+=p}if(f[e.attributes.x]+=e.offset.x,f[e.attributes.y]+=e.offset.y,this.wrapper.css(f),e.adjustPosition){this.positionAdjusted&&(this.pointer&&this.wrapper.css("padding",0).css("padding-"+this._getOpp(this.outside),this.pointer.dimensions[this._getXY(this.outside)]).removeClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).addClass("jBox-pointerPosition-"+this.pointer.position),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+this._getOpp(this.outside)).css(this.pointer.margin),this.positionAdjusted=!1,this.flipped=!1);var g=i.top>f.top-(e.adjustDistance.top||0),m=i.right<f.left+n.x+(e.adjustDistance.right||0),v=i.bottom<f.top+n.y+(e.adjustDistance.bottom||0),b=i.left>f.left-(e.adjustDistance.left||0)?"left":m?"right":null,y=g?"top":v?"bottom":null;if(b||y){var x=function(t){this.wrapper.css(this._getTL(t),f[this._getTL(t)]+(n[this._getXY(t)]+e.offset[this._getXY(t)]*("top"==t||"left"==t?-2:2)+o[this._getXY(t)])*("top"==t||"left"==t?1:-1)),this.pointer&&this.wrapper.removeClass("jBox-pointerPosition-"+this.pointer.position).addClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).css("padding",0).css("padding-"+t,this.pointer.dimensions[this._getXY(t)]),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+t),this.positionAdjusted=!0,this.flipped=!0}.bind(this);u.x&&x(this.options.position.x),u.y&&x(this.options.position.y);var w="x"==this._getXY(this.outside)?y:b;if(this.pointer&&"target"==e.pointTo&&"flip"!=e.adjustPosition&&this._getXY(w)==this._getOpp(this._getXY(this.outside))){if("center"==this.pointer.align)var _=n[this._getXY(w)]/2-this.pointer.dimensions[this._getOpp(this.pointer.xy)]/2-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))*(w!=this._getTL(w)?-1:1);else _=w==this.pointer.alignAttribute?parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute)):n[this._getXY(w)]-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-this.pointer.dimensions[this._getXY(w)];spaceDiff=w==this._getTL(w)?i[this._getTL(w)]-f[this._getTL(w)]+e.adjustDistance[w]:-1*(i[this._getOpp(this._getTL(w))]-f[this._getTL(w)]-e.adjustDistance[w]-n[this._getXY(w)]),w==this._getOpp(this._getTL(w))&&f[this._getTL(w)]-spaceDiff<i[this._getTL(w)]+e.adjustDistance[this._getTL(w)]&&(spaceDiff-=i[this._getTL(w)]+e.adjustDistance[this._getTL(w)]-(this.pos[this._getTL(w)]-spaceDiff)),spaceDiff=Math.min(spaceDiff,_),spaceDiff<=_&&spaceDiff>0&&(this.pointer.element.css("margin-"+this.pointer.alignAttribute,parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-spaceDiff*(w!=this.pointer.alignAttribute?-1:1)),this.wrapper.css(this._getTL(w),f[this._getTL(w)]+spaceDiff*(w!=this._getTL(w)?-1:1)),this.positionAdjusted=!0)}}}return this._fireEvent("onPosition"),this},n.prototype.open=function(e){if(!e&&(e={}),this.isDestroyed)return!1;if(!this.wrapper&&this._create(),!this._styles&&(this._styles=t("<style/>").append(this._animationCSS).appendTo(t("head"))),this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var n=function(){this.source&&this.options.getTitle&&this.source.attr(this.options.getTitle)&&this.setTitle(this.source.attr(this.options.getTitle)),this.source&&this.options.getContent&&(this.source.data("jBox-getContent")?this.setContent(this.source.data("jBox-getContent"),!0):this.source.attr(this.options.getContent)?this.setContent(this.source.attr(this.options.getContent),!0):"html"==this.options.getContent&&this.setContent(this.source.html(),!0)),this._fireEvent("onOpen"),(this.options.ajax&&(this.options.ajax.url||this.source&&this.source.attr(this.options.ajax.getURL))&&(!this.ajaxLoaded||this.options.ajax.reload)||e.ajax&&(e.ajax.url||e.ajax.data))&&("strict"==this.options.ajax.reload||!this.source||!this.source.data("jBox-ajax-data")||e.ajax&&(e.ajax.url||e.ajax.data)?this.ajax(e.ajax||null,!0):this.setContent(this.source.data("jBox-ajax-data"))),(!this.positionedOnOpen||this.options.repositionOnOpen)&&this.position(e)&&(this.positionedOnOpen=!0),this.isClosing&&this._abortAnimation(),this.isOpen||(this.isOpen=!0,this.options.autoClose&&(this.options.delayClose=this.options.autoClose)&&this.close(),this._attachEvents(),this.options.blockScroll&&t("body").addClass("jBox-blockScroll-"+this.id),this.options.overlay&&this._showOverlay(),this.options.animation&&!this.isClosing&&this._animate("open"),this.options.audio&&this.options.audio.open&&this.audio(this.options.audio.open,this.options.volume.open),this.options.fade?this.wrapper.stop().animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.isOpening=!0,this.wrapper.css({display:"block"})}.bind(this),always:function(){this.isOpening=!1,setTimeout(function(){this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1)}.bind(this),10)}.bind(this)}):(this.wrapper.css({display:"block",opacity:1}),this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1)))}.bind(this);return!this.options.delayOpen||this.isOpen||this.isClosing||e.ignoreDelay?n():this.timer=setTimeout(n,this.options.delayOpen),this},n.prototype.close=function(e){if(e||(e={}),this.isDestroyed||this.isClosing)return!1;if(this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var n=function(){this._fireEvent("onClose"),this.isOpen&&(this.isOpen=!1,this._detachEvents(),this.options.blockScroll&&t("body").removeClass("jBox-blockScroll-"+this.id),this.options.overlay&&this._hideOverlay(),this.options.animation&&!this.isOpening&&this._animate("close"),
this.options.audio&&this.options.audio.close&&this.audio(this.options.audio.close,this.options.volume.close),this.options.fade?this.wrapper.stop().animate({opacity:0},{queue:!1,duration:this.options.fade,start:function(){this.isClosing=!0}.bind(this),complete:function(){this.wrapper.css({display:"none"}),this._fireEvent("onCloseComplete")}.bind(this),always:function(){this.isClosing=!1}.bind(this)}):(this.wrapper.css({display:"none",opacity:0}),this._fireEvent("onCloseComplete")))}.bind(this);return e.ignoreDelay?n():this.timer=setTimeout(n,Math.max(this.options.delayClose,10)),this},n.prototype.toggle=function(t){return this[this.isOpen?"close":"open"](t),this},n.prototype.disable=function(){return this.isDisabled=!0,this},n.prototype.enable=function(){return this.isDisabled=!1,this},n.prototype.hide=function(){return this.disable(),this.wrapper&&this.wrapper.css({display:"none"}),this},n.prototype.show=function(){return this.enable(),this.wrapper&&this.wrapper.css({display:"block"}),this},n.prototype.ajax=function(e,n){e||(e={}),t.each([["getData","data"],["getURL","url"]],function(t,n){this.options.ajax[n[0]]&&!e[n[1]]&&this.source&&this.source.attr(this.options.ajax[n[0]])!=undefined&&(e[n[1]]=this.source.attr(this.options.ajax[n[0]])||"")}.bind(this));var i=t.extend(!0,{},this.options.ajax);this.ajaxRequest&&this.ajaxRequest.abort();var r=e.beforeSend||i.beforeSend||function(){},o=e.complete||i.complete||function(){},a=e.success||i.success||function(){},s=e.error||i.error||function(){},l=t.extend(!0,i,e);return l.beforeSend=function(){this.wrapper.addClass("jBox-loading"),l.spinner&&(this.spinnerDelay=setTimeout(function(){this.wrapper.addClass("jBox-loading-spinner"),l.spinnerReposition&&(n?this.positionOnFadeComplete=!0:this.position()),this.spinner=t(!0!==l.spinner?l.spinner:'<div class="jBox-spinner"></div>').appendTo(this.container),this.titleContainer&&"absolute"==this.spinner.css("position")&&this.spinner.css({transform:"translateY("+.5*this.titleContainer.outerHeight()+"px)"})}.bind(this),""==this.content.html()?0:l.spinnerDelay||0)),r.bind(this)()}.bind(this),l.complete=function(t){this.spinnerDelay&&clearTimeout(this.spinnerDelay),this.wrapper.removeClass("jBox-loading jBox-loading-spinner jBox-loading-spinner-delay"),this.spinner&&this.spinner.length&&this.spinner.remove()&&l.spinnerReposition&&(n?this.positionOnFadeComplete=!0:this.position()),this.ajaxLoaded=!0,o.bind(this)(t)}.bind(this),l.success=function(t){l.setContent&&this.setContent(t,!0)&&(n?this.positionOnFadeComplete=!0:this.position()),l.setContent&&this.source&&this.source.data("jBox-ajax-data",t),a.bind(this)(t)}.bind(this),l.error=function(t){s.bind(this)(t)}.bind(this),this.ajaxRequest=t.ajax(l),this},n.prototype.audio=function(e,i){if(!e)return this;if(!n._audio&&(n._audio={}),!n._audio[e]){var r=t("<audio/>");t("<source/>",{src:e+".mp3"}).appendTo(r),t("<source/>",{src:e+".ogg"}).appendTo(r),n._audio[e]=r[0]}n._audio[e].volume=Math.min((i!=undefined?i:100)/100,1);try{n._audio[e].pause(),n._audio[e].currentTime=0}catch(o){}return n._audio[e].play(),this},n._animationSpeeds={tada:1e3,tadaSmall:1e3,flash:500,shake:400,pulseUp:250,pulseDown:250,popIn:250,popOut:250,fadeIn:200,fadeOut:200,slideUp:400,slideRight:400,slideLeft:400,slideDown:400},n.prototype.animate=function(t,e){!e&&(e={}),!this.animationTimeout&&(this.animationTimeout={}),!e.element&&(e.element=this.wrapper),!e.element.data("jBox-animating-id")&&e.element.data("jBox-animating-id",n._getUniqueElementID()),e.element.data("jBox-animating")&&(e.element.removeClass(e.element.data("jBox-animating")).data("jBox-animating",null),this.animationTimeout[e.element.data("jBox-animating-id")]&&clearTimeout(this.animationTimeout[e.element.data("jBox-animating-id")])),e.element.addClass("jBox-animated-"+t).data("jBox-animating","jBox-animated-"+t),this.animationTimeout[e.element.data("jBox-animating-id")]=setTimeout(function(){e.element.removeClass(e.element.data("jBox-animating")).data("jBox-animating",null),e.complete&&e.complete()},n._animationSpeeds[t])},n.prototype.destroy=function(){return this.detach(),this.isOpen&&this.close({ignoreDelay:!0}),this.wrapper&&this.wrapper.remove(),this.overlay&&this.overlay.remove(),this._styles&&this._styles.remove(),this.isDestroyed=!0,this},n._getUniqueID=(e=1,function(){return e++}),n._getUniqueElementID=function(){var t=1;return function(){return t++}}(),n._pluginOptions={},n.plugin=function(t,e){n._pluginOptions[t]=e},t.fn.jBox=function(e,i){return!e&&(e={}),!i&&(i={}),new n(e,t.extend(i,{attach:this}))},n}),
/*
 * Collapse plugin for jQuery
 * --
 * source: http://github.com/danielstocks/jQuery-Collapse/
 * site: http://webcloud.se/jQuery-Collapse
 *
 * @author Daniel Stocks (http://webcloud.se)
 * Copyright 2013, Daniel Stocks
 * Released under the MIT, BSD, and GPL Licenses.
 */
function(t,e){function n(e,n){var i,r=this,o=(n=n||{}).query||"> :even";t.extend(r,{$el:e,options:n,sections:[],isAccordion:n.accordion||!1,db:!!n.persist&&jQueryCollapseStorage(e.get(0).id)}),r.states=r.db?r.db.read():[],r.$el.find(o).each(function(){new jQueryCollapseSection(t(this),r)}),i=r,r.$el.on("click","[data-collapse-summary] "+(i.options.clickQuery||""),t.proxy(r.handleClick,i)),r.$el.bind("toggle close open",t.proxy(r.handleEvent,i))}function i(e,n){n.options.clickQuery||e.wrapInner('<a href="#"/>'),t.extend(this,{isOpen:!1,$summary:e.attr("data-collapse-summary",""),$details:e.next(),options:n.options,parent:n}),n.sections.push(this);var i=n.states[this._index()];0===i?this.close(!0):this.$summary.is(".open")||1===i?this.open(!0):this.close(!0)}n.prototype={handleClick:function(e,n){e.preventDefault(),n=n||"toggle";for(var i=this.sections,r=i.length;r--;)if(t.contains(i[r].$summary[0],e.target)){i[r][n]();break}},handleEvent:function(t){if(t.target==this.$el.get(0))return this[t.type]();this.handleClick(t,t.type)},open:function(t){this._change("open",t)},close:function(t){this._change("close",t)},toggle:function(t){this._change("toggle",t)},_change:function(e,n){if(isFinite(n))return this.sections[n][e]();t.each(this.sections,function(t,n){n[e]()})}},i.prototype={toggle:function(){this.isOpen?this.close():this.open()},close:function(t){this._changeState("close",t)},open:function(e){var n=this;n.options.accordion&&!e&&t.each(n.parent.sections,function(t,e){e.close()}),n._changeState("open",e)},_index:function(){return t.inArray(this,this.parent.sections)},_changeState:function(e,n){var i=this;i.isOpen="open"==e,t.isFunction(i.options[e])&&!n?i.options[e].apply(i.$details):i.$details[i.isOpen?"show":"hide"](),i.$summary.toggleClass("open","close"!==e),i.$details.attr("aria-hidden","close"===e),i.$summary.attr("aria-expanded","open"===e),i.$summary.trigger("open"===e?"opened":"closed",i),i.parent.db&&i.parent.db.write(i._index(),i.isOpen)}},t.fn.extend({collapse:function(e,i){return(i?t("body").find("[data-collapse]"):t(this)).each(function(){var r=i?{}:e,o=t(this).attr("data-collapse")||"";t.each(o.split(" "),function(t,e){e&&(r[e]=!0)}),new n(t(this),r)})}}),e.jQueryCollapse=n,e.jQueryCollapseSection=i,t(function(){t.fn.collapse(!1,!0)})}(window.jQuery,window),
/*! DataTables 1.13.2
 * 2008-2023 SpryMedia Ltd - datatables.net/license
 */
/**
 * @summary     DataTables
 * @description Paginate, search and order HTML tables
 * @version     1.13.2
 * @author      SpryMedia Ltd
 * @contact     www.datatables.net
 * @copyright   SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n,e,e.document)}:window.DataTable=t(jQuery,window,document)}(function(t,e,n,i){"use strict";function r(e){var n,i,o="a aa ai ao as b fn i m o s ",a={};t.each(e,function(t){(n=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!==o.indexOf(n[1]+" ")&&(i=t.replace(n[0],n[2].toLowerCase()),a[i]=t,"o"===n[1]&&r(e[t]))}),e._hungarianMap=a}function o(e,n,a){var s;e._hungarianMap||r(e),t.each(n,function(r){(s=e._hungarianMap[r])===i||!a&&n[s]!==i||("o"===s.charAt(0)?(n[s]||(n[s]={}),t.extend(!0,n[s],n[r]),o(e[s],n[s],a)):n[s]=n[r])})}function a(t){var e=Kt.defaults.oLanguage,n=e.sDecimal;if(n&&Ht(n),t){var i=t.sZeroRecords;!t.sEmptyTable&&i&&"No data available in table"===e.sEmptyTable&&Ft(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&i&&"Loading..."===e.sLoadingRecords&&Ft(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var r=t.sDecimal;r&&n!==r&&Ht(r)}}function s(t){ye(t,"ordering","bSort"),ye(t,"orderMulti","bSortMulti"),ye(t,"orderClasses","bSortClasses"),ye(t,"orderCellsTop","bSortCellsTop"),ye(t,"order","aaSorting"),ye(t,"orderFixed","aaSortingFixed"),ye(t,"paging","bPaginate"),ye(t,"pagingType","sPaginationType"),ye(t,"pageLength","iDisplayLength"),ye(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var n=0,i=e.length;n<i;n++)e[n]&&o(Kt.models.oSearch,e[n])}function l(t){ye(t,"orderable","bSortable"),ye(t,"orderData","aDataSort"),ye(t,"orderSequence","asSorting"),ye(t,"orderDataType","sortDataType");var e=t.aDataSort;"number"!=typeof e||Array.isArray(e)||(t.aDataSort=[e])}function u(n){if(!Kt.__browser){var i={};Kt.__browser=i;var r=t("<div/>").css({position:"fixed",top:0,left:-1*t(e).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=r.children(),a=o.children();i.barWidth=o[0].offsetWidth-o[0].clientWidth,i.bScrollOversize=100===a[0].offsetWidth&&100!==o[0].clientWidth,i.bScrollbarLeft=1!==Math.round(a.offset().left),i.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}t.extend(n.oBrowser,Kt.__browser),n.oScroll.iBarWidth=Kt.__browser.barWidth}function c(t,e,n,r,o,a){var s,l=r,u=!1;for(n!==i&&(s=n,u=!0);l!==o;)t.hasOwnProperty(l)&&(s=u?e(s,t[l],l,t):t[l],u=!0,l+=a);return s}function d(e,i){var r=Kt.defaults.column,o=e.aoColumns.length,a=t.extend({},Kt.models.oColumn,r,{nTh:i||n.createElement("th"),sTitle:r.sTitle?r.sTitle:i?i.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});e.aoColumns.push(a);var s=e.aoPreSearchCols;s[o]=t.extend({},Kt.models.oSearch,s[o]),f(e,o,t(i).data())}function f(e,n,r){var a=e.aoColumns[n],s=e.oClasses,u=t(a.nTh);if(!a.sWidthOrig){a.sWidthOrig=u.attr("width")||null;var c=(u.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(a.sWidthOrig=c[1])}if(r!==i&&null!==r){l(r),o(Kt.defaults.column,r,!0),r.mDataProp===i||r.mData||(r.mData=r.mDataProp),r.sType&&(a._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),r.sClass&&u.addClass(r.sClass);var d=a.sClass;t.extend(a,r),Ft(a,r,"sWidth","sWidthOrig"),d!==a.sClass&&(a.sClass=d+" "+a.sClass),r.iDataSort!==i&&(a.aDataSort=[r.iDataSort]),Ft(a,r,"aDataSort")}var f=a.mData,h=_e(f),p=a.mRender?_e(a.mRender):null,g=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};a._bAttrSrc=t.isPlainObject(f)&&(g(f.sort)||g(f.type)||g(f.filter)),a._setter=null,a.fnGetData=function(t,e,n){var r=h(t,e,i,n);return p&&e?p(r,e,t,n):r},a.fnSetData=function(t,e,n){return Ce(f)(t,e,n)},"number"!=typeof f&&(e._rowReadObject=!0),e.oFeatures.bSort||(a.bSortable=!1,u.addClass(s.sSortableNone));var m=-1!==t.inArray("asc",a.asSorting),v=-1!==t.inArray("desc",a.asSorting);a.bSortable&&(m||v)?m&&!v?(a.sSortingClass=s.sSortableAsc,a.sSortingClassJUI=s.sSortJUIAscAllowed):!m&&v?(a.sSortingClass=s.sSortableDesc,a.sSortingClassJUI=s.sSortJUIDescAllowed):(a.sSortingClass=s.sSortable,a.sSortingClassJUI=s.sSortJUI):(a.sSortingClass=s.sSortableNone,a.sSortingClassJUI="")}function h(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;mt(t);for(var n=0,i=e.length;n<i;n++)e[n].nTh.style.width=e[n].sWidth}var r=t.oScroll;""===r.sY&&""===r.sX||pt(t),Lt(t,null,"column-sizing",[t])}function p(t,e){var n=v(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function g(e,n){var i=v(e,"bVisible"),r=t.inArray(n,i);return-1!==r?r:null}function m(e){var n=0;return t.each(e.aoColumns,function(e,i){i.bVisible&&"none"!==t(i.nTh).css("display")&&n++}),n}function v(e,n){var i=[];return t.map(e.aoColumns,function(t,e){t[n]&&i.push(e)}),i}function b(t){var e,n,r,o,a,s,l,u,c,d=t.aoColumns,f=t.aoData,h=Kt.ext.type.detect;for(e=0,n=d.length;e<n;e++)if(c=[],!(l=d[e]).sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,o=h.length;r<o;r++){for(a=0,s=f.length;a<s&&(c[a]===i&&(c[a]=k(t,a,e,"type")),(u=h[r](c[a],t))||r===h.length-1)&&("html"!==u||re(c[a]));a++);if(u){l.sType=u;break}}l.sType||(l.sType="string")}}function y(e,n,r,o){var a,s,l,u,c,f,h,p=e.aoColumns;if(n)for(a=n.length-1;a>=0;a--){var g=(h=n[a]).target!==i?h.target:h.targets!==i?h.targets:h.aTargets;for(Array.isArray(g)||(g=[g]),l=0,u=g.length;l<u;l++)if("number"==typeof g[l]&&g[l]>=0){for(;p.length<=g[l];)d(e);o(g[l],h)}else if("number"==typeof g[l]&&g[l]<0)o(p.length+g[l],h);else if("string"==typeof g[l])for(c=0,f=p.length;c<f;c++)("_all"==g[l]||t(p[c].nTh).hasClass(g[l]))&&o(c,h)}if(r)for(a=0,s=r.length;a<s;a++)o(a,r[a])}function x(e,n,r,o){var a=e.aoData.length,s=t.extend(!0,{},Kt.models.oRow,{src:r?"dom":"data",idx:a});s._aData=n,e.aoData.push(s);for(var l=e.aoColumns,u=0,c=l.length;u<c;u++)l[u].sType=null;e.aiDisplayMaster.push(a);var d=e.rowIdFn(n);return d!==i&&(e.aIds[d]=s),!r&&e.oFeatures.bDeferRender||$(e,a,r,o),a}function w(e,n){var i;return n instanceof t||(n=t(n)),n.map(function(t,n){return i=j(e,n),x(e,i.data,n,i.cells)})}function _(t,e){return e._DT_RowIndex!==i?e._DT_RowIndex:null}function C(e,n,i){return t.inArray(i,e.aoData[n].anCells)}function k(t,e,n,r){"search"===r?r="filter":"order"===r&&(r="sort");var o=t.iDraw,a=t.aoColumns[n],s=t.aoData[e]._aData,l=a.sDefaultContent,u=a.fnGetData(s,r,{settings:t,row:e,col:n});if(u===i)return t.iDrawError!=o&&null===l&&($t(t,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=o),l;if(u!==s&&null!==u||null===l||r===i){if("function"==typeof u)return u.call(s)}else u=l;if(null===u&&"display"===r)return"";if("filter"===r){var c=Kt.ext.type.search;c[a.sType]&&(u=c[a.sType](u))}return u}function S(t,e,n,i){var r=t.aoColumns[n],o=t.aoData[e]._aData;r.fnSetData(o,i,{settings:t,row:e,col:n})}function T(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function M(t){return ce(t.aoData,"_aData")}function D(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function A(t,e,n){for(var r=-1,o=0,a=t.length;o<a;o++)t[o]==e?r=o:t[o]>e&&t[o]--;-1!=r&&n===i&&t.splice(r,1)}function I(t,e,n,r){var o,a,s=t.aoData[e],l=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=k(t,e,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var u=s.anCells;if(u)if(r!==i)l(u[r],r);else for(o=0,a=u.length;o<a;o++)l(u[o],o)}else s._aData=j(t,s,r,r===i?i:s._aData).data;s._aSortData=null,s._aFilterData=null;var c=t.aoColumns;if(r!==i)c[r].sType=null;else{for(o=0,a=c.length;o<a;o++)c[o].sType=null;F(t,s)}}function j(t,e,n,r){var o,a,s,l=[],u=e.firstChild,c=0,d=t.aoColumns,f=t._rowReadObject;r=r!==i?r:f?{}:[];var h=function(t,e){if("string"==typeof t){var n=t.indexOf("@");if(-1!==n){var i=t.substring(n+1);Ce(t)(r,e.getAttribute(i))}}},p=function(t){n!==i&&n!==c||(a=d[c],s=t.innerHTML.trim(),a&&a._bAttrSrc?(Ce(a.mData._)(r,s),h(a.mData.sort,t),h(a.mData.type,t),h(a.mData.filter,t)):f?(a._setter||(a._setter=Ce(a.mData)),a._setter(r,s)):r[c]=s);c++};if(u)for(;u;)"TD"!=(o=u.nodeName.toUpperCase())&&"TH"!=o||(p(u),l.push(u)),u=u.nextSibling;else for(var g=0,m=(l=e.anCells).length;g<m;g++)p(l[g]);var v=e.firstChild?e:e.nTr;if(v){var b=v.getAttribute("id");b&&Ce(t.rowId)(r,b)}return{data:r,cells:l}}function $(e,i,r,o){var a,s,l,u,c,d,f=e.aoData[i],h=f._aData,p=[];if(null===f.nTr){for(a=r||n.createElement("tr"),f.nTr=a,f.anCells=p,a._DT_RowIndex=i,F(e,f),u=0,c=e.aoColumns.length;u<c;u++)l=e.aoColumns[u],(s=(d=!r)?n.createElement(l.sCellType):o[u])||$t(e,0,"Incorrect column count",18),s._DT_CellIndex={row:i,column:u},p.push(s),!d&&(!l.mRender&&l.mData===u||t.isPlainObject(l.mData)&&l.mData._===u+".display")||(s.innerHTML=k(e,i,u,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!r?a.appendChild(s):!l.bVisible&&r&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,s,k(e,i,u),h,i,u);Lt(e,"aoRowCreatedCallback",null,[a,h,i,p])}}function F(e,n){var i=n.nTr,r=n._aData;if(i){var o=e.rowIdFn(r);if(o&&(i.id=o),r.DT_RowClass){var a=r.DT_RowClass.split(" ");n.__rowc=n.__rowc?me(n.__rowc.concat(a)):a,t(i).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)}r.DT_RowAttr&&t(i).attr(r.DT_RowAttr),r.DT_RowData&&t(i).data(r.DT_RowData)}}function E(e){var n,i,r,o,a,s=e.nTHead,l=e.nTFoot,u=0===t("th, td",s).length,c=e.oClasses,d=e.aoColumns;for(u&&(o=t("<tr/>").appendTo(s)),n=0,i=d.length;n<i;n++)a=d[n],r=t(a.nTh).addClass(a.sClass),u&&r.appendTo(o),e.oFeatures.bSort&&(r.addClass(a.sSortingClass),!1!==a.bSortable&&(r.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),St(e,a.nTh,n))),a.sTitle!=r[0].innerHTML&&r.html(a.sTitle),Bt(e,"header")(e,r,a,c);if(u&&B(e.aoHeader,s),t(s).children("tr").children("th, td").addClass(c.sHeaderTH),t(l).children("tr").children("th, td").addClass(c.sFooterTH),null!==l){var f=e.aoFooter[0];for(n=0,i=f.length;n<i;n++)(a=d[n])?(a.nTf=f[n].cell,a.sClass&&t(a.nTf).addClass(a.sClass)):$t(e,0,"Incorrect column count",18)}}function O(e,n,r){var o,a,s,l,u,c,d,f,h,p=[],g=[],m=e.aoColumns.length;if(n){for(r===i&&(r=!1),o=0,a=n.length;o<a;o++){for(p[o]=n[o].slice(),p[o].nTr=n[o].nTr,s=m-1;s>=0;s--)e.aoColumns[s].bVisible||r||p[o].splice(s,1);g.push([])}for(o=0,a=p.length;o<a;o++){if(d=p[o].nTr)for(;c=d.firstChild;)d.removeChild(c);for(s=0,l=p[o].length;s<l;s++)if(f=1,h=1,g[o][s]===i){for(d.appendChild(p[o][s].cell),g[o][s]=1;p[o+f]!==i&&p[o][s].cell==p[o+f][s].cell;)g[o+f][s]=1,f++;for(;p[o][s+h]!==i&&p[o][s].cell==p[o][s+h].cell;){for(u=0;u<f;u++)g[o+u][s+h]=1;h++}t(p[o][s].cell).attr("rowspan",f).attr("colspan",h)}}}}function P(e,n){z(e);var i=Lt(e,"aoPreDrawCallback","preDraw",[e]);if(-1===t.inArray(!1,i)){var r=[],o=0,a=e.asStripeClasses,s=a.length,l=e.oLanguage,u="ssp"==Rt(e),c=e.aiDisplay,d=e._iDisplayStart,f=e.fnDisplayEnd();if(e.bDrawing=!0,e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,ft(e,!1);else if(u){if(!e.bDestroying&&!n)return void U(e)}else e.iDraw++;if(0!==c.length)for(var h=u?0:d,p=u?e.aoData.length:f,g=h;g<p;g++){var v=c[g],b=e.aoData[v];null===b.nTr&&$(e,v);var y=b.nTr;if(0!==s){var x=a[o%s];b._sRowStripe!=x&&(t(y).removeClass(b._sRowStripe).addClass(x),b._sRowStripe=x)}Lt(e,"aoRowCallback",null,[y,b._aData,o,g,v]),r.push(y),o++}else{var w=l.sZeroRecords;1==e.iDraw&&"ajax"==Rt(e)?w=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(w=l.sEmptyTable),r[0]=t("<tr/>",{"class":s?a[0]:""}).append(t("<td />",{valign:"top",colSpan:m(e),"class":e.oClasses.sRowEmpty}).html(w))[0]}Lt(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],M(e),d,f,c]),Lt(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],M(e),d,f,c]);var _=t(e.nTBody);_.children().detach(),_.append(t(r)),Lt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}else ft(e,!1)}function L(t,e){var n=t.oFeatures,i=n.bSort,r=n.bFilter;i&&_t(t),r?X(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,P(t),t._drawHold=!1}function N(e){var n=e.oClasses,i=t(e.nTable),r=t("<div/>").insertBefore(i),o=e.oFeatures,a=t("<div/>",{id:e.sTableId+"_wrapper","class":n.sWrapper+(e.nTFoot?"":" "+n.sNoFooter)});e.nHolding=r[0],e.nTableWrapper=a[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,l,u,c,d,f,h=e.sDom.split(""),p=0;p<h.length;p++){if(s=null,"<"==(l=h[p])){if(u=t("<div/>")[0],"'"==(c=h[p+1])||'"'==c){for(d="",f=2;h[p+f]!=c;)d+=h[p+f],f++;if("H"==d?d=n.sJUIHeader:"F"==d&&(d=n.sJUIFooter),-1!=d.indexOf(".")){var g=d.split(".");u.id=g[0].substr(1,g[0].length-1),u.className=g[1]}else"#"==d.charAt(0)?u.id=d.substr(1,d.length-1):u.className=d;p+=f}a.append(u),a=t(u)}else if(">"==l)a=a.parent();else if("l"==l&&o.bPaginate&&o.bLengthChange)s=lt(e);else if("f"==l&&o.bFilter)s=Y(e);else if("r"==l&&o.bProcessing)s=dt(e);else if("t"==l)s=ht(e);else if("i"==l&&o.bInfo)s=nt(e);else if("p"==l&&o.bPaginate)s=ut(e);else if(0!==Kt.ext.feature.length)for(var m=Kt.ext.feature,v=0,b=m.length;v<b;v++)if(l==m[v].cFeature){s=m[v].fnInit(e);break}if(s){var y=e.aanFeatures;y[l]||(y[l]=[]),y[l].push(s),a.append(s)}}r.replaceWith(a),e.nHolding=null}function B(e,n){var i,r,o,a,s,l,u,c,d,f,h,p=t(n).children("tr"),g=function(t,e,n){for(var i=t[e];i[n];)n++;return n};for(e.splice(0,e.length),o=0,l=p.length;o<l;o++)e.push([]);for(o=0,l=p.length;o<l;o++)for(c=0,r=(i=p[o]).firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase())for(d=(d=1*r.getAttribute("colspan"))&&0!==d&&1!==d?d:1,f=(f=1*r.getAttribute("rowspan"))&&0!==f&&1!==f?f:1,u=g(e,o,c),h=1===d,s=0;s<d;s++)for(a=0;a<f;a++)e[o+a][u+s]={cell:r,unique:h},e[o+a].nTr=i;r=r.nextSibling}}function R(t,e,n){var i=[];n||(n=t.aoHeader,e&&B(n=[],e));for(var r=0,o=n.length;r<o;r++)for(var a=0,s=n[r].length;a<s;a++)!n[r][a].unique||i[a]&&t.bSortCellsTop||(i[a]=n[r][a].cell);return i}function z(t){var e="ssp"==Rt(t),n=t.iInitDisplayStart;n!==i&&-1!==n&&(t._iDisplayStart=e?n:n>=t.fnRecordsDisplay()?0:n,t.iInitDisplayStart=-1)}function H(e,n,i){if(Lt(e,"aoServerParams","serverParams",[n]),n&&Array.isArray(n)){var r={},o=/(.*?)\[\]$/;t.each(n,function(t,e){var n=e.name.match(o);if(n){var i=n[0];r[i]||(r[i]=[]),r[i].push(e.value)}else r[e.name]=e.value}),n=r}var a,s=e.ajax,l=e.oInstance,u=function(t){var n=e.jqXHR?e.jqXHR.status:null;(null===t||"number"==typeof n&&204==n)&&V(e,t={},[]);var r=t.error||t.sError;r&&$t(e,0,r),e.json=t,Lt(e,null,"xhr",[e,t,e.jqXHR]),i(t)};if(t.isPlainObject(s)&&s.data){var c="function"==typeof(a=s.data)?a(n,e):a;n="function"==typeof a&&c?c:t.extend(!0,n,c),delete s.data}var d={data:n,success:u,dataType:"json",cache:!1,type:e.sServerMethod,error:function(n,i){var r=Lt(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,r)&&("parsererror"==i?$t(e,0,"Invalid JSON response",1):4===n.readyState&&$t(e,0,"Ajax error",7)),ft(e,!1)}};e.oAjaxData=n,Lt(e,null,"preXhr",[e,n]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(n,function(t,e){return{name:e,value:t}}),u,e):e.sAjaxSource||"string"==typeof s?e.jqXHR=t.ajax(t.extend(d,{url:s||e.sAjaxSource})):"function"==typeof s?e.jqXHR=s.call(l,n,u,e):(e.jqXHR=t.ajax(t.extend(d,s)),s.data=a)}function U(t){t.iDraw++,ft(t,!0),H(t,q(t),function(e){W(t,e)})}function q(e){var n,i,r,o,a=e.aoColumns,s=a.length,l=e.oFeatures,u=e.oPreviousSearch,c=e.aoPreSearchCols,d=[],f=wt(e),h=e._iDisplayStart,p=!1!==l.bPaginate?e._iDisplayLength:-1,g=function(t,e){d.push({name:t,value:e})};g("sEcho",e.iDraw),g("iColumns",s),g("sColumns",ce(a,"sName").join(",")),g("iDisplayStart",h),g("iDisplayLength",p);var m={draw:e.iDraw,columns:[],order:[],start:h,length:p,search:{value:u.sSearch,regex:u.bRegex}};for(n=0;n<s;n++)r=a[n],o=c[n],i="function"==typeof r.mData?"function":r.mData,m.columns.push({data:i,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),g("mDataProp_"+n,i),l.bFilter&&(g("sSearch_"+n,o.sSearch),g("bRegex_"+n,o.bRegex),g("bSearchable_"+n,r.bSearchable)),l.bSort&&g("bSortable_"+n,r.bSortable);l.bFilter&&(g("sSearch",u.sSearch),g("bRegex",u.bRegex)),l.bSort&&(t.each(f,function(t,e){m.order.push({column:e.col,dir:e.dir}),g("iSortCol_"+t,e.col),g("sSortDir_"+t,e.dir)}),g("iSortingCols",f.length));var v=Kt.ext.legacy.ajax;return null===v?e.sAjaxSource?d:m:v?d:m}function W(t,e){var n=function(t,n){return e[t]!==i?e[t]:e[n]},r=V(t,e),o=n("sEcho","draw"),a=n("iTotalRecords","recordsTotal"),s=n("iTotalDisplayRecords","recordsFiltered");if(o!==i){if(1*o<t.iDraw)return;t.iDraw=1*o}r||(r=[]),D(t),t._iRecordsTotal=parseInt(a,10),t._iRecordsDisplay=parseInt(s,10);for(var l=0,u=r.length;l<u;l++)x(t,r[l]);t.aiDisplay=t.aiDisplayMaster.slice(),P(t,!0),t._bInitComplete||at(t,e),ft(t,!1)}function V(e,n,r){var o=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==i?e.ajax.dataSrc:e.sAjaxDataProp;if(!r)return"data"===o?n.aaData||n[o]:""!==o?_e(o)(n):n;Ce(o)(n,r)}function Y(e){var i=e.oClasses,r=e.sTableId,o=e.oLanguage,a=e.oPreviousSearch,s=e.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',u=o.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",l):u+l;var c=t("<div/>",{id:s.f?null:r+"_filter","class":i.sFilter}).append(t("<label/>").append(u)),d=function(t){s.f;var n=this.value?this.value:"";a["return"]&&"Enter"!==t.key||n!=a.sSearch&&(X(e,{sSearch:n,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive,"return":a["return"]}),e._iDisplayStart=0,P(e))},f=null!==e.searchDelay?e.searchDelay:"ssp"===Rt(e)?400:0,h=t("input",c).val(a.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",f?De(d,f):d).on("mouseup",function(t){setTimeout(function(){d.call(h[0],t)},10)}).on("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",r);return t(e.nTable).on("search.dt.DT",function(t,i){if(e===i)try{h[0]!==n.activeElement&&h.val(a.sSearch)}catch(r){}}),c[0]}function X(t,e,n){var r=t.oPreviousSearch,o=t.aoPreSearchCols,a=function(t){r.sSearch=t.sSearch,r.bRegex=t.bRegex,r.bSmart=t.bSmart,r.bCaseInsensitive=t.bCaseInsensitive,r["return"]=t["return"]},s=function(t){return t.bEscapeRegex!==i?!t.bEscapeRegex:t.bRegex};if(b(t),"ssp"!=Rt(t)){K(t,e.sSearch,n,s(e),e.bSmart,e.bCaseInsensitive,e["return"]),a(e);for(var l=0;l<o.length;l++)Z(t,o[l].sSearch,l,s(o[l]),o[l].bSmart,o[l].bCaseInsensitive);G(t)}else a(e);t.bFiltered=!0,Lt(t,null,"search",[t])}function G(e){for(var n,i,r=Kt.ext.search,o=e.aiDisplay,a=0,s=r.length;a<s;a++){for(var l=[],u=0,c=o.length;u<c;u++)i=o[u],n=e.aoData[i],r[a](e,n._aFilterData,i,n._aData,u)&&l.push(i);o.length=0,t.merge(o,l)}}function Z(t,e,n,i,r,o){if(""!==e){for(var a,s=[],l=t.aiDisplay,u=J(e,i,r,o),c=0;c<l.length;c++)a=t.aoData[l[c]]._aFilterData[n],u.test(a)&&s.push(l[c]);t.aiDisplay=s}}function K(t,e,n,i,r,o){var a,s,l,u=J(e,i,r,o),c=t.oPreviousSearch.sSearch,d=t.aiDisplayMaster,f=[];if(0!==Kt.ext.search.length&&(n=!0),s=Q(t),e.length<=0)t.aiDisplay=d.slice();else{for((s||n||i||c.length>e.length||0!==e.indexOf(c)||t.bSorted)&&(t.aiDisplay=d.slice()),a=t.aiDisplay,l=0;l<a.length;l++)u.test(t.aoData[a[l]]._sFilterRow)&&f.push(a[l]);t.aiDisplay=f}}function J(e,n,i,r){(e=n?e:ke(e),i)&&(e="^(?=.*?"+t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}).join(")(?=.*?")+").*$");return new RegExp(e,r?"i":"")}function Q(t){var e,n,i,r,o,a,s,l=t.aoColumns,u=!1;for(e=0,i=t.aoData.length;e<i;e++)if(!(s=t.aoData[e])._aFilterData){for(o=[],n=0,r=l.length;n<r;n++)l[n].bSearchable?(null===(a=k(t,e,n,"filter"))&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(Se.innerHTML=a,a=Te?Se.textContent:Se.innerText),a.replace&&(a=a.replace(/[\r\n\u2028]/g,"")),o.push(a);s._aFilterData=o,s._sFilterRow=o.join("  "),u=!0}return u}function tt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function et(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function nt(e){var n=e.sTableId,i=e.aanFeatures.i,r=t("<div/>",{"class":e.oClasses.sInfo,id:i?null:n+"_info"});return i||(e.aoDrawCallback.push({fn:it,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",n+"_info")),r[0]}function it(e){var n=e.aanFeatures.i;if(0!==n.length){var i=e.oLanguage,r=e._iDisplayStart+1,o=e.fnDisplayEnd(),a=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),l=s?i.sInfo:i.sInfoEmpty;s!==a&&(l+=" "+i.sInfoFiltered),l=rt(e,l+=i.sInfoPostFix);var u=i.fnInfoCallback;null!==u&&(l=u.call(e.oInstance,e,r,o,a,s,l)),t(n).html(l)}}function rt(t,e){var n=t.fnFormatNumber,i=t._iDisplayStart+1,r=t._iDisplayLength,o=t.fnRecordsDisplay(),a=-1===r;return e.replace(/_START_/g,n.call(t,i)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,o)).replace(/_PAGE_/g,n.call(t,a?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(t,a?1:Math.ceil(o/r)))}function ot(t){var e,n,i,r=t.iInitDisplayStart,o=t.aoColumns,a=t.oFeatures,s=t.bDeferLoading;if(t.bInitialised){for(N(t),E(t),O(t,t.aoHeader),O(t,t.aoFooter),ft(t,!0),a.bAutoWidth&&mt(t),e=0,n=o.length;e<n;e++)(i=o[e]).sWidth&&(i.nTh.style.width=xt(i.sWidth));Lt(t,null,"preInit",[t]),L(t);var l=Rt(t);("ssp"!=l||s)&&("ajax"==l?H(t,[],function(n){var i=V(t,n);for(e=0;e<i.length;e++)x(t,i[e]);t.iInitDisplayStart=r,L(t),ft(t,!1),at(t,n)},t):(ft(t,!1),at(t)))}else setTimeout(function(){ot(t)},200)}function at(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&h(t),Lt(t,null,"plugin-init",[t,e]),Lt(t,"aoInitComplete","init",[t,e])}function st(t,e){var n=parseInt(e,10);t._iDisplayLength=n,Nt(t),Lt(t,null,"length",[t,n])}function lt(e){for(var n=e.oClasses,i=e.sTableId,r=e.aLengthMenu,o=Array.isArray(r[0]),a=o?r[0]:r,s=o?r[1]:r,l=t("<select/>",{name:i+"_length","aria-controls":i,"class":n.sLengthSelect}),u=0,c=a.length;u<c;u++)l[0][u]=new Option("number"==typeof s[u]?e.fnFormatNumber(s[u]):s[u],a[u]);var d=t("<div><label/></div>").addClass(n.sLength);return e.aanFeatures.l||(d[0].id=i+"_length"),d.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",d).val(e._iDisplayLength).on("change.DT",function(){st(e,t(this).val()),P(e)}),t(e.nTable).on("length.dt.DT",function(n,i,r){e===i&&t("select",d).val(r)}),d[0]}function ut(e){var n=e.sPaginationType,i=Kt.ext.pager[n],r="function"==typeof i,o=function(t){P(t)},a=t("<div/>").addClass(e.oClasses.sPaging+n)[0],s=e.aanFeatures;return r||i.fnInit(e,a,o),s.p||(a.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(r){var e,n,a=t._iDisplayStart,l=t._iDisplayLength,u=t.fnRecordsDisplay(),c=-1===l,d=c?0:Math.ceil(a/l),f=c?1:Math.ceil(u/l),h=i(d,f);for(e=0,n=s.p.length;e<n;e++)Bt(t,"pageButton")(t,s.p[e],e,h,d,f)}else i.fnUpdate(t,o)},sName:"pagination"})),a}function ct(t,e,n){var i=t._iDisplayStart,r=t._iDisplayLength,o=t.fnRecordsDisplay();0===o||-1===r?i=0:"number"==typeof e?(i=e*r)>o&&(i=0):"first"==e?i=0:"previous"==e?(i=r>=0?i-r:0)<0&&(i=0):"next"==e?i+r<o&&(i+=r):"last"==e?i=Math.floor((o-1)/r)*r:$t(t,0,"Unknown paging action: "+e,5);var a=t._iDisplayStart!==i;return t._iDisplayStart=i,a?(Lt(t,null,"page",[t]),n&&P(t)):Lt(t,null,"page-nc",[t]),a}function dt(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(e.nTable)[0]}function ft(e,n){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",n?"block":"none"),Lt(e,null,"processing",[e,n])}function ht(e){var n=t(e.nTable),i=e.oScroll;if(""===i.sX&&""===i.sY)return e.nTable;var r=i.sX,o=i.sY,a=e.oClasses,s=n.children("caption"),l=s.length?s[0]._captionSide:null,u=t(n[0].cloneNode(!1)),c=t(n[0].cloneNode(!1)),d=n.children("tfoot"),f="<div/>",h=function(t){return t?xt(t):null};d.length||(d=null);var p=t(f,{"class":a.sScrollWrapper}).append(t(f,{"class":a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?h(r):"100%"}).append(t(f,{"class":a.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(n.children("thead"))))).append(t(f,{"class":a.sScrollBody}).css({position:"relative",overflow:"auto",width:h(r)}).append(n));d&&p.append(t(f,{"class":a.sScrollFoot}).css({overflow:"hidden",border:0,width:r?h(r):"100%"}).append(t(f,{"class":a.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(n.children("tfoot")))));var g=p.children(),m=g[0],v=g[1],b=d?g[2]:null;return r&&t(v).on("scroll.DT",function(){var t=this.scrollLeft;m.scrollLeft=t,d&&(b.scrollLeft=t)}),t(v).css("max-height",o),i.bCollapse||t(v).css("height",o),e.nScrollHead=m,e.nScrollBody=v,e.nScrollFoot=b,e.aoDrawCallback.push({fn:pt,sName:"scrolling"}),p[0]}function pt(n){var r,o,a,s,l,u,c,d,f,g=n.oScroll,m=g.sX,v=g.sXInner,b=g.sY,y=g.iBarWidth,x=t(n.nScrollHead),w=x[0].style,_=x.children("div"),C=_[0].style,k=_.children("table"),S=n.nScrollBody,T=t(S),M=S.style,D=t(n.nScrollFoot).children("div"),A=D.children("table"),I=t(n.nTHead),j=t(n.nTable),$=j[0],F=$.style,E=n.nTFoot?t(n.nTFoot):null,O=n.oBrowser,P=O.bScrollOversize,L=(ce(n.aoColumns,"nTh"),[]),N=[],B=[],z=[],H=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},U=S.scrollHeight>S.clientHeight;if(n.scrollBarVis!==U&&n.scrollBarVis!==i)return n.scrollBarVis=U,void h(n);n.scrollBarVis=U,j.children("thead, tfoot").remove(),E&&(u=E.clone().prependTo(j),o=E.find("tr"),s=u.find("tr"),u.find("[id]").removeAttr("id")),l=I.clone().prependTo(j),r=I.find("tr"),a=l.find("tr"),l.find("th, td").removeAttr("tabindex"),l.find("[id]").removeAttr("id"),m||(M.width="100%",x[0].style.width="100%"),t.each(R(n,l),function(t,e){c=p(n,t),e.style.width=n.aoColumns[c].sWidth}),E&&gt(function(t){t.style.width=""},s),f=j.outerWidth(),""===m?(F.width="100%",P&&(j.find("tbody").height()>S.offsetHeight||"scroll"==T.css("overflow-y"))&&(F.width=xt(j.outerWidth()-y)),f=j.outerWidth()):""!==v&&(F.width=xt(v),f=j.outerWidth()),gt(H,a),gt(function(n){var i=e.getComputedStyle?e.getComputedStyle(n).width:xt(t(n).width());B.push(n.innerHTML),L.push(i)},a),gt(function(t,e){t.style.width=L[e]},r),t(a).css("height",0),E&&(gt(H,s),gt(function(e){z.push(e.innerHTML),N.push(xt(t(e).css("width")))},s),gt(function(t,e){t.style.width=N[e]},o),t(s).height(0)),gt(function(t,e){t.innerHTML='<div class="dataTables_sizing">'+B[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=L[e]},a),E&&gt(function(t,e){t.innerHTML='<div class="dataTables_sizing">'+z[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=N[e]},s),Math.round(j.outerWidth())<Math.round(f)?(d=S.scrollHeight>S.offsetHeight||"scroll"==T.css("overflow-y")?f+y:f,P&&(S.scrollHeight>S.offsetHeight||"scroll"==T.css("overflow-y"))&&(F.width=xt(d-y)),""!==m&&""===v||$t(n,1,"Possible column misalignment",6)):d="100%",M.width=xt(d),w.width=xt(d),E&&(n.nScrollFoot.style.width=xt(d)),b||P&&(M.height=xt($.offsetHeight+y));var q=j.outerWidth();k[0].style.width=xt(q),C.width=xt(q);var W=j.height()>S.clientHeight||"scroll"==T.css("overflow-y"),V="padding"+(O.bScrollbarLeft?"Left":"Right");C[V]=W?y+"px":"0px",E&&(A[0].style.width=xt(q),D[0].style.width=xt(q),D[0].style[V]=W?y+"px":"0px"),j.children("colgroup").insertBefore(j.children("thead")),T.trigger("scroll"),!n.bSorted&&!n.bFiltered||n._drawHold||(S.scrollTop=0)}function gt(t,e,n){for(var i,r,o=0,a=0,s=e.length;a<s;){for(i=e[a].firstChild,r=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?t(i,r,o):t(i,o),o++),i=i.nextSibling,r=n?r.nextSibling:null;a++}}function mt(n){var i,r,o,a=n.nTable,s=n.aoColumns,l=n.oScroll,u=l.sY,c=l.sX,d=l.sXInner,f=s.length,g=v(n,"bVisible"),b=t("th",n.nTHead),y=a.getAttribute("width"),x=a.parentNode,w=!1,_=n.oBrowser,C=_.bScrollOversize,k=a.style.width;for(k&&-1!==k.indexOf("%")&&(y=k),i=0;i<g.length;i++)null!==(r=s[g[i]]).sWidth&&(r.sWidth=vt(r.sWidthOrig,x),w=!0);if(C||!w&&!c&&!u&&f==m(n)&&f==b.length)for(i=0;i<f;i++){var S=p(n,i);null!==S&&(s[S].sWidth=xt(b.eq(i).width()))}else{var T=t(a).clone().css("visibility","hidden").removeAttr("id");T.find("tbody tr").remove();var M=t("<tr/>").appendTo(T.find("tbody"));for(T.find("thead, tfoot").remove(),T.append(t(n.nTHead).clone()).append(t(n.nTFoot).clone()),T.find("tfoot th, tfoot td").css("width",""),b=R(n,T.find("thead")[0]),i=0;i<g.length;i++)r=s[g[i]],b[i].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?xt(r.sWidthOrig):"",r.sWidthOrig&&c&&t(b[i]).append(t("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(i=0;i<g.length;i++)r=s[o=g[i]],t(bt(n,o)).clone(!1).append(r.sContentPadding).appendTo(M);t("[name]",T).removeAttr("name");var D=t("<div/>").css(c||u?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(T).appendTo(x);c&&d?T.width(d):c?(T.css("width","auto"),T.removeAttr("width"),T.width()<x.clientWidth&&y&&T.width(x.clientWidth)):u?T.width(x.clientWidth):y&&T.width(y);var A=0;for(i=0;i<g.length;i++){var I=t(b[i]),j=I.outerWidth()-I.width(),$=_.bBounding?Math.ceil(b[i].getBoundingClientRect().width):I.outerWidth();A+=$,s[g[i]].sWidth=xt($-j)}a.style.width=xt(A),D.remove()}if(y&&(a.style.width=xt(y)),(y||c)&&!n._reszEvt){var F=function(){t(e).on("resize.DT-"+n.sInstance,De(function(){h(n)}))};C?setTimeout(F,1e3):F(),n._reszEvt=!0}}function vt(e,i){if(!e)return 0;var r=t("<div/>").css("width",xt(e)).appendTo(i||n.body),o=r[0].offsetWidth;return r.remove(),o}function bt(e,n){var i=yt(e,n);if(i<0)return null;var r=e.aoData[i];return r.nTr?r.anCells[n]:t("<td/>").html(k(e,i,n,"display"))[0]}function yt(t,e){for(var n,i=-1,r=-1,o=0,a=t.aoData.length;o<a;o++)(n=(n=(n=k(t,o,e,"display")+"").replace(Me,"")).replace(/&nbsp;/g," ")).length>i&&(i=n.length,r=o);return r}function xt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function wt(e){var n,r,o,a,s,l,u,c=[],d=e.aoColumns,f=e.aaSortingFixed,h=t.isPlainObject(f),p=[],g=function(e){e.length&&!Array.isArray(e[0])?p.push(e):t.merge(p,e)};for(Array.isArray(f)&&g(f),h&&f.pre&&g(f.pre),g(e.aaSorting),h&&f.post&&g(f.post),n=0;n<p.length;n++)for(r=0,o=(a=d[u=p[n][0]].aDataSort).length;r<o;r++)l=d[s=a[r]].sType||"string",p[n]._idx===i&&(p[n]._idx=t.inArray(p[n][1],d[s].asSorting)),c.push({src:u,col:s,dir:p[n][1],index:p[n]._idx,type:l,formatter:Kt.ext.type.order[l+"-pre"]});return c}function _t(t){var e,n,i,r,o,a=[],s=Kt.ext.type.order,l=t.aoData,u=(t.aoColumns,0),c=t.aiDisplayMaster;for(b(t),e=0,n=(o=wt(t)).length;e<n;e++)(r=o[e]).formatter&&u++,Mt(t,r.col);if("ssp"!=Rt(t)&&0!==o.length){for(e=0,i=c.length;e<i;e++)a[c[e]]=e;u===o.length?c.sort(function(t,e){var n,i,r,s,u,c=o.length,d=l[t]._aSortData,f=l[e]._aSortData;for(r=0;r<c;r++)if(0!==(s=(n=d[(u=o[r]).col])<(i=f[u.col])?-1:n>i?1:0))return"asc"===u.dir?s:-s;return(n=a[t])<(i=a[e])?-1:n>i?1:0}):c.sort(function(t,e){var n,i,r,u,c,d=o.length,f=l[t]._aSortData,h=l[e]._aSortData;for(r=0;r<d;r++)if(n=f[(c=o[r]).col],i=h[c.col],0!==(u=(s[c.type+"-"+c.dir]||s["string-"+c.dir])(n,i)))return u;return(n=a[t])<(i=a[e])?-1:n>i?1:0})}t.bSorted=!0}function Ct(t){for(var e,n,i=t.aoColumns,r=wt(t),o=t.oLanguage.oAria,a=0,s=i.length;a<s;a++){var l=i[a],u=l.asSorting,c=l.ariaTitle||l.sTitle.replace(/<.*?>/g,""),d=l.nTh;d.removeAttribute("aria-sort"),l.bSortable?(r.length>0&&r[0].col==a?(d.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=u[r[0].index+1]||u[0]):n=u[0],e=c+("asc"===n?o.sSortAscending:o.sSortDescending)):e=c,d.setAttribute("aria-label",e)}}function kt(e,n,r,o){var a,s=e.aoColumns[n],l=e.aaSorting,u=s.asSorting,c=function(e,n){var r=e._idx;return r===i&&(r=t.inArray(e[1],u)),r+1<u.length?r+1:n?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),r&&e.oFeatures.bSortMulti){var d=t.inArray(n,ce(l,"0"));-1!==d?(null===(a=c(l[d],!0))&&1===l.length&&(a=0),null===a?l.splice(d,1):(l[d][1]=u[a],l[d]._idx=a)):(l.push([n,u[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==n?(a=c(l[0]),l.length=1,l[0][1]=u[a],l[0]._idx=a):(l.length=0,l.push([n,u[0]]),l[0]._idx=0);L(e),"function"==typeof o&&o(e)}function St(t,e,n,i){var r=t.aoColumns[n];Ot(e,{},function(e){!1!==r.bSortable&&(t.oFeatures.bProcessing?(ft(t,!0),setTimeout(function(){kt(t,n,e.shiftKey,i),
"ssp"!==Rt(t)&&ft(t,!1)},0)):kt(t,n,e.shiftKey,i))})}function Tt(e){var n,i,r,o=e.aLastSort,a=e.oClasses.sSortColumn,s=wt(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(n=0,i=o.length;n<i;n++)r=o[n].src,t(ce(e.aoData,"anCells",r)).removeClass(a+(n<2?n+1:3));for(n=0,i=s.length;n<i;n++)r=s[n].src,t(ce(e.aoData,"anCells",r)).addClass(a+(n<2?n+1:3))}e.aLastSort=s}function Mt(t,e){var n,i,r,o=t.aoColumns[e],a=Kt.ext.order[o.sSortDataType];a&&(n=a.call(t.oInstance,t,e,g(t,e)));for(var s=Kt.ext.type.order[o.sType+"-pre"],l=0,u=t.aoData.length;l<u;l++)(i=t.aoData[l])._aSortData||(i._aSortData=[]),i._aSortData[e]&&!a||(r=a?n[l]:k(t,l,e,"sort"),i._aSortData[e]=s?s(r):r)}function Dt(e){if(!e._bLoadingState){var n={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:tt(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:tt(e.aoPreSearchCols[n])}})};e.oSavedState=n,Lt(e,"aoStateSaveParams","stateSaveParams",[e,n]),e.oFeatures.bStateSave&&!e.bDestroying&&e.fnStateSaveCallback.call(e.oInstance,e,n)}}function At(t,e,n){if(t.oFeatures.bStateSave){var r=function(e){It(t,e,n)},o=t.fnStateLoadCallback.call(t.oInstance,t,r);return o!==i&&It(t,o,n),!0}n()}function It(e,n,r){var o,a,s=e.aoColumns;e._bLoadingState=!0;var l=e._bInitComplete?new Kt.Api(e):null;if(!n||!n.time)return e._bLoadingState=!1,void r();var u=Lt(e,"aoStateLoadParams","stateLoadParams",[e,n]);if(-1!==t.inArray(!1,u))return e._bLoadingState=!1,void r();var c=e.iStateDuration;if(c>0&&n.time<+new Date-1e3*c)return e._bLoadingState=!1,void r();if(n.columns&&s.length!==n.columns.length)return e._bLoadingState=!1,void r();if(e.oLoadedState=t.extend(!0,{},n),n.length!==i&&(l?l.page.len(n.length):e._iDisplayLength=n.length),n.start!==i&&(null===l?(e._iDisplayStart=n.start,e.iInitDisplayStart=n.start):ct(e,n.start/e._iDisplayLength)),n.order!==i&&(e.aaSorting=[],t.each(n.order,function(t,n){e.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)})),n.search!==i&&t.extend(e.oPreviousSearch,et(n.search)),n.columns){for(o=0,a=n.columns.length;o<a;o++){var d=n.columns[o];d.visible!==i&&(l?l.column(o).visible(d.visible,!1):s[o].bVisible=d.visible),d.search!==i&&t.extend(e.aoPreSearchCols[o],et(d.search))}l&&l.columns.adjust()}e._bLoadingState=!1,Lt(e,"aoStateLoaded","stateLoaded",[e,n]),r()}function jt(e){var n=Kt.settings,i=t.inArray(e,ce(n,"nTable"));return-1!==i?n[i]:null}function $t(t,n,i,r){if(i="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+i,r&&(i+=". For more information about this error, please see http://datatables.net/tn/"+r),n)e.console&&console.log&&console.log(i);else{var o=Kt.ext,a=o.sErrMode||o.errMode;if(t&&Lt(t,null,"error",[t,r,i]),"alert"==a)alert(i);else{if("throw"==a)throw new Error(i);"function"==typeof a&&a(t,r,i)}}}function Ft(e,n,r,o){Array.isArray(r)?t.each(r,function(t,i){Array.isArray(i)?Ft(e,n,i[0],i[1]):Ft(e,n,i)}):(o===i&&(o=r),n[r]!==i&&(e[o]=n[r]))}function Et(e,n,i){var r;for(var o in n)n.hasOwnProperty(o)&&(r=n[o],t.isPlainObject(r)?(t.isPlainObject(e[o])||(e[o]={}),t.extend(!0,e[o],r)):i&&"data"!==o&&"aaData"!==o&&Array.isArray(r)?e[o]=r.slice():e[o]=r);return e}function Ot(e,n,i){t(e).on("click.DT",n,function(n){t(e).trigger("blur"),i(n)}).on("keypress.DT",n,function(t){13===t.which&&(t.preventDefault(),i(t))}).on("selectstart.DT",function(){return!1})}function Pt(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function Lt(e,n,i,r){var o=[];if(n&&(o=t.map(e[n].slice().reverse(),function(t){return t.fn.apply(e.oInstance,r)})),null!==i){var a=t.Event(i+".dt"),s=t(e.nTable);s.trigger(a,r),0===s.parents("body").length&&t("body").trigger(a,r),o.push(a.result)}return o}function Nt(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;e>=n&&(e=n-i),e-=e%i,(-1===i||e<0)&&(e=0),t._iDisplayStart=e}function Bt(e,n){var i=e.renderer,r=Kt.ext.renderer[n];return t.isPlainObject(i)&&i[n]?r[i[n]]||r._:"string"==typeof i&&r[i]||r._}function Rt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function zt(t,e){var n=[],i=Ke.numbers_length,r=Math.floor(i/2);return e<=i?n=fe(0,e):t<=r?((n=fe(0,i-2)).push("ellipsis"),n.push(e-1)):t>=e-1-r?((n=fe(e-(i-2),e)).splice(0,0,"ellipsis"),n.splice(0,0,0)):((n=fe(t-r+2,t+r-1)).push("ellipsis"),n.push(e-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Ht(e){t.each({num:function(t){return Je(t,e)},"num-fmt":function(t){return Je(t,e,ie)},"html-num":function(t){return Je(t,e,te)},"html-num-fmt":function(t){return Je(t,e,te,ie)}},function(t,n){Yt.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(Yt.type.search[t+e]=Yt.type.search.html)})}function Ut(t,n,i,r,o){return e.moment?t[n](o):e.luxon?t[i](o):r?t[r](o):t}function qt(t,n,i){var r;if(e.moment){if(!(r=e.moment.utc(t,n,i,!0)).isValid())return null}else if(e.luxon){if(!(r=n&&"string"==typeof t?e.luxon.DateTime.fromFormat(t,n):e.luxon.DateTime.fromISO(t)).isValid)return null;r.setLocale(i)}else n?(tn||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),tn=!0):r=new Date(t);return r}function Wt(t){return function(e,n,r,o){0===arguments.length?(r="en",n=null,e=null):1===arguments.length?(r="en",n=e,e=null):2===arguments.length&&(r=n,n=e,e=null);var a="datetime-"+n;return Kt.ext.type.order[a]||(Kt.ext.type.detect.unshift(function(t){return t===a&&a}),Kt.ext.type.order[a+"-asc"]=function(t,e){var n=t.valueOf(),i=e.valueOf();return n===i?0:n<i?-1:1},Kt.ext.type.order[a+"-desc"]=function(t,e){var n=t.valueOf(),i=e.valueOf();return n===i?0:n>i?-1:1}),function(s,l){if(null===s||s===i)if("--now"===o){var u=new Date;s=new Date(Date.UTC(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds()))}else s="";if("type"===l)return a;if(""===s)return"sort"!==l?"":qt("0000-01-01 00:00:00",null,r);if(null!==n&&e===n&&"sort"!==l&&"type"!==l&&!(s instanceof Date))return s;var c=qt(s,e,r);if(null===c)return s;if("sort"===l)return c;var d=null===n?Ut(c,"toDate","toJSDate","")[t]():Ut(c,"format","toFormat","toISOString",n);return"display"===l?Qe(d):d}}}function Vt(t){return function(){var e=[jt(this[Kt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Kt.ext.internal[t].apply(this,e)}}var Yt,Xt,Gt,Zt,Kt=function(e,n){if(this instanceof Kt)return t(e).DataTable(n);n=e,this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Xt(t?jt(this[Yt.iApiIndex]):this)},this.fnAddData=function(e,n){var r=this.api(!0),o=Array.isArray(e)&&(Array.isArray(e[0])||t.isPlainObject(e[0]))?r.rows.add(e):r.row.add(e);return(n===i||n)&&r.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],r=n.oScroll;t===i||t?e.draw(!1):""===r.sX&&""===r.sY||pt(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===i||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var r=this.api(!0),o=r.rows(t),a=o.settings()[0],s=a.aoData[o[0][0]];return o.remove(),e&&e.call(this,a,s),(n===i||n)&&r.draw(),s},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,r,o,a){var s=this.api(!0);null===e||e===i?s.search(t,n,r,a):s.column(e).search(t,n,r,a),s.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t!==i){var r=t.nodeName?t.nodeName.toLowerCase():"";return e!==i||"td"==r||"th"==r?n.cell(t,e).data():n.row(t).data()||null}return n.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==i?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();if("TR"==n)return e.row(t).index();if("TD"==n||"TH"==n){var i=e.cell(t).index();return[i.row,i.columnVisible,i.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(e===i||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){var r=this.api(!0).column(t).visible(e);(n===i||n)&&r.columns.adjust().draw()},this.fnSettings=function(){return jt(this[Yt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,r,o){var a=this.api(!0);return n===i||null===n?a.row(e).data(t):a.cell(e,n).data(t),(o===i||o)&&a.columns.adjust(),(r===i||r)&&a.draw(),0},this.fnVersionCheck=Yt.fnVersionCheck;var r=this,c=n===i,h=this.length;for(var p in c&&(n={}),this.oApi=this.internal=Yt.internal,Kt.ext.internal)p&&(this[p]=Vt(p));return this.each(function(){var e,p=h>1?Et({},n,!0):n,g=0,m=this.getAttribute("id"),v=!1,b=Kt.defaults,_=t(this);if("table"==this.nodeName.toLowerCase()){s(b),l(b.column),o(b,b,!0),o(b.column,b.column,!0),o(b,t.extend(p,_.data()),!0);var C=Kt.settings;for(g=0,e=C.length;g<e;g++){var k=C[g];if(k.nTable==this||k.nTHead&&k.nTHead.parentNode==this||k.nTFoot&&k.nTFoot.parentNode==this){var S=p.bRetrieve!==i?p.bRetrieve:b.bRetrieve,T=p.bDestroy!==i?p.bDestroy:b.bDestroy;if(c||S)return k.oInstance;if(T){k.oInstance.fnDestroy();break}return void $t(k,0,"Cannot reinitialise DataTable",3)}if(k.sTableId==this.id){C.splice(g,1);break}}null!==m&&""!==m||(m="DataTables_Table_"+Kt.ext._unique++,this.id=m);var M=t.extend(!0,{},Kt.models.oSettings,{sDestroyWidth:_[0].style.width,sInstance:m,sTableId:m});M.nTable=this,M.oApi=r.internal,M.oInit=p,C.push(M),M.oInstance=1===r.length?r:_.dataTable(),s(p),a(p.oLanguage),p.aLengthMenu&&!p.iDisplayLength&&(p.iDisplayLength=Array.isArray(p.aLengthMenu[0])?p.aLengthMenu[0][0]:p.aLengthMenu[0]),p=Et(t.extend(!0,{},b),p),Ft(M.oFeatures,p,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Ft(M,p,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Ft(M.oScroll,p,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ft(M.oLanguage,p,"fnInfoCallback"),Pt(M,"aoDrawCallback",p.fnDrawCallback,"user"),Pt(M,"aoServerParams",p.fnServerParams,"user"),Pt(M,"aoStateSaveParams",p.fnStateSaveParams,"user"),Pt(M,"aoStateLoadParams",p.fnStateLoadParams,"user"),Pt(M,"aoStateLoaded",p.fnStateLoaded,"user"),Pt(M,"aoRowCallback",p.fnRowCallback,"user"),Pt(M,"aoRowCreatedCallback",p.fnCreatedRow,"user"),Pt(M,"aoHeaderCallback",p.fnHeaderCallback,"user"),Pt(M,"aoFooterCallback",p.fnFooterCallback,"user"),Pt(M,"aoInitComplete",p.fnInitComplete,"user"),Pt(M,"aoPreDrawCallback",p.fnPreDrawCallback,"user"),M.rowIdFn=_e(p.rowId),u(M);var D=M.oClasses;if(t.extend(D,Kt.ext.classes,p.oClasses),_.addClass(D.sTable),M.iInitDisplayStart===i&&(M.iInitDisplayStart=p.iDisplayStart,M._iDisplayStart=p.iDisplayStart),null!==p.iDeferLoading){M.bDeferLoading=!0;var A=Array.isArray(p.iDeferLoading);M._iRecordsDisplay=A?p.iDeferLoading[0]:p.iDeferLoading,M._iRecordsTotal=A?p.iDeferLoading[1]:p.iDeferLoading}var I=M.oLanguage;t.extend(!0,I,p.oLanguage),I.sUrl?(t.ajax({dataType:"json",url:I.sUrl,success:function(e){o(b.oLanguage,e),a(e),t.extend(!0,I,e,M.oInit.oLanguage),Lt(M,null,"i18n",[M]),ot(M)},error:function(){ot(M)}}),v=!0):Lt(M,null,"i18n",[M]),null===p.asStripeClasses&&(M.asStripeClasses=[D.sStripeOdd,D.sStripeEven]);var j=M.asStripeClasses,$=_.children("tbody").find("tr").eq(0);-1!==t.inArray(!0,t.map(j,function(t){return $.hasClass(t)}))&&(t("tbody tr",this).removeClass(j.join(" ")),M.asDestroyStripes=j.slice());var F,E=[],O=this.getElementsByTagName("thead");if(0!==O.length&&(B(M.aoHeader,O[0]),E=R(M)),null===p.aoColumns)for(F=[],g=0,e=E.length;g<e;g++)F.push(null);else F=p.aoColumns;for(g=0,e=F.length;g<e;g++)d(M,E?E[g]:null);if(y(M,p.aoColumnDefs,F,function(t,e){f(M,t,e)}),$.length){var P=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t($[0]).children("th, td").each(function(t,e){var n=M.aoColumns[t];if(n||$t(M,0,"Incorrect column count",18),n.mData===t){var r=P(e,"sort")||P(e,"order"),o=P(e,"filter")||P(e,"search");null===r&&null===o||(n.mData={_:t+".display",sort:null!==r?t+".@data-"+r:i,type:null!==r?t+".@data-"+r:i,filter:null!==o?t+".@data-"+o:i},f(M,t))}})}var L=M.oFeatures,N=function(){if(p.aaSorting===i){var n=M.aaSorting;for(g=0,e=n.length;g<e;g++)n[g][1]=M.aoColumns[g].asSorting[0]}Tt(M),L.bSort&&Pt(M,"aoDrawCallback",function(){if(M.bSorted){var e=wt(M),n={};t.each(e,function(t,e){n[e.src]=e.dir}),Lt(M,null,"order",[M,e,n]),Ct(M)}}),Pt(M,"aoDrawCallback",function(){(M.bSorted||"ssp"===Rt(M)||L.bDeferRender)&&Tt(M)},"sc");var r=_.children("caption").each(function(){this._captionSide=t(this).css("caption-side")}),o=_.children("thead");0===o.length&&(o=t("<thead/>").appendTo(_)),M.nTHead=o[0];var a=_.children("tbody");0===a.length&&(a=t("<tbody/>").insertAfter(o)),M.nTBody=a[0];var s=_.children("tfoot");if(0===s.length&&r.length>0&&(""!==M.oScroll.sX||""!==M.oScroll.sY)&&(s=t("<tfoot/>").appendTo(_)),0===s.length||0===s.children().length?_.addClass(D.sNoFooter):s.length>0&&(M.nTFoot=s[0],B(M.aoFooter,M.nTFoot)),p.aaData)for(g=0;g<p.aaData.length;g++)x(M,p.aaData[g]);else(M.bDeferLoading||"dom"==Rt(M))&&w(M,t(M.nTBody).children("tr"));M.aiDisplay=M.aiDisplayMaster.slice(),M.bInitialised=!0,!1===v&&ot(M)};Pt(M,"aoDrawCallback",Dt,"state_save"),p.bStateSave?(L.bStateSave=!0,At(M,p,N)):N()}else $t(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),r=null,this},Jt={},Qt=/[\r\n\u2028]/g,te=/<.*?>/g,ee=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,ne=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),ie=/['\u00A0,$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk\u0243\u039e]/gi,re=function(t){return!t||!0===t||"-"===t},oe=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ae=function(t,e){return Jt[e]||(Jt[e]=new RegExp(ke(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Jt[e],"."):t},se=function(t,e,n){let i=typeof t;var r="string"===i;return"number"===i||"bigint"===i||(!!re(t)||(e&&r&&(t=ae(t,e)),n&&r&&(t=t.replace(ie,"")),!isNaN(parseFloat(t))&&isFinite(t)))},le=function(t){return re(t)||"string"==typeof t},ue=function(t,e,n){return!!re(t)||(le(t)&&!!se(pe(t),e,n)||null)},ce=function(t,e,n){var r=[],o=0,a=t.length;if(n!==i)for(;o<a;o++)t[o]&&t[o][e]&&r.push(t[o][e][n]);else for(;o<a;o++)t[o]&&r.push(t[o][e]);return r},de=function(t,e,n,r){var o=[],a=0,s=e.length;if(r!==i)for(;a<s;a++)t[e[a]][n]&&o.push(t[e[a]][n][r]);else for(;a<s;a++)o.push(t[e[a]][n]);return o},fe=function(t,e){var n,r=[];e===i?(e=0,n=t):(n=e,e=t);for(var o=e;o<n;o++)r.push(o);return r},he=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},pe=function(t){return t.replace(te,"")},ge=function(t){if(t.length<2)return!0;for(var e=t.slice().sort(),n=e[0],i=1,r=e.length;i<r;i++){if(e[i]===n)return!1;n=e[i]}return!0},me=function(t){if(ge(t))return t.slice();var e,n,i,r=[],o=t.length,a=0;t:for(n=0;n<o;n++){for(e=t[n],i=0;i<a;i++)if(r[i]===e)continue t;r.push(e),a++}return r},ve=function(t,e){if(Array.isArray(e))for(var n=0;n<e.length;n++)ve(t,e[n]);else t.push(e);return t},be=function(t,e){return e===i&&(e=0),-1!==this.indexOf(t,e)};Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.includes||(Array.prototype.includes=be),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=be),Kt.util={throttle:function(t,e){var n,r,o=e!==i?e:200;return function(){var e=this,a=+new Date,s=arguments;n&&a<n+o?(clearTimeout(r),r=setTimeout(function(){n=i,t.apply(e,s)},o)):(n=a,t.apply(e,s))}},escapeRegex:function(t){return t.replace(ne,"\\$1")},set:function(e){if(t.isPlainObject(e))return Kt.util.set(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,i){e(t,"set",n,i)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,n){t[e]=n};var n=function(t,e,r){for(var o,a,s,l,u,c=T(r),d=c[c.length-1],f=0,h=c.length-1;f<h;f++){if("__proto__"===c[f]||"constructor"===c[f])throw new Error("Cannot set prototype values");if(a=c[f].match(xe),s=c[f].match(we),a){if(c[f]=c[f].replace(xe,""),t[c[f]]=[],(o=c.slice()).splice(0,f+1),u=o.join("."),Array.isArray(e))for(var p=0,g=e.length;p<g;p++)n(l={},e[p],u),t[c[f]].push(l);else t[c[f]]=e;return}s&&(c[f]=c[f].replace(we,""),t=t[c[f]](e)),null!==t[c[f]]&&t[c[f]]!==i||(t[c[f]]={}),t=t[c[f]]}d.match(we)?t=t[d.replace(we,"")](e):t[d.replace(xe,"")]=e};return function(t,i){return n(t,i,e)}},get:function(e){if(t.isPlainObject(e)){var n={};return t.each(e,function(t,e){e&&(n[t]=Kt.util.get(e))}),function(t,e,r,o){var a=n[e]||n._;return a!==i?a(t,e,r,o):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,n,i,r){return e(t,n,i,r)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t){return t[e]};var r=function(t,e,n){var o,a,s,l;if(""!==n)for(var u=T(n),c=0,d=u.length;c<d;c++){if(o=u[c].match(xe),a=u[c].match(we),o){if(u[c]=u[c].replace(xe,""),""!==u[c]&&(t=t[u[c]]),s=[],u.splice(0,c+1),l=u.join("."),Array.isArray(t))for(var f=0,h=t.length;f<h;f++)s.push(r(t[f],e,l));var p=o[0].substring(1,o[0].length-1);t=""===p?s:s.join(p);break}if(a)u[c]=u[c].replace(we,""),t=t[u[c]]();else{if(null===t||t[u[c]]===i)return i;t=t[u[c]]}}return t};return function(t,n){return r(t,n,e)}}};var ye=function(t,e,n){t[e]!==i&&(t[n]=t[e])},xe=/\[.*?\]$/,we=/\(\)$/,_e=Kt.util.get,Ce=Kt.util.set,ke=Kt.util.escapeRegex,Se=t("<div>")[0],Te=Se.textContent!==i,Me=/<.*?>/g,De=Kt.util.throttle,Ae=[],Ie=Array.prototype,je=function(e){var n,i,r=Kt.settings,o=t.map(r,function(t){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?-1!==(n=t.inArray(e,o))?[r[n]]:null:e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?i=t(e):e instanceof t&&(i=e),i?i.map(function(){return-1!==(n=t.inArray(this,o))?r[n]:null}).toArray():void 0):[]};Xt=function(e,n){if(!(this instanceof Xt))return new Xt(e,n);var i=[],r=function(t){var e=je(t);e&&i.push.apply(i,e)};if(Array.isArray(e))for(var o=0,a=e.length;o<a;o++)r(e[o]);else r(e);this.context=me(i),n&&t.merge(this,n),this.selector={rows:null,cols:null,opts:null},Xt.extend(this,this,Ae)},Kt.Api=Xt,t.extend(Xt.prototype,{any:function(){return 0!==this.count()},concat:Ie.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Xt(e[t],this[t]):null},filter:function(t){var e=[];if(Ie.filter)e=Ie.filter.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new Xt(this.context,e)},flatten:function(){var t=[];return new Xt(this.context,t.concat.apply(t,this.toArray()))},join:Ie.join,indexOf:Ie.indexOf||function(t,e){for(var n=e||0,i=this.length;n<i;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,n,r){var o,a,s,l,u,c,d,f,h=[],p=this.context,g=this.selector;for("string"==typeof t&&(r=n,n=e,e=t,t=!1),a=0,s=p.length;a<s;a++){var m=new Xt(p[a]);if("table"===e)(o=n.call(m,p[a],a))!==i&&h.push(o);else if("columns"===e||"rows"===e)(o=n.call(m,p[a],this[a],a))!==i&&h.push(o);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(d=this[a],"column-rows"===e&&(c=Le(p[a],g.opts)),l=0,u=d.length;l<u;l++)f=d[l],(o="cell"===e?n.call(m,p[a],f.row,f.column,a,l):n.call(m,p[a],f,a,l,c))!==i&&h.push(o)}if(h.length||r){var v=new Xt(p,t?h.concat.apply([],h):h),b=v.selector;return b.rows=g.rows,b.cols=g.cols,b.opts=g.opts,v}return this},lastIndexOf:Ie.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(Ie.map)e=Ie.map.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)e.push(t.call(this,this[n],n));return new Xt(this.context,e)},pluck:function(t){var e=Kt.util.get(t);return this.map(function(t){return e(t)})},pop:Ie.pop,push:Ie.push,reduce:Ie.reduce||function(t,e){return c(this,t,e,0,this.length,1)},reduceRight:Ie.reduceRight||function(t,e){return c(this,t,e,this.length-1,-1,-1)},reverse:Ie.reverse,selector:null,shift:Ie.shift,slice:function(){return new Xt(this.context,this)},sort:Ie.sort,splice:Ie.splice,toArray:function(){return Ie.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new Xt(this.context,me(this))},unshift:Ie.unshift}),Xt.extend=function(t,e,n){if(n.length&&e&&(e instanceof Xt||e.__dt_wrapper)){var i,r,o,a=function(t,e,n){return function(){var i=e.apply(t,arguments);return Xt.extend(i,i,n.methodExt),i}};for(i=0,r=n.length;i<r;i++)e[(o=n[i]).name]="function"===o.type?a(t,o.val,o):"object"===o.type?{}:o.val,e[o.name].__dt_wrapper=!0,Xt.extend(t,e[o.name],o.propExt)}},Xt.register=Gt=function(e,n){if(Array.isArray(e))for(var i=0,r=e.length;i<r;i++)Xt.register(e[i],n);else{var o,a,s,l,u=e.split("."),c=Ae,d=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n].name===e)return t[n];return null};for(o=0,a=u.length;o<a;o++){var f=d(c,s=(l=-1!==u[o].indexOf("()"))?u[o].replace("()",""):u[o]);f||(f={name:s,val:{},methodExt:[],propExt:[],type:"object"},c.push(f)),o===a-1?(f.val=n,f.type="function"==typeof n?"function":t.isPlainObject(n)?"object":"other"):c=l?f.methodExt:f.propExt}}},Xt.registerPlural=Zt=function(t,e,n){Xt.register(t,n),Xt.register(e,function(){var t=n.apply(this,arguments);return t===this?this:t instanceof Xt?t.length?Array.isArray(t[0])?new Xt(t.context,t[0]):t[0]:i:t})};var $e=function(e,n){if(Array.isArray(e))return t.map(e,function(t){return $e(t,n)});if("number"==typeof e)return[n[e]];var i=t.map(n,function(t){return t.nTable});return t(i).filter(e).map(function(){var e=t.inArray(this,i);return n[e]}).toArray()};Gt("tables()",function(t){return t!==i&&null!==t?new Xt($e(t,this.context)):this}),Gt("table()",function(t){var e=this.tables(t),n=e.context;return n.length?new Xt(n[0]):e}),Zt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Zt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Zt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Zt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Zt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Gt("draw()",function(t){return this.iterator("table",function(e){"page"===t?P(e):("string"==typeof t&&(t="full-hold"!==t),L(e,!1===t))})}),Gt("page()",function(t){return t===i?this.page.info().page:this.iterator("table",function(e){ct(e,t)})}),Gt("page.info()",function(){if(0===this.context.length)return i;var t=this.context[0],e=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,r=t.fnRecordsDisplay(),o=-1===n;return{page:o?0:Math.floor(e/n),pages:o?1:Math.ceil(r/n),start:e,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===Rt(t)}}),Gt("page.len()",function(t){return t===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(e){st(e,t)})});var Fe=function(t,e,n){if(n){var i=new Xt(t);i.one("draw",function(){n(i.ajax.json())})}if("ssp"==Rt(t))L(t,e);else{ft(t,!0);var r=t.jqXHR;r&&4!==r.readyState&&r.abort(),H(t,[],function(n){D(t);for(var i=V(t,n),r=0,o=i.length;r<o;r++)x(t,i[r]);L(t,e),ft(t,!1)})}};Gt("ajax.json()",function(){var t=this.context;if(t.length>0)return t[0].json}),Gt("ajax.params()",function(){var t=this.context;if(t.length>0)return t[0].oAjaxData}),Gt("ajax.reload()",function(t,e){return this.iterator("table",function(n){Fe(n,!1===e,t)})}),Gt("ajax.url()",function(e){var n=this.context;return e===i?0===n.length?i:(n=n[0]).ajax?t.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",function(n){t.isPlainObject(n.ajax)?n.ajax.url=e:n.ajax=e})}),Gt("ajax.url().load()",function(t,e){return this.iterator("table",function(n){Fe(n,!1===e,t)})});var Ee=function(t,e,n,r,o){var a,s,l,u,c,d,f=[],h=typeof e;for(e&&"string"!==h&&"function"!==h&&e.length!==i||(e=[e]),l=0,u=e.length;l<u;l++)for(c=0,d=(s=e[l]&&e[l].split&&!e[l].match(/[\[\(:]/)?e[l].split(","):[e[l]]).length;c<d;c++)(a=n("string"==typeof s[c]?s[c].trim():s[c]))&&a.length&&(f=f.concat(a));var p=Yt.selector[t];if(p.length)for(l=0,u=p.length;l<u;l++)f=p[l](r,o,f);return me(f)},Oe=function(e){return e||(e={}),e.filter&&e.search===i&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},Pe=function(t){for(var e=0,n=t.length;e<n;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Le=function(e,n){var i,r=[],o=e.aiDisplay,a=e.aiDisplayMaster,s=n.search,l=n.order,u=n.page;if("ssp"==Rt(e))return"removed"===s?[]:fe(0,a.length);if("current"==u)for(d=e._iDisplayStart,f=e.fnDisplayEnd();d<f;d++)r.push(o[d]);else if("current"==l||"applied"==l){if("none"==s)r=a.slice();else if("applied"==s)r=o.slice();else if("removed"==s){for(var c={},d=0,f=o.length;d<f;d++)c[o[d]]=null;r=t.map(a,function(t){return c.hasOwnProperty(t)?null:t})}}else if("index"==l||"original"==l)for(d=0,f=e.aoData.length;d<f;d++)"none"==s?r.push(d):(-1===(i=t.inArray(d,o))&&"removed"==s||i>=0&&"applied"==s)&&r.push(d);return r},Ne=function(e,n,r){var o;return Ee("row",n,function(n){var a=oe(n),s=e.aoData;if(null!==a&&!r)return[a];if(o||(o=Le(e,r)),null!==a&&-1!==t.inArray(a,o))return[a];if(null===n||n===i||""===n)return o;if("function"==typeof n)return t.map(o,function(t){var e=s[t];return n(t,e._aData,e.nTr)?t:null});if(n.nodeName){var l=n._DT_RowIndex,u=n._DT_CellIndex;if(l!==i)return s[l]&&s[l].nTr===n?[l]:[];if(u)return s[u.row]&&s[u.row].nTr===n.parentNode?[u.row]:[];var c=t(n).closest("*[data-dt-row]");return c.length?[c.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var d=e.aIds[n.replace(/^#/,"")];if(d!==i)return[d.idx]}var f=he(de(e.aoData,o,"nTr"));return t(f).filter(n).map(function(){return this._DT_RowIndex}).toArray()},e,r)};Gt("rows()",function(e,n){e===i?e="":t.isPlainObject(e)&&(n=e,e=""),n=Oe(n);var r=this.iterator("table",function(t){return Ne(t,e,n)},1);return r.selector.rows=e,r.selector.opts=n,r}),Gt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||i},1)}),Gt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return de(t.aoData,e,"_aData")},1)}),Zt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var i=e.aoData[n];return"search"===t?i._aFilterData:i._aSortData},1)}),Zt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){I(e,n,t)})}),Zt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Zt("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,i=0,r=n.length;i<r;i++)for(var o=0,a=this[i].length;o<a;o++){var s=n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);e.push((!0===t?"#":"")+s)}return new Xt(n,e)}),Zt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,n,r){var o,a,s,l,u,c,d=e.aoData,f=d[n];for(d.splice(n,1),o=0,a=d.length;o<a;o++)if(c=(u=d[o]).anCells,null!==u.nTr&&(u.nTr._DT_RowIndex=o),null!==c)for(s=0,l=c.length;s<l;s++)c[s]._DT_CellIndex.row=o;A(e.aiDisplayMaster,n),A(e.aiDisplay,n),A(t[r],n,!1),e._iRecordsDisplay>0&&e._iRecordsDisplay--,Nt(e);var h=e.rowIdFn(f._aData);h!==i&&delete e.aIds[h]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e}),this}),Gt("rows.add()",function(e){var n=this.iterator("table",function(t){var n,i,r,o=[];for(i=0,r=e.length;i<r;i++)(n=e[i]).nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(w(t,n)[0]):o.push(x(t,n));return o},1),i=this.rows(-1);return i.pop(),t.merge(i,n),i}),Gt("row()",function(t,e){return Pe(this.rows(t,e))}),Gt("row().data()",function(t){var e=this.context;if(t===i)return e.length&&this.length?e[0].aoData[this[0]]._aData:i;var n=e[0].aoData[this[0]];return n._aData=t,Array.isArray(t)&&n.nTr&&n.nTr.id&&Ce(e[0].rowId)(t,n.nTr.id),I(e[0],this[0],"data"),this}),Gt("row().node()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null}),Gt("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var n=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?w(t,e)[0]:x(t,e)});return this.row(n[0])}),t(n).on("plugin-init.dt",function(e,n){var i=new Xt(n),r="on-plugin-init",o="stateSaveParams."+r,a="destroy. "+r;i.on(o,function(t,e,n){for(var i=e.rowIdFn,r=e.aoData,o=[],a=0;a<r.length;a++)r[a]._detailsShow&&o.push("#"+i(r[a]._aData));n.childRows=o}),i.on(a,function(){i.off(o+" "+a)});var s=i.state.loaded();s&&s.childRows&&i.rows(t.map(s.childRows,function(t){return t.replace(/:/g,"\\:")})).every(function(){Lt(n,null,"requestChild",[this])})});var Be=function(e,n,i,r){var o=[],a=function(n,i){if(Array.isArray(n)||n instanceof t)for(var r=0,s=n.length;r<s;r++)a(n[r],i);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())o.push(n);else{var l=t("<tr><td></td></tr>").addClass(i);t("td",l).addClass(i).html(n)[0].colSpan=m(e),o.push(l[0])}};a(i,r),n._details&&n._details.detach(),n._details=t(o),n._detailsShow&&n._details.insertAfter(n.nTr)},Re=Kt.util.throttle(function(t){Dt(t[0])},500),ze=function(e,n){var r=e.context;if(r.length){var o=r[0].aoData[n!==i?n:e[0]];o&&o._details&&(o._details.remove(),o._detailsShow=i,o._details=i,t(o.nTr).removeClass("dt-hasChild"),Re(r))}},He=function(e,n){var i=e.context;if(i.length&&e.length){var r=i[0].aoData[e[0]];r._details&&(r._detailsShow=n,n?(r._details.insertAfter(r.nTr),t(r.nTr).addClass("dt-hasChild")):(r._details.detach(),t(r.nTr).removeClass("dt-hasChild")),Lt(i[0],null,"childRow",[n,e.row(e[0])]),Ue(i[0]),Re(i))}},Ue=function(t){var e=new Xt(t),n=".dt.DT_details",i="draw"+n,r="column-sizing"+n,o="destroy"+n,a=t.aoData;e.off(i+" "+r+" "+o),ce(a,"_details").length>0&&(e.on(i,function(n,i){t===i&&e.rows({page:"current"}).eq(0).each(function(t){var e=a[t];e._detailsShow&&e._details.insertAfter(e.nTr)})}),e.on(r,function(e,n){if(t===n)for(var i,r=m(n),o=0,s=a.length;o<s;o++)(i=a[o])._details&&i._details.children("td[colspan]").attr("colspan",r)}),e.on(o,function(n,i){if(t===i)for(var r=0,o=a.length;r<o;r++)a[r]._details&&ze(e,r)}))},qe=""+"row().child",We=qe+"()";Gt(We,function(t,e){var n=this.context;return t===i?n.length&&this.length?n[0].aoData[this[0]]._details:i:(!0===t?this.child.show():!1===t?ze(this):n.length&&this.length&&Be(n[0],n[0].aoData[this[0]],t,e),this)}),Gt([qe+".show()",We+".show()"],function(){return He(this,!0),this}),Gt([qe+".hide()",We+".hide()"],function(){return He(this,!1),this}),Gt([qe+".remove()",We+".remove()"],function(){return ze(this),this}),Gt(qe+".isShown()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1});var Ve=/^([^:]+):(name|visIdx|visible)$/,Ye=function(t,e,n,i,r){for(var o=[],a=0,s=r.length;a<s;a++)o.push(k(t,r[a],e));return o},Xe=function(e,n,i){var r=e.aoColumns,o=ce(r,"sName"),a=ce(r,"nTh");return Ee("column",n,function(n){var s=oe(n);if(""===n)return fe(r.length);if(null!==s)return[s>=0?s:r.length+s];if("function"==typeof n){var l=Le(e,i);return t.map(r,function(t,i){return n(i,Ye(e,i,0,0,l),a[i])?i:null})}var u="string"==typeof n?n.match(Ve):"";if(u)switch(u[2]){case"visIdx":case"visible":var c=parseInt(u[1],10);if(c<0){var d=t.map(r,function(t,e){return t.bVisible?e:null});return[d[d.length+c]]}return[p(e,c)];case"name":return t.map(o,function(t,e){return t===u[1]?e:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var f=t(a).filter(n).map(function(){return t.inArray(this,a)}).toArray();if(f.length||!n.nodeName)return f;var h=t(n).closest("*[data-dt-column]")
;return h.length?[h.data("dt-column")]:[]},e,i)},Ge=function(e,n,r){var o,a,s,l,u=e.aoColumns,c=u[n],d=e.aoData;if(r===i)return c.bVisible;if(c.bVisible!==r){if(r){var f=t.inArray(!0,ce(u,"bVisible"),n+1);for(a=0,s=d.length;a<s;a++)l=d[a].nTr,o=d[a].anCells,l&&l.insertBefore(o[n],o[f]||null)}else t(ce(e.aoData,"anCells",n)).detach();c.bVisible=r}};Gt("columns()",function(e,n){e===i?e="":t.isPlainObject(e)&&(n=e,e=""),n=Oe(n);var r=this.iterator("table",function(t){return Xe(t,e,n)},1);return r.selector.cols=e,r.selector.opts=n,r}),Zt("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Zt("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Zt("columns().data()","column().data()",function(){return this.iterator("column-rows",Ye,1)}),Zt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Zt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,i,r,o){return de(e.aoData,o,"search"===t?"_aFilterData":"_aSortData",n)},1)}),Zt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,r){return de(t.aoData,r,"anCells",e)},1)}),Zt("columns().visible()","column().visible()",function(e,n){var r=this,o=this.iterator("column",function(t,n){if(e===i)return t.aoColumns[n].bVisible;Ge(t,n,e)});return e!==i&&this.iterator("table",function(o){O(o,o.aoHeader),O(o,o.aoFooter),o.aiDisplay.length||t(o.nTBody).find("td[colspan]").attr("colspan",m(o)),Dt(o),r.iterator("column",function(t,i){Lt(t,null,"column-visibility",[t,i,e,n])}),(n===i||n)&&r.columns.adjust()}),o}),Zt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return"visible"===t?g(e,n):n},1)}),Gt("columns.adjust()",function(){return this.iterator("table",function(t){h(t)},1)}),Gt("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return p(n,e);if("fromData"===t||"toVisible"===t)return g(n,e)}}),Gt("column()",function(t,e){return Pe(this.columns(t,e))});var Ze=function(e,n,r){var o,a,s,l,u,c,d,f=e.aoData,h=Le(e,r),p=he(de(f,h,"anCells")),g=t(ve([],p)),m=e.aoColumns.length;return Ee("cell",n,function(n){var r="function"==typeof n;if(null===n||n===i||r){for(a=[],s=0,l=h.length;s<l;s++)for(o=h[s],u=0;u<m;u++)c={row:o,column:u},r?(d=f[o],n(c,k(e,o,u),d.anCells?d.anCells[u]:null)&&a.push(c)):a.push(c);return a}if(t.isPlainObject(n))return n.column!==i&&n.row!==i&&-1!==t.inArray(n.row,h)?[n]:[];var p=g.filter(n).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray();return p.length||!n.nodeName?p:(d=t(n).closest("*[data-dt-row]")).length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[]},e,r)};Gt("cells()",function(e,n,r){if(t.isPlainObject(e)&&(e.row===i?(r=e,e=null):(r=n,n=null)),t.isPlainObject(n)&&(r=n,n=null),null===n||n===i)return this.iterator("table",function(t){return Ze(t,e,Oe(r))});var o,a,s,l,u=r?{page:r.page,order:r.order,search:r.search}:{},c=this.columns(n,u),d=this.rows(e,u),f=this.iterator("table",function(t,e){var n=[];for(o=0,a=d[e].length;o<a;o++)for(s=0,l=c[e].length;s<l;s++)n.push({row:d[e][o],column:c[e][s]});return n},1),h=r&&r.selected?this.cells(f,r):f;return t.extend(h.selector,{cols:n,rows:e,opts:r}),h}),Zt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){var r=t.aoData[e];return r&&r.anCells?r.anCells[n]:i},1)}),Gt("cells().data()",function(){return this.iterator("cell",function(t,e,n){return k(t,e,n)},1)}),Zt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,n,i){return e.aoData[n][t][i]},1)}),Zt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,n,i){return k(e,n,i,t)},1)}),Zt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:g(t,n)}},1)}),Zt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,n,i){I(e,n,t,i)})}),Gt("cell()",function(t,e,n){return Pe(this.cells(t,e,n))}),Gt("cell().data()",function(t){var e=this.context,n=this[0];return t===i?e.length&&n.length?k(e[0],n[0].row,n[0].column):i:(S(e[0],n[0].row,n[0].column,t),I(e[0],n[0].row,"data",n[0].column),this)}),Gt("order()",function(t,e){var n=this.context;return t===i?0!==n.length?n[0].aaSorting:i:("number"==typeof t?t=[[t,e]]:t.length&&!Array.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),Gt("order.listener()",function(t,e,n){return this.iterator("table",function(i){St(i,t,e,n)})}),Gt("order.fixed()",function(e){if(!e){var n=this.context,r=n.length?n[0].aaSortingFixed:i;return Array.isArray(r)?{pre:r}:r}return this.iterator("table",function(n){n.aaSortingFixed=t.extend(!0,{},e)})}),Gt(["columns().order()","column().order()"],function(e){var n=this;return this.iterator("table",function(i,r){var o=[];t.each(n[r],function(t,n){o.push([n,e])}),i.aaSorting=o})}),Gt("search()",function(e,n,r,o){var a=this.context;return e===i?0!==a.length?a[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&X(i,t.extend({},i.oPreviousSearch,{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)})}),Zt("columns().search()","column().search()",function(e,n,r,o){return this.iterator("column",function(a,s){var l=a.aoPreSearchCols;if(e===i)return l[s].sSearch;a.oFeatures.bFilter&&(t.extend(l[s],{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),X(a,a.oPreviousSearch,1))})}),Gt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Gt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Gt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Gt("state.save()",function(){return this.iterator("table",function(t){Dt(t)})}),Kt.versionCheck=Kt.fnVersionCheck=function(t){for(var e,n,i=Kt.version.split("."),r=t.split("."),o=0,a=r.length;o<a;o++)if((e=parseInt(i[o],10)||0)!==(n=parseInt(r[o],10)||0))return e>n;return!0},Kt.isDataTable=Kt.fnIsDataTable=function(e){var n=t(e).get(0),i=!1;return e instanceof Kt.Api||(t.each(Kt.settings,function(e,r){var o=r.nScrollHead?t("table",r.nScrollHead)[0]:null,a=r.nScrollFoot?t("table",r.nScrollFoot)[0]:null;r.nTable!==n&&o!==n&&a!==n||(i=!0)}),i)},Kt.tables=Kt.fnTables=function(e){var n=!1;t.isPlainObject(e)&&(n=e.api,e=e.visible);var i=t.map(Kt.settings,function(n){if(!e||e&&t(n.nTable).is(":visible"))return n.nTable});return n?new Xt(i):i},Kt.camelToHungarian=o,Gt("$()",function(e,n){var i=this.rows(n).nodes(),r=t(i);return t([].concat(r.filter(e).toArray(),r.find(e).toArray()))}),t.each(["on","one","off"],function(e,n){Gt(n+"()",function(){var e=Array.prototype.slice.call(arguments);e[0]=t.map(e[0].split(/\s/),function(t){return t.match(/\.dt\b/)?t:t+".dt"}).join(" ");var i=t(this.tables().nodes());return i[n].apply(i,e),this})}),Gt("clear()",function(){return this.iterator("table",function(t){D(t)})}),Gt("settings()",function(){return new Xt(this.context,this.context)}),Gt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Gt("data()",function(){return this.iterator("table",function(t){return ce(t.aoData,"_aData")}).flatten()}),Gt("destroy()",function(n){return n=n||!1,this.iterator("table",function(i){var r,o=i.oClasses,a=i.nTable,s=i.nTBody,l=i.nTHead,u=i.nTFoot,c=t(a),d=t(s),f=t(i.nTableWrapper),h=t.map(i.aoData,function(t){return t.nTr});i.bDestroying=!0,Lt(i,"aoDestroyCallback","destroy",[i]),n||new Xt(i).columns().visible(!0),f.off(".DT").find(":not(tbody *)").off(".DT"),t(e).off(".DT-"+i.sInstance),a!=l.parentNode&&(c.children("thead").detach(),c.append(l)),u&&a!=u.parentNode&&(c.children("tfoot").detach(),c.append(u)),i.aaSorting=[],i.aaSortingFixed=[],Tt(i),t(h).removeClass(i.asStripeClasses.join(" ")),t("th, td",l).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),d.children().detach(),d.append(h);var p=i.nTableWrapper.parentNode,g=n?"remove":"detach";c[g](),f[g](),!n&&p&&(p.insertBefore(a,i.nTableReinsertBefore),c.css("width",i.sDestroyWidth).removeClass(o.sTable),(r=i.asDestroyStripes.length)&&d.children().each(function(e){t(this).addClass(i.asDestroyStripes[e%r])}));var m=t.inArray(i,Kt.settings);-1!==m&&Kt.settings.splice(m,1)})}),t.each(["column","row","cell"],function(t,e){Gt(e+"s().every()",function(t){var n=this.selector.opts,r=this;return this.iterator(e,function(o,a,s,l,u){t.call(r[e](a,"cell"===e?s:n,"cell"===e?n:i),a,s,l,u)})})}),Gt("i18n()",function(e,n,r){var o=this.context[0],a=_e(e)(o.oLanguage);return a===i&&(a=n),r!==i&&t.isPlainObject(a)&&(a=a[r]!==i?a[r]:a._),a.replace("%d",r)}),Kt.version="1.13.2",Kt.settings=[],Kt.models={},Kt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,"return":!1},Kt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Kt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Kt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(e){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},Kt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(Kt.defaults),Kt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(Kt.defaults.column),Kt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Rt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Rt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===t?e+i:Math.min(e+t,this._iRecordsDisplay):!o||n>i||-1===t?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Kt.ext=Yt={buttons:{},classes:{},build:"dt/dt-1.13.2/b-2.3.4/b-html5-2.3.4",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Kt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Kt.version},t.extend(Yt,{afnFiltering:Yt.search,aTypes:Yt.type.detect,ofnSearch:Yt.type.search,oSort:Yt.type.order,afnSortData:Yt.order,aoFeatures:Yt.feature,oApi:Yt.internal,oStdClasses:Yt.classes,oPagination:Yt.pager}),t.extend(Kt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ke=Kt.ext.pager;t.extend(Ke,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[zt(t,e)]},simple_numbers:function(t,e){return["previous",zt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",zt(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",zt(t,e),"last"]},_numbers:zt,numbers_length:7}),t.extend(!0,Kt.ext.renderer,{pageButton:{_:function(e,r,o,a,s,l){var u,c,d,f=e.oClasses,h=e.oLanguage.oPaginate,p=e.oLanguage.oAria.paginate||{},g=function(n,i){var r,a,d,m,v=f.sPageButtonDisabled,b=function(t){ct(e,t.data.action,!0)};for(r=0,a=i.length;r<a;r++)if(d=i[r],Array.isArray(d)){var y=t("<"+(d.DT_el||"div")+"/>").appendTo(n);g(y,d)}else{switch(u=null,c=d,m=e.iTabIndex,d){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":u=h.sFirst,0===s&&(m=-1,c+=" "+v);break;case"previous":u=h.sPrevious,0===s&&(m=-1,c+=" "+v);break;case"next":u=h.sNext,0!==l&&s!==l-1||(m=-1,c+=" "+v);break;case"last":u=h.sLast,0!==l&&s!==l-1||(m=-1,c+=" "+v);break;default:u=e.fnFormatNumber(d+1),c=s===d?f.sPageButtonActive:""}if(null!==u){var x=e.oInit.pagingTag||"a",w=-1!==c.indexOf(v);Ot(t("<"+x+">",{"class":f.sPageButton+" "+c,"aria-controls":e.sTableId,"aria-disabled":w?"true":null,"aria-label":p[d],"aria-role":"link","aria-current":c===f.sPageButtonActive?"page":null,"data-dt-idx":d,tabindex:m,id:0===o&&"string"==typeof d?e.sTableId+"_"+d:null}).html(u).appendTo(n),{action:d},b)}}};try{d=t(r).find(n.activeElement).data("dt-idx")}catch(m){}g(t(r).empty(),a),d!==i&&t(r).find("[data-dt-idx="+d+"]").trigger("focus")}}}),t.extend(Kt.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return se(t,n)?"num"+n:null},function(t){if(t&&!(t instanceof Date)&&!ee.test(t))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||re(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return se(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return ue(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return ue(t,n,!0)?"html-num-fmt"+n:null},function(t){return re(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(Kt.ext.type.search,{html:function(t){return re(t)?t:"string"==typeof t?t.replace(Qt," ").replace(te,""):""},string:function(t){return re(t)?t:"string"==typeof t?t.replace(Qt," "):t}});var Je=function(t,e,n,i){if(0!==t&&(!t||"-"===t))return-Infinity;let r=typeof t;return"number"===r||"bigint"===r?t:(e&&(t=ae(t,e)),t.replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),1*t)};t.extend(Yt.type.order,{"date-pre":function(t){var e=Date.parse(t);return isNaN(e)?-Infinity:e},"html-pre":function(t){return re(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return re(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Ht(""),t.extend(!0,Kt.ext.renderer,{header:{_:function(e,n,i,r){t(e.nTable).on("order.dt.DT",function(t,o,a,s){if(e===o){var l=i.idx;n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:i.sSortingClass)}})},jqueryui:function(e,n,i,r){t("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(t("<span/>").addClass(r.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),t(e.nTable).on("order.dt.DT",function(t,o,a,s){if(e===o){var l=i.idx;n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:i.sSortingClass),n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[l]?r.sSortJUIAsc:"desc"==s[l]?r.sSortJUIDesc:i.sSortingClassJUI)}})}}});var Qe=function(t){return Array.isArray(t)&&(t=t.join(",")),"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t},tn=!1,en=",",nn=".";if(Intl)try{for(var rn=(new Intl.NumberFormat).formatToParts(100000.1),on=0;on<rn.length;on++)"group"===rn[on].type?en=rn[on].value:"decimal"===rn[on].type&&(nn=rn[on].value)}catch(an){}return Kt.datetime=function(t,e){var n="datetime-detect-"+t;e||(e="en"),Kt.ext.type.order[n]||(Kt.ext.type.detect.unshift(function(i){var r=qt(i,t,e);return!(""!==i&&!r)&&n}),Kt.ext.type.order[n+"-pre"]=function(n){return qt(n,t,e)||0})},Kt.render={date:Wt("toLocaleDateString"),datetime:Wt("toLocaleString"),time:Wt("toLocaleTimeString"),number:function(t,e,n,r,o){return null!==t&&t!==i||(t=en),null!==e&&e!==i||(e=nn),{display:function(i){if("number"!=typeof i&&"string"!=typeof i)return i;if(""===i||null===i)return i;var a=i<0?"-":"",s=parseFloat(i);if(isNaN(s))return Qe(i);s=s.toFixed(n),i=Math.abs(s);var l=parseInt(i,10),u=n?e+(i-l).toFixed(n).substring(2):"";return 0===l&&0===parseFloat(u)&&(a=""),a+(r||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+u+(o||"")}}},text:function(){return{display:Qe,filter:Qe}}},t.extend(Kt.ext.internal,{_fnExternApiFunc:Vt,_fnBuildAjax:H,_fnAjaxUpdate:U,_fnAjaxParameters:q,_fnAjaxUpdateDraw:W,_fnAjaxDataSrc:V,_fnAddColumn:d,_fnColumnOptions:f,_fnAdjustColumnSizing:h,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:g,_fnVisbleColumns:m,_fnGetColumns:v,_fnColumnTypes:b,_fnApplyColumnDefs:y,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:a,_fnBrowserDetect:u,_fnAddData:x,_fnAddTr:w,_fnNodeToDataIndex:_,_fnNodeToColumnIndex:C,_fnGetCellData:k,_fnSetCellData:S,_fnSplitObjNotation:T,_fnGetObjectDataFn:_e,_fnSetObjectDataFn:Ce,_fnGetDataMaster:M,_fnClearTable:D,_fnDeleteIndex:A,_fnInvalidate:I,_fnGetRowElements:j,_fnCreateTr:$,_fnBuildHead:E,_fnDrawHead:O,_fnDraw:P,_fnReDraw:L,_fnAddOptionsHtml:N,_fnDetectHeader:B,_fnGetUniqueThs:R,_fnFeatureHtmlFilter:Y,_fnFilterComplete:X,_fnFilterCustom:G,_fnFilterColumn:Z,_fnFilter:K,_fnFilterCreateSearch:J,_fnEscapeRegex:ke,_fnFilterData:Q,_fnFeatureHtmlInfo:nt,_fnUpdateInfo:it,_fnInfoMacros:rt,_fnInitialise:ot,_fnInitComplete:at,_fnLengthChange:st,_fnFeatureHtmlLength:lt,_fnFeatureHtmlPaginate:ut,_fnPageChange:ct,_fnFeatureHtmlProcessing:dt,_fnProcessingDisplay:ft,_fnFeatureHtmlTable:ht,_fnScrollDraw:pt,_fnApplyToChildren:gt,_fnCalculateColumnWidths:mt,_fnThrottle:De,_fnConvertToWidth:vt,_fnGetWidestNode:bt,_fnGetMaxLenString:yt,_fnStringToCss:xt,_fnSortFlatten:wt,_fnSort:_t,_fnSortAria:Ct,_fnSortListener:kt,_fnSortAttachListener:St,_fnSortingClasses:Tt,_fnSortData:Mt,_fnSaveState:Dt,_fnLoadState:At,_fnImplementState:It,_fnSettingsFromNode:jt,_fnLog:$t,_fnMap:Ft,_fnBindAction:Ot,_fnCallbackReg:Pt,_fnCallbackFire:Lt,_fnLengthOverflow:Nt,_fnRenderer:Bt,_fnDataSource:Rt,_fnRowAttributes:F,_fnExtend:Et,_fnCalculateEnd:function(){}}),t.fn.dataTable=Kt,Kt.$=t,t.fn.dataTableSettings=Kt.settings,t.fn.dataTableExt=Kt.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(Kt,function(e,n){t.fn.DataTable[e]=n}),Kt}),
/*! DataTables styling integration
 * 2018 SpryMedia Ltd - datatables.net/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n.fn.dataTable||require("datatables.net")(e,n),t(n,e,e.document)}:t(jQuery,window,document)}(function(t){"use strict";return t.fn.dataTable}),
/*! Buttons for DataTables 2.3.4
 * 2016-2023 SpryMedia Ltd - datatables.net/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n.fn.dataTable||require("datatables.net")(e,n),t(n,e,e.document)}:t(jQuery,window,document)}(function(t,e,n,i){"use strict";function r(e,n,i){t.fn.animate?e.stop().fadeIn(n,i):(e.css("display","block"),i&&i.call(e))}function o(e,n,i){t.fn.animate?e.stop().fadeOut(n,i):(e.css("display","none"),i&&i.call(e))}function a(t,e){var n=new l.Api(t),i=e||(n.init().buttons||l.defaults.buttons);return new f(n,i).container()}var s,l=t.fn.dataTable,u=0,c=0,d=l.ext.buttons,f=function(e,n){if(!(this instanceof f))return function(t){return new f(t,e).container()};void 0===n&&(n={}),!0===n&&(n={}),Array.isArray(n)&&(n={buttons:n}),this.c=t.extend(!0,{},f.defaults,n),n.buttons&&(this.c.buttons=n.buttons),this.s={dt:new l.Api(e),buttons:[],listenKeys:"",namespace:"dtb"+u++},this.dom={container:t("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};t.extend(f.prototype,{action:function(t,e){var n=this._nodeToButton(t);return e===i?n.conf.action:(n.conf.action=e,this)},active:function(e,n){var r=this._nodeToButton(e),o=this.c.dom.button.active,a=t(r.node);return n===i?a.hasClass(o):(a.toggleClass(o,n===i||n),this)},add:function(t,e,n){var r=this.s.buttons;if("string"==typeof e){for(var o=e.split("-"),a=this.s,s=0,l=o.length-1;s<l;s++)a=a.buttons[1*o[s]];r=a.buttons,e=1*o[o.length-1]}return this._expandButton(r,t,t!==i?t.split:i,(t===i||t.split===i||0===t.split.length)&&a!==i,!1,e),n!==i&&!0!==n||this._draw(),this},collectionRebuild:function(t,e){var n=this._nodeToButton(t);if(e!==i){var r;for(r=n.buttons.length-1;r>=0;r--)this.remove(n.buttons[r].node);for(n.conf.prefixButtons&&e.unshift.apply(e,n.conf.prefixButtons),n.conf.postfixButtons&&e.push.apply(e,n.conf.postfixButtons),r=0;r<e.length;r++){var o=e[r];this._expandButton(n.buttons,o,o!==i&&o.config!==i&&o.config.split!==i,!0,o.parentConf!==i&&o.parentConf.split!==i,null,o.parentConf)}}this._draw(n.collection,n.buttons)},container:function(){return this.dom.container},disable:function(e){var n=this._nodeToButton(e);return t(n.node).addClass(this.c.dom.button.disabled).prop("disabled",!0),this},destroy:function(){t("body").off("keyup."+this.s.namespace);var e,n,i=this.s.buttons.slice();for(e=0,n=i.length;e<n;e++)this.remove(i[e].node);this.dom.container.remove();var r=this.s.dt.settings()[0];for(e=0,n=r.length;e<n;e++)if(r.inst===this){r.splice(e,1);break}return this},enable:function(e,n){if(!1===n)return this.disable(e);var i=this._nodeToButton(e);return t(i.node).removeClass(this.c.dom.button.disabled).prop("disabled",!1),this},index:function(t,e,n){e||(e="",n=this.s.buttons);for(var i=0,r=n.length;i<r;i++){var o=n[i].buttons;if(n[i].node===t)return e+i;if(o&&o.length){var a=this.index(t,i+"-",o);if(null!==a)return a}}return null},name:function(){return this.c.name},node:function(e){if(!e)return this.dom.container;var n=this._nodeToButton(e);return t(n.node)},processing:function(e,n){var r=this.s.dt,o=this._nodeToButton(e);return n===i?t(o.node).hasClass("processing"):(t(o.node).toggleClass("processing",n),t(r.table().node()).triggerHandler("buttons-processing.dt",[n,r.button(e),r,t(e),o.conf]),this)},remove:function(e){var n=this._nodeToButton(e),i=this._nodeToHost(e),r=this.s.dt;if(n.buttons.length)for(var o=n.buttons.length-1;o>=0;o--)this.remove(n.buttons[o].node);n.conf.destroying=!0,n.conf.destroy&&n.conf.destroy.call(r.button(e),r,t(e),n.conf),this._removeKey(n.conf),t(n.node).remove();var a=t.inArray(n,i);return i.splice(a,1),this},text:function(e,n){var r=this._nodeToButton(e),o=this.c.dom.collection.buttonLiner,a=r.inCollection&&o&&o.tag?o.tag:this.c.dom.buttonLiner.tag,s=this.s.dt,l=t(r.node),u=function(t){return"function"==typeof t?t(s,l,r.conf):t};return n===i?u(r.conf.text):(r.conf.text=n,a?l.children(a).eq(0).filter(":not(.dt-down-arrow)").html(u(n)):l.html(u(n)),this)},_constructor:function(){var e=this,i=this.s.dt,r=i.settings()[0],o=this.c.buttons;r._buttons||(r._buttons=[]),r._buttons.push({inst:this,name:this.c.name});for(var a=0,s=o.length;a<s;a++)this.add(o[a]);i.on("destroy",function(t,n){n===r&&e.destroy()}),t("body").on("keyup."+this.s.namespace,function(t){if(!n.activeElement||n.activeElement===n.body){var i=String.fromCharCode(t.keyCode).toLowerCase();-1!==e.s.listenKeys.toLowerCase().indexOf(i)&&e._keypress(i,t)}})},_addKey:function(e){e.key&&(this.s.listenKeys+=t.isPlainObject(e.key)?e.key.key:e.key)},_draw:function(t,e){t||(t=this.dom.container,e=this.s.buttons),t.children().detach();for(var n=0,i=e.length;n<i;n++)t.append(e[n].inserter),t.append(" "),e[n].buttons&&e[n].buttons.length&&this._draw(e[n].collection,e[n].buttons)},_expandButton:function(e,n,r,o,a,s,l){var u=this.s.dt,c=!1,d=Array.isArray(n)?n:[n];n===i&&(d=Array.isArray(r)?r:[r]),n!==i&&n.split!==i&&(c=!0);for(var f=0,h=d.length;f<h;f++){var p=this._resolveExtends(d[f]);if(p)if(c=!(p.config===i||!p.config.split),Array.isArray(p))this._expandButton(e,p,g!==i&&g.conf!==i?g.conf.split:i,o,l!==i&&l.split!==i,s,l);else{var g=this._buildButton(p,o,p.split!==i||p.config!==i&&p.config.split!==i,a);if(g){if(s!==i&&null!==s?(e.splice(s,0,g),s++):e.push(g),g.conf.buttons||g.conf.split){if(g.collection=t("<"+(c?this.c.dom.splitCollection.tag:this.c.dom.collection.tag)+"/>"),g.conf._collection=g.collection,g.conf.split)for(var m=0;m<g.conf.split.length;m++)"object"==typeof g.conf.split[m]&&(g.conf.split[m].parent=l,g.conf.split[m].collectionLayout===i&&(g.conf.split[m].collectionLayout=g.conf.collectionLayout),g.conf.split[m].dropup===i&&(g.conf.split[m].dropup=g.conf.dropup),g.conf.split[m].fade===i&&(g.conf.split[m].fade=g.conf.fade));else t(g.node).append(t('<span class="dt-down-arrow">'+this.c.dom.splitDropdown.text+"</span>"));this._expandButton(g.buttons,g.conf.buttons,g.conf.split,!c,c,s,g.conf)}g.conf.parent=l,p.init&&p.init.call(u.button(g.node),u,t(g.node),p),0}}}},_buildButton:function(e,n,r,o){var a,s=this.c.dom.button,l=this.c.dom.buttonLiner,u=this.c.dom.collection,f=(this.c.dom.split,this.c.dom.splitCollection),h=this.c.dom.splitDropdownButton,p=this.s.dt,g=function(t){return"function"==typeof t?t(p,a,e):t};if(e.spacer){var m=t("<span></span>").addClass("dt-button-spacer "+e.style+" "+s.spacerClass).html(g(e.text));return{conf:e,node:m,inserter:m,buttons:[],inCollection:n,isSplit:r,inSplit:o,collection:null}}if(!r&&o&&f?s=h:!r&&n&&u.button&&(s=u.button),!r&&o&&f.buttonLiner?l=f.buttonLiner:!r&&n&&u.buttonLiner&&(l=u.buttonLiner),e.available&&!e.available(p,e)&&!e.hasOwnProperty("html"))return!1;if(e.hasOwnProperty("html"))a=t(e.html);else{var v=function(e,n,i,r){r.action.call(n.button(i),e,n,i,r),t(n.table().node()).triggerHandler("buttons-action.dt",[n.button(i),n,i,r])},b=e.tag||s.tag,y=e.clickBlurs===i||e.clickBlurs;if(a=t("<"+b+"/>").addClass(s.className).addClass(o?this.c.dom.splitDropdownButton.className:"").attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(t){t.preventDefault(),!a.hasClass(s.disabled)&&e.action&&v(t,p,a,e),y&&a.trigger("blur")}).on("keypress.dtb",function(t){13===t.keyCode&&(t.preventDefault(),!a.hasClass(s.disabled)&&e.action&&v(t,p,a,e))}),"a"===b.toLowerCase()&&a.attr("href","#"),"button"===b.toLowerCase()&&a.attr("type","button"),l.tag){var x=t("<"+l.tag+"/>").html(g(e.text)).addClass(l.className);"a"===l.tag.toLowerCase()&&x.attr("href","#"),a.append(x)}else a.html(g(e.text));!1===e.enabled&&a.addClass(s.disabled),e.className&&a.addClass(e.className),e.titleAttr&&a.attr("title",g(e.titleAttr)),e.attr&&a.attr(e.attr),e.namespace||(e.namespace=".dt-button-"+c++),e.config!==i&&e.config.split&&(e.split=e.config.split)}var w,_,C=this.c.dom.buttonContainer;if(w=C&&C.tag?t("<"+C.tag+"/>").addClass(C.className).append(a):a,this._addKey(e),this.c.buttonCreated&&(w=this.c.buttonCreated(e,w)),r){(_=t("<div/>").addClass(this.c.dom.splitWrapper.className)).append(a);var k=t.extend(e,{text:this.c.dom.splitDropdown.text,className:this.c.dom.splitDropdown.className,closeButton:!1,attr:{"aria-haspopup":"dialog","aria-expanded":!1},align:this.c.dom.splitDropdown.align,splitAlignClass:this.c.dom.splitDropdown.splitAlignClass});this._addKey(k);var S=function(e,n,i,r){d.split.action.call(n.button(_),e,n,i,r),t(n.table().node()).triggerHandler("buttons-action.dt",[n.button(i),n,i,r]),i.attr("aria-expanded",!0)},T=t('<button class="'+this.c.dom.splitDropdown.className+' dt-button"><span class="dt-btn-split-drop-arrow">'+this.c.dom.splitDropdown.text+"</span></button>").on("click.dtb",function(t){t.preventDefault(),t.stopPropagation(),T.hasClass(s.disabled)||S(t,p,T,k),y&&T.trigger("blur")}).on("keypress.dtb",function(t){13===t.keyCode&&(t.preventDefault(),T.hasClass(s.disabled)||S(t,p,T,k))});0===e.split.length&&T.addClass("dtb-hide-drop"),_.append(T).attr(k.attr)}return{conf:e,node:r?_.get(0):a.get(0),inserter:r?_:w,buttons:[],inCollection:n,isSplit:r,inSplit:o,collection:null}},_nodeToButton:function(t,e){e||(e=this.s.buttons);for(var n=0,i=e.length;n<i;n++){if(e[n].node===t)return e[n];if(e[n].buttons.length){var r=this._nodeToButton(t,e[n].buttons);if(r)return r}}},_nodeToHost:function(t,e){e||(e=this.s.buttons);for(var n=0,i=e.length;n<i;n++){if(e[n].node===t)return e;if(e[n].buttons.length){var r=this._nodeToHost(t,e[n].buttons);if(r)return r}}},_keypress:function(e,n){if(!n._buttonsHandled){var i=function(i,r){if(i.key)if(i.key===e)n._buttonsHandled=!0,t(r).click();else if(t.isPlainObject(i.key)){if(i.key.key!==e)return;if(i.key.shiftKey&&!n.shiftKey)return;if(i.key.altKey&&!n.altKey)return;if(i.key.ctrlKey&&!n.ctrlKey)return;if(i.key.metaKey&&!n.metaKey)return;n._buttonsHandled=!0,t(r).click()}},r=function(t){for(var e=0,n=t.length;e<n;e++)i(t[e].conf,t[e].node),t[e].buttons.length&&r(t[e].buttons)};r(this.s.buttons)}},_removeKey:function(e){if(e.key){var n=t.isPlainObject(e.key)?e.key.key:e.key,i=this.s.listenKeys.split(""),r=t.inArray(n,i);i.splice(r,1),this.s.listenKeys=i.join("")}},_resolveExtends:function(e){var n,r,o=this,a=this.s.dt,s=function(n){for(var r=0;!t.isPlainObject(n)&&!Array.isArray(n);){if(n===i)return;if("function"==typeof n){if(!(n=n.call(o,a,e)))return!1}else if("string"==typeof n){if(!d[n])return{html:n};n=d[n]}if(++r>30)throw"Buttons: Too many iterations"}return Array.isArray(n)?n:t.extend({},n)};for(e=s(e);e&&e.extend;){if(!d[e.extend])throw"Cannot extend unknown button type: "+e.extend;var l=s(d[e.extend]);if(Array.isArray(l))return l;if(!l)return!1;var u=l.className;e.config!==i&&l.config!==i&&(e.config=t.extend({},l.config,e.config)),e=t.extend({},l,e),u&&e.className!==u&&(e.className=u+" "+e.className),e.extend=l.extend}var c=e.postfixButtons;if(c)for(e.buttons||(e.buttons=[]),n=0,r=c.length;n<r;n++)e.buttons.push(c[n]);var f=e.prefixButtons;if(f)for(e.buttons||(e.buttons=[]),n=0,r=f.length;n<r;n++)e.buttons.splice(n,0,f[n]);return e},_popover:function(i,a,s){var l=a,u=this.c,c=!1,d=t.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",closeButton:!0,contentClassName:u.dom.collection.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,popoverTitle:"",rightAlignClassName:"dt-button-right",tag:u.dom.collection.tag},s),h=a.node(),p=function(){c=!0,o(t(".dt-button-collection"),d.fade,function(){t(this).detach()}),t(l.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes()).attr("aria-expanded","false"),t("div.dt-button-background").off("click.dtb-collection"),f.background(!1,d.backgroundClassName,d.fade,h),t(e).off("resize.resize.dtb-collection"),t("body").off(".dtb-collection"),l.off("buttons-action.b-internal"),l.off("destroy")};if(!1!==i){var g=t(l.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes());g.length&&(h.closest("div.dt-button-collection").length&&(h=g.eq(0)),p());var m=t(".dt-button",i).length,v="";3===m?v="dtb-b3":2===m?v="dtb-b2":1===m&&(v="dtb-b1");var b=t("<div/>").addClass("dt-button-collection").addClass(d.collectionLayout).addClass(d.splitAlignClass).addClass(v).css("display","none").attr({"aria-modal":!0,role:"dialog"});i=t(i).addClass(d.contentClassName).attr("role","menu").appendTo(b),h.attr("aria-expanded","true"),h.parents("body")[0]!==n.body&&(h=n.body.lastChild),d.popoverTitle?b.prepend('<div class="dt-button-collection-title">'+d.popoverTitle+"</div>"):d.collectionTitle&&b.prepend('<div class="dt-button-collection-title">'+d.collectionTitle+"</div>"),d.closeButton&&b.prepend('<div class="dtb-popover-close">x</div>').addClass("dtb-collection-closeable"),r(b.insertAfter(h),d.fade);var y=t(a.table().container()),x=b.css("position");if("container"!==d.span&&"dt-container"!==d.align||(h=h.parent(),b.css("width",y.width())),"absolute"===x){var w=t(h[0].offsetParent),_=h.position(),C=h.offset(),k=w.offset(),S=w.position(),T=e.getComputedStyle(w[0]);k.height=w.outerHeight(),k.width=w.width()+parseFloat(T.paddingLeft),k.right=k.left+k.width,k.bottom=k.top+k.height;var M=_.top+h.outerHeight(),D=_.left;b.css({top:M,left:D}),T=e.getComputedStyle(b[0]);var A=b.offset();A.height=b.outerHeight(),A.width=b.outerWidth(),A.right=A.left+A.width,A.bottom=A.top+A.height,A.marginTop=parseFloat(T.marginTop),A.marginBottom=parseFloat(T.marginBottom),d.dropup&&(M=_.top-A.height-A.marginTop-A.marginBottom),("button-right"===d.align||b.hasClass(d.rightAlignClassName))&&(D=_.left-A.width+h.outerWidth()),"dt-container"!==d.align&&"container"!==d.align||(D<_.left&&(D=-_.left),D+A.width>k.width&&(D=k.width-A.width)),S.left+D+A.width>t(e).width()&&(D=t(e).width()-A.width-S.left),C.left+D<0&&(D=-C.left),S.top+M+A.height>t(e).height()+t(e).scrollTop()&&(M=_.top-A.height-A.marginTop-A.marginBottom),S.top+M<t(e).scrollTop()&&(M=_.top+h.outerHeight()),b.css({top:M,left:D})}else{(x=function(){var n=t(e).height()/2,i=b.height()/2;i>n&&(i=n),b.css("marginTop",-1*i)})(),t(e).on("resize.dtb-collection",function(){x()})}d.background&&f.background(!0,d.backgroundClassName,d.fade,d.backgroundHost||h),t("div.dt-button-background").on("click.dtb-collection",function(){}),d.autoClose&&setTimeout(function(){l.on("buttons-action.b-internal",function(t,e,n,i){i[0]!==h[0]&&p()})},0),t(b).trigger("buttons-popover.dt"),l.on("destroy",p),setTimeout(function(){c=!1,t("body").on("click.dtb-collection",function(e){if(!c){var n=t.fn.addBack?"addBack":"andSelf",r=t(e.target).parent()[0];(!t(e.target).parents()[n]().filter(i).length&&!t(r).hasClass("dt-buttons")||t(e.target).hasClass("dt-button-background"))&&p()}}).on("keyup.dtb-collection",function(t){27===t.keyCode&&p()}).on("keydown.dtb-collection",function(e){var r=t("a, button",i),o=n.activeElement;9===e.keyCode&&(-1===r.index(o)?(r.first().focus(),e.preventDefault()):e.shiftKey?o===r[0]&&(r.last().focus(),e.preventDefault()):o===r.last()[0]&&(r.first().focus(),e.preventDefault()))})},0)}else p()}}),f.background=function(e,a,s,l){s===i&&(s=400),l||(l=n.body),e?r(t("<div/>").addClass(a).css("display","none").insertAfter(l),s):o(t("div."+a),s,function(){t(this).removeClass(a).remove()})},f.instanceSelector=function(e,n){if(e===i||null===e)return t.map(n,function(t){return t.inst});var r=[],o=t.map(n,function(t){return t.name}),a=function(e){if(Array.isArray(e))for(var i=0,s=e.length;i<s;i++)a(e[i]);else if("string"==typeof e)if(-1!==e.indexOf(","))a(e.split(","));else{var l=t.inArray(e.trim(),o);-1!==l&&r.push(n[l].inst)}else"number"==typeof e?r.push(n[e].inst):"object"==typeof e&&r.push(e)};return a(e),r},f.buttonSelector=function(e,n){for(var r=[],o=function(t,e,n){for(var r,a,s=0,l=e.length;s<l;s++)(r=e[s])&&(a=n!==i?n+s:s+"",t.push({node:r.node,name:r.conf.name,idx:a}),r.buttons&&o(t,r.buttons,a+"-"))},a=function(e,n){var s,l,u=[];o(u,n.s.buttons);var c=t.map(u,function(t){return t.node});if(Array.isArray(e)||e instanceof t)for(s=0,l=e.length;s<l;s++)a(e[s],n);else if(null===e||e===i||"*"===e)for(s=0,l=u.length;s<l;s++)r.push({inst:n,node:u[s].node});else if("number"==typeof e)n.s.buttons[e]&&r.push({inst:n,node:n.s.buttons[e].node});else if("string"==typeof e)if(-1!==e.indexOf(",")){var d=e.split(",");for(s=0,l=d.length;s<l;s++)a(d[s].trim(),n)}else if(e.match(/^\d+(\-\d+)*$/)){var f=t.map(u,function(t){return t.idx});r.push({inst:n,node:u[t.inArray(e,f)].node})}else if(-1!==e.indexOf(":name")){var h=e.replace(":name","");for(s=0,l=u.length;s<l;s++)u[s].name===h&&r.push({inst:n,node:u[s].node})}else t(c).filter(e).each(function(){r.push({inst:n,node:this})});else if("object"==typeof e&&e.nodeName){var p=t.inArray(e,c);-1!==p&&r.push({inst:n,node:c[p]})}},s=0,l=e.length;s<l;s++){var u=e[s];a(n,u)}return r},f.stripData=function(t,e){return"string"!=typeof t?t:(t=(t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).replace(/<!\-\-.*?\-\->/g,""),e&&!e.stripHtml||(t=t.replace(/<[^>]*>/g,"")),e&&!e.trim||(t=t.replace(/^\s+|\s+$/g,"")),e&&!e.stripNewlines||(t=t.replace(/\n/g," ")),e&&!e.decodeEntities||(v.innerHTML=t,t=v.value),t)},f.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:""},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled",spacerClass:""},buttonLiner:{tag:"span",className:""},split:{tag:"div",className:"dt-button-split"},splitWrapper:{tag:"div",className:"dt-btn-split-wrapper"},splitDropdown:{tag:"button",text:"&#x25BC;",className:"dt-btn-split-drop",align:"split-right",splitAlignClass:"dt-button-split-left"},splitDropdownButton:{tag:"button",className:"dt-btn-split-drop-button dt-button"},splitCollection:{tag:"div",className:"dt-button-split-collection"}}},f.version="2.3.4",t.extend(d,{collection:{text:function(t){return t.i18n("buttons.collection","Collection")},className:"buttons-collection",closeButton:!1,init:function(t,e){e.attr("aria-expanded",!1)},action:function(e,n,i,r){r._collection.parents("body").length?this.popover(!1,r):this.popover(r._collection,r),"keypress"===e.type&&t("a, button",r._collection).eq(0).focus()},attr:{"aria-haspopup":"dialog"}},split:{text:function(t){return t.i18n("buttons.split","Split")},className:"buttons-split",closeButton:!1,init:function(t,e){return e.attr("aria-expanded",!1)},action:function(t,e,n,i){this.popover(i._collection,i)},attr:{"aria-haspopup":"dialog"}},copy:function(){if(d.copyHtml5)return"copyHtml5"},csv:function(t,e){if(d.csvHtml5&&d.csvHtml5.available(t,e))return"csvHtml5"},excel:function(t,e){if(d.excelHtml5&&d.excelHtml5.available(t,e))return"excelHtml5"},pdf:function(t,e){if(d.pdfHtml5&&d.pdfHtml5.available(t,e))return"pdfHtml5"},pageLength:function(e){var n=e.settings()[0].aLengthMenu,i=[],r=[],o=function(t){return t.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},t.page.len())};if(Array.isArray(n[0]))i=n[0],r=n[1];else for(var a=0;a<n.length;a++){var s=n[a];t.isPlainObject(s)?(i.push(s.value),r.push(s.label)):(i.push(s),r.push(s))}return{extend:"collection",text:o,className:"buttons-page-length",autoClose:!0,buttons:t.map(i,function(t,e){return{text:r[e],className:"button-page-length",action:function(e,n){n.page.len(t).draw()},init:function(e,n,i){var r=this,o=function(){r.active(e.page.len()===t)};e.on("length.dt"+i.namespace,o),o()},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}}),init:function(t,e,n){var i=this;t.on("length.dt"+n.namespace,function(){i.text(n.text)})},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}},spacer:{style:"empty",spacer:!0,text:function(t){return t.i18n("buttons.spacer","")}}}),l.Api.register("buttons()",function(t,e){e===i&&(e=t,t=i),this.selector.buttonGroup=t;var n=this.iterator(!0,"table",function(n){if(n._buttons)return f.buttonSelector(f.instanceSelector(t,n._buttons),e)},!0);return n._groupSelector=t,n}),l.Api.register("button()",function(t,e){var n=this.buttons(t,e);return n.length>1&&n.splice(1,n.length),n}),l.Api.registerPlural("buttons().active()","button().active()",function(t){return t===i?this.map(function(t){return t.inst.active(t.node)}):this.each(function(e){e.inst.active(e.node,t)})}),l.Api.registerPlural("buttons().action()","button().action()",function(t){return t===i?this.map(function(t){return t.inst.action(t.node)}):this.each(function(e){e.inst.action(e.node,t)})}),l.Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",function(t){return this.each(function(e){for(var n=0;n<t.length;n++)"object"==typeof t[n]&&(t[n].parentConf=e);e.inst.collectionRebuild(e.node,t)})}),l.Api.register(["buttons().enable()","button().enable()"],function(t){return this.each(function(e){e.inst.enable(e.node,t)})}),l.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(t){t.inst.disable(t.node)})}),l.Api.register("button().index()",function(){var t=null;return this.each(function(e){var n=e.inst.index(e.node);null!==n&&(t=n)}),t}),l.Api.registerPlural("buttons().nodes()","button().node()",function(){var e=t();return t(this.each(function(t){e=e.add(t.inst.node(t.node))})),e}),l.Api.registerPlural("buttons().processing()","button().processing()",function(t){return t===i?this.map(function(t){return t.inst.processing(t.node)}):this.each(function(e){e.inst.processing(e.node,t)})}),l.Api.registerPlural("buttons().text()","button().text()",function(t){return t===i?this.map(function(t){return t.inst.text(t.node)}):this.each(function(e){e.inst.text(e.node,t)})}),l.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(t){t.inst.node(t.node).trigger("click")})}),l.Api.register("button().popover()",function(t,e){return this.map(function(n){return n.inst._popover(t,this.button(this[0].node),e)})}),l.Api.register("buttons().containers()",function(){var e=t(),n=this._groupSelector;return this.iterator(!0,"table",function(t){if(t._buttons)for(var i=f.instanceSelector(n,t._buttons),r=0,o=i.length;r<o;r++)e=e.add(i[r].container())}),e}),l.Api.register("buttons().container()",function(){return this.containers().eq(0)}),l.Api.register("button().add()",function(t,e,n){var i=this.context;if(i.length){var r=f.instanceSelector(this._groupSelector,i[0]._buttons);r.length&&r[0].add(e,t,n)}return this.button(this._groupSelector,t)}),l.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(t){t.destroy()}),this}),l.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(t){t.inst.remove(t.node)}),this}),l.Api.register("buttons.info()",function(e,n,a){var l=this;return!1===e?(this.off("destroy.btn-info"),o(t("#datatables_buttons_info"),400,function(){t(this).remove()}),clearTimeout(s),s=null,this):(s&&clearTimeout(s),t("#datatables_buttons_info").length&&t("#datatables_buttons_info").remove(),e=e?"<h2>"+e+"</h2>":"",r(t('<div id="datatables_buttons_info" class="dt-button-info"/>').html(e).append(t("<div/>")["string"==typeof n?"html":"append"](n)).css("display","none").appendTo("body")),a!==i&&0!==a&&(s=setTimeout(function(){l.buttons.info(!1)},a)),this.on("destroy.btn-info",function(){l.buttons.info(!1)}),this)}),l.Api.register("buttons.exportData()",function(t){if(this.context.length)return b(new l.Api(this.context[0]),t)}),l.Api.register("buttons.exportInfo()",function(t){return t||(t={}),{filename:h(t),title:g(t),messageTop:m(this,t.message||t.messageTop,"top"),messageBottom:m(this,t.messageBottom,"bottom")}});var h=function(e){var n="*"===e.filename&&"*"!==e.title&&e.title!==i&&null!==e.title&&""!==e.title?e.title:e.filename;if("function"==typeof n&&(n=n()),n===i||null===n)return null;-1!==n.indexOf("*")&&(n=n.replace("*",t("head > title").text()).trim()),n=n.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var r=p(e.extension);return r||(r=""),n+r},p=function(t){return null===t||t===i?null:"function"==typeof t?t():t},g=function(e){var n=p(e.title);return null===n?null:-1!==n.indexOf("*")?n.replace("*",t("head > title").text()||"Exported data"):n},m=function(e,n,i){var r=p(n);if(null===r)return null;var o=t("caption",e.table().container()).eq(0);return"*"===r?o.css("caption-side")!==i?null:o.length?o.text():"":r},v=t("<textarea/>")[0],b=function(e,n){var r=t.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(t){return f.stripData(t,r)},footer:function(t){return f.stripData(t,r)},body:function(t){return f.stripData(t,r)}},customizeData:null},n),o=e.columns(r.columns).indexes().map(function(t){var n=e.column(t).header();return r.format.header(n.innerHTML,t,n)}).toArray(),a=e.table().footer()?e.columns(r.columns).indexes().map(function(t){var n=e.column(t).footer();return r.format.footer(n?n.innerHTML:"",t,n)}).toArray():null,s=t.extend({},r.modifier);e.select&&"function"==typeof e.select.info&&s.selected===i&&e.rows(r.rows,t.extend({selected:!0},s)).any()&&t.extend(s,{selected:!0});for(var l=e.rows(r.rows,s).indexes().toArray(),u=e.cells(l,r.columns),c=u.render(r.orthogonal).toArray(),d=u.nodes().toArray(),h=o.length,p=[],g=0,m=0,v=h>0?c.length/h:0;m<v;m++){for(var b=[h],y=0;y<h;y++)b[y]=r.format.body(c[g],m,y,d[g]),g++;p[m]=b}var x={header:o,footer:a,body:p};return r.customizeData&&r.customizeData(x),x};return t.fn.dataTable.Buttons=f,t.fn.DataTable.Buttons=f,t(n).on("init.dt plugin-init.dt",function(t,e){if("dt"===t.namespace){var n=e.oInit.buttons||l.defaults.buttons;n&&!e._buttons&&new f(e,n).container()}}),l.ext.feature.push({fnInit:a,cFeature:"B"}),l.ext.features&&l.ext.features.register("buttons",a),l}),
/*! DataTables styling wrapper for Buttons
 * 2018 SpryMedia Ltd - datatables.net/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net-dt","datatables.net-buttons"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n.fn.dataTable||require("datatables.net-dt")(e,n),n.fn.dataTable.Buttons||require("datatables.net-buttons")(e,n),t(n,e,e.document)}:t(jQuery,window,document)}(function(t,e,n){"use strict";var i,r=t.fn.dataTable;return i=function(t){return t.fn.dataTable},"function"==typeof define&&define.amd?define(["jquery","datatables.net-dt","datatables.net-buttons"],function(t){return i(t,e,n)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=e),n&&n.fn.dataTable||(n=require("datatables.net-dt")(t,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(t,n),i(n,t,t.document)}:i(jQuery,e,n),r}),
/*!
 * HTML5 export buttons for Buttons and DataTables.
 * 2016 SpryMedia Ltd - datatables.net/license
 *
 * FileSaver.js (1.3.3) - MIT license
 * Copyright  2016 Eli Grey - http://eligrey.com
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n,i,r){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n.fn.dataTable||require("datatables.net")(e,n),n.fn.dataTable.Buttons||require("datatables.net-buttons")(e,n),t(n,e,e.document,i,r)}:t(jQuery,window,document)}(function(t,e,n,i,r,o){"use strict";function a(){return f||e.JSZip}function s(){return h||e.pdfMake}function l(t){for(var e="A".charCodeAt(0),n="Z".charCodeAt(0)-e+1,i="";t>=0;)i=String.fromCharCode(t%n+e)+i,t=Math.floor(t/n)-1;return i}function u(n,i){x===o&&(x=-1===w.serializeToString((new e.DOMParser).parseFromString(_["xl/worksheets/sheet1.xml"],"text/xml")).indexOf("xmlns:r")),t.each(i,function(e,i){if(t.isPlainObject(i)){u(n.folder(e),i)}else{if(x){var r,o,a=i.childNodes[0],s=[];for(r=a.attributes.length-1;r>=0;r--){var l=a.attributes[r].nodeName,c=a.attributes[r].nodeValue;-1!==l.indexOf(":")&&(s.push({name:l,value:c}),a.removeAttribute(l))}for(r=0,o=s.length;r<o;r++){var d=i.createAttribute(s[r].name.replace(":","_dt_b_namespace_token_"));d.value=s[r].value,a.setAttributeNode(d)}}var f=w.serializeToString(i);x&&(-1===f.indexOf("<?xml")&&(f='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+f),f=(f=f.replace(/_dt_b_namespace_token_/g,":")).replace(/xmlns:NS[\d]+="" NS[\d]+:/g,"")),f=f.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),n.file(e,f)}})}function c(e,n,i){var r=e.createElement(n);return i&&(i.attr&&t(r).attr(i.attr),i.children&&t.each(i.children,function(t,e){r.appendChild(e)}),null!==i.text&&i.text!==o&&r.appendChild(e.createTextNode(i.text))),r}function d(t,e){var n,i,r,a=t.header[e].length;t.footer&&t.footer[e].length>a&&(a=t.footer[e].length);for(var s=0,l=t.body.length;s<l;s++){var u=t.body[s][e];if(-1!==(r=null!==u&&u!==o?u.toString():"").indexOf("\n")?((i=r.split("\n")).sort(function(t,e){return e.length-t.length}),n=i[0].length):n=r.length,n>a&&(a=n),a>40)return 54}return(a*=1.35)>6?a:6}var f,h,p=t.fn.dataTable;p.Buttons.pdfMake=function(t){if(!t)return s();h=t},p.Buttons.jszip=function(t){if(!t)return a();f=t};var g=function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,a=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},s=/constructor/i.test(t.HTMLElement)||t.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c="application/octet-stream",d=4e4,f=function(t){setTimeout(function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()},d)},h=function(t,e,n){for(var i=(e=[].concat(e)).length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(o){u(o)}}},p=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},g=function(e,u,d){d||(e=p(e));var g,m=this,v=e.type===c,b=function(){h(m,"writestart progress write writeend".split(" "))},y=function(){if((l||v&&s)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=l?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=o,m.readyState=m.DONE,b()},i.readAsDataURL(e),void(m.readyState=m.INIT)}(g||(g=n().createObjectURL(e)),v)?t.location.href=g:t.open(g,"_blank")||(t.location.href=g);m.readyState=m.DONE,b(),f(g)};if(m.readyState=m.INIT,r)return g=n().createObjectURL(e),void setTimeout(function(){i.href=g,i.download=u,a(i),b(),f(g),m.readyState=m.DONE});y()},m=g.prototype,v=function(t,e,n){return new g(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=p(t)),navigator.msSaveOrOpenBlob(t,e)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,v)}}("undefined"!=typeof self&&self||void 0!==e&&e||this.content);p.fileSave=g;var m=function(t){var e="Sheet1";return t.sheetName&&(e=t.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),e},v=function(t){return t.newline?t.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},b=function(t,e){for(var n=v(e),i=t.buttons.exportData(e.exportOptions),r=e.fieldBoundary,a=e.fieldSeparator,s=new RegExp(r,"g"),l=e.escapeChar!==o?e.escapeChar:"\\",u=function(t){for(var e="",n=0,i=t.length;n<i;n++)n>0&&(e+=a),e+=r?r+(""+t[n]).replace(s,l+r)+r:t[n];return e},c=e.header?u(i.header)+n:"",d=e.footer&&i.footer?n+u(i.footer):"",f=[],h=0,p=i.body.length;h<p;h++)f.push(u(i.body[h]));return{str:c+f.join(n)+d,rows:f.length}},y=function(){if(!(-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Opera")))return!1;var t=navigator.userAgent.match(/AppleWebKit\/(\d+\.\d+)/);return!!(t&&t.length>1&&1*t[1]<603.1)};try{var x,w=new XMLSerializer}catch(k){}var _={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><definedNames/></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/><mergeCells count="0"/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;\xa3&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$\u20ac-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="68"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="1" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="2" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="14" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},C=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(t){return t/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(t){return t/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?\xa3[\d,]+.?\d*$/,style:58},{match:/^\-?\u20ac[\d,]+.?\d*$/,style:59},{match:/^\-?\d+$/,style:65},{match:/^\-?\d+\.\d{2}$/,style:66},{match:/^\([\d,]+\)$/,style:61,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^\-?[\d,]+$/,style:63},{match:/^\-?[\d,]+\.\d{2}$/,style:64},{match:/^[\d]{4}\-[01][\d]\-[0123][\d]$/,style:67,fmt:function(t){return Math.round(25569+Date.parse(t)/864e5)}}];return p.ext.buttons.copyHtml5={className:"buttons-copy buttons-html5",text:function(t){return t.i18n("buttons.copy","Copy")},action:function(e,i,r,o){this.processing(!0);var a=this,s=b(i,o),l=i.buttons.exportInfo(o),u=v(o),c=s.str,d=t("<div/>").css({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0});l.title&&(c=l.title+u+u+c),l.messageTop&&(c=l.messageTop+u+u+c),l.messageBottom&&(c=c+u+u+l.messageBottom),o.customize&&(c=o.customize(c,o,i));var f=t("<textarea readonly/>").val(c).appendTo(d);if(n.queryCommandSupported("copy")){d.appendTo(i.table().container()),f[0].focus(),f[0].select();try{var h=n.execCommand("copy");if(d.remove(),h)return i.buttons.info(i.i18n("buttons.copyTitle","Copy to clipboard"),i.i18n("buttons.copySuccess",{1:"Copied one row to clipboard",_:"Copied %d rows to clipboard"},s.rows),2e3),void this.processing(!1)}catch(k){}}var p=t("<span>"+i.i18n("buttons.copyKeys","Press <i>ctrl</i> or <i>\u2318</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.")+"</span>").append(d);i.buttons.info(i.i18n("buttons.copyTitle","Copy to clipboard"),p,0),f[0].focus(),f[0].select();var g=t(p).closest(".dt-button-info"),m=function(){g.off("click.buttons-copy"),t(n).off(".buttons-copy"),i.buttons.info(!1)};g.on("click.buttons-copy",m),t(n).on("keydown.buttons-copy",function(t){27===t.keyCode&&(m(),a.processing(!1))}).on("copy.buttons-copy cut.buttons-copy",function(){m(),a.processing(!1)})},exportOptions:{},fieldSeparator:"\t",fieldBoundary:"",header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*"},p.ext.buttons.csvHtml5={bom:!1,className:"buttons-csv buttons-html5",available:function(){return e.FileReader!==o&&e.Blob},text:function(t){return t.i18n("buttons.csv","CSV")},action:function(t,e,i,r){this.processing(!0);var o=b(e,r).str,a=e.buttons.exportInfo(r),s=r.charset;r.customize&&(o=r.customize(o,r,e)),!1!==s?(s||(s=n.characterSet||n.charset),s&&(s=";charset="+s)):s="",r.bom&&(o=String.fromCharCode(65279)+o),g(new Blob([o],{type:"text/csv"+s}),a.filename,!0),this.processing(!1)},filename:"*",extension:".csv",exportOptions:{},fieldSeparator:",",fieldBoundary:'"',escapeChar:'"',charset:null,header:!0,footer:!1},p.ext.buttons.excelHtml5={className:"buttons-excel buttons-html5",available:function(){return e.FileReader!==o&&a()!==o&&!y()&&w},text:function(t){return t.i18n("buttons.excel","Excel")},action:function(e,n,i,r){this.processing(!0);var s,f,h,p,v=this,b=0,y=function(e){var n=_[e];return t.parseXML(n)},x=y("xl/worksheets/sheet1.xml"),w=x.getElementsByTagName("sheetData")[0],k={_rels:{".rels":y("_rels/.rels")},xl:{_rels:{"workbook.xml.rels":y("xl/_rels/workbook.xml.rels")},"workbook.xml":y("xl/workbook.xml"),"styles.xml":y("xl/styles.xml"),worksheets:{"sheet1.xml":x}},"[Content_Types].xml":y("[Content_Types].xml")},S=n.buttons.exportData(r.exportOptions),T=function(t){p=c(x,"row",{attr:{r:h=b+1}});for(var e=0,n=t.length;e<n;e++){var i=l(e)+""+h,a=null;if(null===t[e]||t[e]===o||""===t[e]){if(!0!==r.createEmptyCells)continue;t[e]=""}var s=t[e];t[e]="function"==typeof t[e].trim?t[e].trim():t[e];for(var u=0,d=C.length;u<d;u++){var f=C[u];if(t[e].match&&!t[e].match(/^0\d+/)&&t[e].match(f.match)){var g=t[e].replace(/[^\d\.\-]/g,"");f.fmt&&(g=f.fmt(g)),a=c(x,"c",{attr:{r:i,s:f.style},children:[c(x,"v",{text:g})]});break}}if(!a)if("number"==typeof t[e]||t[e].match&&t[e].match(/^-?\d+(\.\d+)?([eE]\-?\d+)?$/)&&!t[e].match(/^0\d+/))a=c(x,"c",{attr:{t:"n",r:i},children:[c(x,"v",{text:t[e]})]});else{var m=s.replace?s.replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):s;a=c(x,"c",{attr:{t:"inlineStr",r:i},children:{row:c(x,"is",{children:{row:c(x,"t",{text:m,attr:{"xml:space":"preserve"}})}})}})}p.appendChild(a)}w.appendChild(p),b++};r.customizeData&&r.customizeData(S);var M=function(e,n){var i=t("mergeCells",x);i[0].appendChild(c(x,"mergeCell",{attr:{ref:"A"+e+":"+l(n)+e}})),i.attr("count",parseFloat(i.attr("count"))+1),t("row:eq("+(e-1)+") c",x).attr("s","51")},D=n.buttons.exportInfo(r);D.title&&(T([D.title],b),M(b,S.header.length-1)),D.messageTop&&(T([D.messageTop],b),M(b,S.header.length-1)),r.header&&(T(S.header,b),t("row:last c",x).attr("s","2")),s=b;for(var A=0,I=S.body.length;A<I;A++)T(S.body[A],b);f=b,r.footer&&S.footer&&(T(S.footer,b),t("row:last c",x).attr("s","2")),D.messageBottom&&(T([D.messageBottom],b),M(b,S.header.length-1));var j=c(x,"cols");t("worksheet",x).prepend(j);for(var $=0,F=S.header.length;$<F;$++)j.appendChild(c(x,"col",{attr:{min:$+1,max:$+1,width:d(S,$),customWidth:1}}));var E=k.xl["workbook.xml"];t("sheets sheet",E).attr("name",m(r)),r.autoFilter&&(t("mergeCells",x).before(c(x,"autoFilter",{attr:{ref:"A"+s+":"+l(S.header.length-1)+f}})),t("definedNames",E).append(c(E,"definedName",{attr:{name:"_xlnm._FilterDatabase",localSheetId:"0",hidden:1},text:m(r)+"!$A$"+s+":"+l(S.header.length-1)+f}))),r.customize&&r.customize(k,r,n),0===t("mergeCells",x).children().length&&t("mergeCells",x).remove();var O=new(a()),P={compression:"DEFLATE",type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};u(O,k);var L=D.filename;L>175&&(L=L.substr(0,175)),O.generateAsync?O.generateAsync(P).then(function(t){g(t,L),v.processing(!1)}):(g(O.generate(P),L),this.processing(!1))},filename:"*",extension:".xlsx",exportOptions:{},header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*",createEmptyCells:!1,autoFilter:!1,sheetName:""},p.ext.buttons.pdfHtml5={className:"buttons-pdf buttons-html5",available:function(){return e.FileReader!==o&&s()},text:function(t){return t.i18n("buttons.pdf","PDF")},action:function(e,n,i,r){this.processing(!0);var a=n.buttons.exportData(r.exportOptions),l=n.buttons.exportInfo(r),u=[];r.header&&u.push(t.map(a.header,function(t){return{text:"string"==typeof t?t:t+"",style:"tableHeader"}}));for(var c=0,d=a.body.length;c<d;c++)u.push(t.map(a.body[c],function(t){return null!==t&&t!==o||(t=""),{text:"string"==typeof t?t:t+"",style:c%2?"tableBodyEven":"tableBodyOdd"}}));r.footer&&a.footer&&u.push(t.map(a.footer,function(t){return{text:"string"==typeof t?t:t+"",style:"tableFooter"}}));var f={pageSize:r.pageSize,pageOrientation:r.orientation,content:[{table:{headerRows:1,body:u},layout:"noBorders"}],styles:{tableHeader:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154",alignment:"center"},tableBodyEven:{},tableBodyOdd:{fillColor:"#f3f3f3"},tableFooter:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154"},title:{alignment:"center",fontSize:15},message:{}},defaultStyle:{fontSize:10}};l.messageTop&&f.content.unshift({text:l.messageTop,style:"message",margin:[0,0,0,12]}),l.messageBottom&&f.content.push({text:l.messageBottom,style:"message",margin:[0,0,0,12]}),l.title&&f.content.unshift({text:l.title,style:"title",margin:[0,0,0,12]}),r.customize&&r.customize(f,r,n);var h=s().createPdf(f);"open"!==r.download||y()?h.download(l.filename):h.open(),this.processing(!1)},title:"*",filename:"*",extension:".pdf",exportOptions:{},orientation:"portrait",pageSize:"A4",header:!0,footer:!1,messageTop:"*",messageBottom:"*",customize:null,download:"download"},p}),function(t,e,n,i){"function"==typeof define&&define.amd?define(function(){return i(t,e,n)}):"object"==typeof exports?module.exports=i:t.ssm=i(t,e,n)}(window,document,undefined,function(t){"use strict";function e(t){this.message=t,this.name="Error"}function n(t){this.id=t.id||a(),this.query=t.query||"",delete t.id,delete t.query;var e={onEnter:[],onLeave:[],onResize:[],onFirstRun:[]};if(this.options=o(e,t),"function"==typeof this.options.onEnter&&(this.options.onEnter=[this.options.onEnter]),"function"==typeof this.options.onLeave&&(this.options.onLeave=[this.options.onLeave]),"function"==typeof this.options.onResize&&(this.options.onResize=[this.options.onResize]),"function"==typeof this.options.onFirstRun&&(this.options.onFirstRun=[this.options.onFirstRun]),!1===this.testConfigOptions("once"))return this.valid=!1,!1;this.valid=!0,this.active=!1,this.init()}function i(){this.states=[],this.resizeTimer=null,this.configOptions=[],t.addEventListener("resize",l(this.resizeBrowser.bind(this),u),!0)}function r(t,e,n){for(var i=t.length,r=[],o=0;o<i;o++){var a=t[o];a[e]&&a[e]===n&&r.push(a)}return r}function o(t,e){var n={};for(var i in t)n[i]=t[i];for(var r in e)n[r]=e[r];return n}function a(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<10;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function s(t){for(var e=t.length,n=0;n<e;n++)t[n]()}function l(t,e,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,n||t.apply(r,o)},s=n&&!i;clearTimeout(i),i=setTimeout(a,e),s&&t.apply(r,o)}}var u=25,c=function(){};return n.prototype={init:function(){this.test=t.matchMedia(this.query),this.test.matches&&this.testConfigOptions("match")&&this.enterState(),this.listener=function(t){var e=!1;t.matches?this.testConfigOptions("match")&&(this.enterState(),e=!0):(this.leaveState(),e=!0),e&&c()}.bind(this),this.test.addListener(this.listener)},enterState:function(){s(this.options.onFirstRun),s(this.options.onEnter),this.options.onFirstRun=[],this.active=!0},leaveState:function(){s(this.options.onLeave),this.active=!1},resizeState:function(){this.testConfigOptions("resize")&&s(this.options.onResize)},destroy:function(){this.test.removeListener(this.listener)},testConfigOptions:function(t){for(var e=this.configOptions.length,n=0;n<e;n++){var i=this.configOptions[n];if("undefined"!=typeof this.options[i.name]&&i.when===t&&!1===i.test.bind(this)())return!1}return!0},configOptions:[]},i.prototype={addState:function(t){var e=new n(t);return e.valid&&this.states.push(e),e},addStates:function(t){for(var e=t.length-1;e>=0;e--)this.addState(t[e]);return this},getState:function(t){for(var e=this.states.length-1;e>=0;e--){var n=this.states[e];if(n.id===t)return n}},isActive:function(t){return(this.getState(t)||{}).active||!1},getStates:function(t){var e=null,n=[];if(void 0===t)return this.states;e=t.length;for(var i=0;i<e;i++)n.push(this.getState(t[i]));return n},removeState:function(t){for(var e=this.states.length-1;e>=0;e--){var n=this.states[e];n.id===t&&(n.destroy(),this.states.splice(e,1))}return this},removeStates:function(t){for(var e=t.length-1;e>=0;e--)this.removeState(t[e]);return this},removeAllStates:function(){for(var t=this.states.length-1;t>=0;t--){this.states[t].destroy()}this.states=[]},addConfigOption:function(t){""!==(t=o({name:"",test:null,when:"resize"},t)).name&&null!==t.test&&n.prototype.configOptions.push(t)},removeConfigOption:function(t){for(var e=n.prototype.configOptions,i=e.length-1;i>=0;i--)e[i].name===t&&e.splice(i,1);n.prototype.configOptions=e},getConfigOption:function(t){var e=n.prototype.configOptions;if("string"!=typeof t)return e;for(var i=e.length-1;i>=0;i--)if(e[i].name===t)return e[i]},getConfigOptions:function(){return n.prototype.configOptions},resizeBrowser:function(){for(var t=r(this.states,"active",!0),e=t.length,n=0;n<e;n++)t[n].resizeState()},stateChange:function(t){if("function"!=typeof t)throw new e("Not a function");c=t}},new i}),function(t,e,n){"function"==typeof define&&define.amd?define("memorystorage",[],function(){return n()}):"object"==typeof exports?module.exports=n():t[e]=n()}(this,"MemoryStorage",function(){"use strict";
/*! 
 * memorystorage.js - A memory-backed implementation of the Web Storage API.
 *
 * @copyright Copyright 2015 by Stijn de Witt. Some rights reserved. 
 * @license Licensed under [Creative Commons Attribution 4.0 International (CC BY 4.0)](https://creativecommons.org/licenses/by/4.0/).
 */function t(r){function o(){return Object.keys(a).filter(function(t){return!(t in e)}).concat(Object.keys(s))}var a=i[r=r||"global"];if(a)return a;if(!(this instanceof t))return new t(r);a=i[r]=this;var s={};return Object.defineProperty(a,n,{enumerable:!1,configurable:!0,get:function(){return s}}),Object.defineProperty(a,"id",{enumerable:!0,configurable:!0,get:function(){return r}}),Object.defineProperty(a,"length",{enumerable:!0,configurable:!0,get:function(){return o().length}}),a.getItem=function(t){return t in e?this[n][t]:this[t]},a.setItem=function(t,i){t in e?this[n][t]=i:this[t]=i},a.removeItem=function(t){t in e?delete this[n][t]:delete this[t]},a.key=function(t){var e=o();return t>=0&&t<e.length?e[t]:null},a.clear=function(){for(var t=Object.keys(this).filter(function(t){return!(t in e)}),i=0;r=t[i];i++)r in e||delete this[r];t=Object.keys(this[n]);var r;for(i=0;r=t[i];i++)delete this[n][r]},"undefined"==typeof Proxy?a:new Proxy(a,{ownKeys:function(){return o()}})}var e={clear:1,getItem:1,id:1,key:1,length:1,removeItem:1,setItem:1},n="__memorystorage_cloaked_items__",i={};return t}),function(t){"use strict";function e(e,n){if((n=n||{}).worker&&Papa.WORKERS_SUPPORTED){var i=c();return i.userStep=n.step,i.userChunk=n.chunk,i.userComplete=n.complete,i.userError=n.error,n.step=v(n.step),n.chunk=v(n.chunk),n.complete=v(n.complete),n.error=v(n.error),delete n.worker,void i.postMessage({input:e,config:n,workerId:i.id})}var s=null;return"string"==typeof e?s=n.download?new r(n):new a(n):(t.File&&e instanceof File||e instanceof Object)&&(s=new o(n)),s.stream(e)}function n(e,n){function i(){"object"==typeof n&&("string"==typeof n.delimiter&&1==n.delimiter.length&&-1==t.Papa.BAD_DELIMITERS.indexOf(n.delimiter)&&(u=n.delimiter),("boolean"==typeof n.quotes||n.quotes instanceof Array)&&(l=n.quotes),"string"==typeof n.newline&&(c=n.newline))}function r(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function o(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var i=t instanceof Array&&t.length>0,r=!(e[0]instanceof Array);if(i){for(var o=0;o<t.length;o++)o>0&&(n+=u),n+=a(t[o],o);e.length>0&&(n+=c)}for(var s=0;s<e.length;s++){for(var l=i?t.length:e[s].length,d=0;d<l;d++){d>0&&(n+=u);var f=i&&r?t[d]:d;n+=a(e[s][f],d)}s<e.length-1&&(n+=c)}return n}function a(e,n){return null==e?"":(e=e.toString().replace(/"/g,'""'),"boolean"==typeof l&&l||l instanceof Array&&l[n]||s(e,t.Papa.BAD_DELIMITERS)||e.indexOf(u)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1)?'"'+e+'"':e)}function s(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}var l=!1,u=",",c="\r\n";if(i(),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return o(null,e);if("object"==typeof e[0])return o(r(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:r(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),o(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function i(e){function n(t){var e=g(t);e.chunkSize=parseInt(e.chunkSize),this._handle=new s(e),this._handle.streamer=this,this._config=e}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,n.call(this,e),this.parseChunk=function(e){var n=this._partialLine+e;this._partialLine="";var i=this._handle.parse(n,this._baseIndex,!this._finished);if(!this._handle.paused()){var r=i.meta.cursor;this._finished||(this._partialLine=n.substring(r-this._baseIndex),this._baseIndex=r),i&&i.data&&(this._rowCount+=i.data.length);var o=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(y)t.postMessage({results:i,workerId:Papa.WORKER_ID,finished:o});else if(v(this._config.chunk)){if(this._config.chunk(i,this._handle),this._paused)return;i=undefined}return!o||!v(this._config.complete)||i&&i.meta.aborted||this._config.complete(i),o||i&&i.meta.paused||this._nextChunk(),i}},this._sendError=function(e){v(this._config.error)?this._config.error(e):y&&this._config.error&&t.postMessage({workerId:Papa.WORKER_ID,error:e,finished:!1})}}function r(t){function e(t){var e=t.getResponseHeader("Content-Range");return parseInt(e.substr(e.lastIndexOf("/")+1))}var n;(t=t||{}).chunkSize||(t.chunkSize=Papa.RemoteChunkSize),i.call(this,t),this._nextChunk=y?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(n=new XMLHttpRequest,y||(n.onload=m(this._chunkLoaded,this),n.onerror=m(this._chunkError,this)),n.open("GET",this._input,!y),this._config.step||this._config.chunk){var t=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+t),n.setRequestHeader("If-None-Match","webkit-no-cache")}try{n.send()}catch(e){this._chunkError(e.message)}y&&0==n.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4==n.readyState&&(n.status<200||n.status>=400?this._chunkError():(this._finished=!this._config.step&&!this._config.chunk||this._start>e(n),this.parseChunk(n.responseText)))},this._chunkError=function(t){var e=n.statusText||t;this._sendError(e)}}function o(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=Papa.LocalChunkSize),i.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=m(this._chunkLoaded,this),e.onerror=m(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=Math.min(this._start+this._config.chunkSize,this._input.size),i=e.readAsText(n.call(this._input,this._start,t),this._config.encoding);r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function a(t){var e;t=t||{},i.call(this,t),this.stream=function(t){return t,e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function s(t){function e(){if(x&&f&&(u("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+Papa.DefaultDelimiter+"'"),f=!1),t.skipEmptyLines)for(var e=0;e<x.data.length;e++)1==x.data[e].length&&""==x.data[e][0]&&x.data.splice(e--,1);return n()&&i(),r()}function n(){return t.header&&0==y.length}function i(){if(x){for(var t=0;n()&&t<x.data.length;t++)for(var e=0;e<x.data[t].length;e++)y.push(x.data[t][e]);x.data.splice(0,1)}}function r(){if(!x||!t.header&&!t.dynamicTyping)return x;for(var e=0;e<x.data.length;e++){for(var n={},i=0;i<x.data[e].length;i++){if(t.dynamicTyping){var r=x.data[e][i];x.data[e][i]="true"==r||"false"!=r&&s(r)}t.header&&(i>=y.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(x.data[e][i])):n[y[i]]=x.data[e][i])}t.header&&(x.data[e]=n,i>y.length?u("FieldMismatch","TooManyFields","Too many fields: expected "+y.length+" fields but parsed "+i,e):i<y.length&&u("FieldMismatch","TooFewFields","Too few fields: expected "+y.length+" fields but parsed "+i,e))}return t.header&&x.meta&&(x.meta.fields=y),x}function o(e){for(var n,i,r,o=[",","\t","|",";",Papa.RECORD_SEP,Papa.UNIT_SEP],a=0;a<o.length;a++){var s=o[a],u=0,c=0;r=undefined;for(var d=new l({delimiter:s,preview:10}).parse(e),f=0;f<d.data.length;f++){var h=d.data[f].length;c+=h,void 0!==r?h>1&&(u+=Math.abs(h-r),r=h):r=h}c/=d.data.length,(void 0===i||u<i)&&c>1.99&&(i=u,n=s)}return t.delimiter=n,{successful:!!n,bestDelimiter:n}}function a(t){var e=(t=t.substr(0,1048576)).split("\r");if(1==e.length)return"\n";for(var n=0,i=0;i<e.length;i++)"\n"==e[i][0]&&n++;return n>=e.length/2?"\r\n":"\r"}function s(t){return h.test(t)?parseFloat(t):t}function u(t,e,n,i){x.errors.push({type:t,code:e,message:n,row:i})}var c,d,f,h=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,p=this,m=0,b=!1,y=[],x={data:[],errors:[],meta:{}};if(v(t.step)){var w=t.step;t.step=function(i){if(x=i,n())e();else{if(e(),0==x.data.length)return;m+=i.data.length,t.preview&&m>t.preview?d.abort():w(x,p)}}}this.parse=function(n,i,r){if(t.newline||(t.newline=a(n)),f=!1,!t.delimiter){var s=o(n);s.successful?t.delimiter=s.bestDelimiter:(f=!0,t.delimiter=Papa.DefaultDelimiter),x.meta.delimiter=t.delimiter}var u=g(t);return t.preview&&t.header&&u.preview++,c=n,d=new l(u),x=d.parse(c,i,r),e(),b?{meta:{paused:!0}}:x||{meta:{paused:!1}}},this.paused=function(){return b},this.pause=function(){b=!0,d.abort(),c=c.substr(d.getCharIndex())},this.resume=function(){b=!1,p.streamer.parseChunk(c)},this.abort=function(){d.abort(),v(t.complete)&&t.complete(x),c=""}}function l(t){var e=(t=t||{}).delimiter,n=t.newline,i=t.comments,r=t.step,o=t.preview,a=t.fastMode;if(("string"!=typeof e||1!=e.length||Papa.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),i===e)throw"Comment character same as delimiter";!0===i?i="#":("string"!=typeof i||Papa.BAD_DELIMITERS.indexOf(i)>-1)&&(i=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var s=0,l=!1;this.parse=function(t,u,c){function d(t){w.push(t),k=s}function f(e){return c?p():(e||(e=t.substr(s)),C.push(e),s=m,d(C),x&&g(),p())}function h(e){s=e,d(C),C=[],D=t.indexOf(n,s)}function p(t){return{data:w,errors:_,meta:{delimiter:e,linebreak:n,aborted:l,truncated:!!t,cursor:k+(u||0)}}}function g(){r(p()),w=[],_=[]}if("string"!=typeof t)throw"Input must be a string";var m=t.length,v=e.length,b=n.length,y=i.length,x="function"==typeof r;s=0;var w=[],_=[],C=[],k=0;if(!t)return p();if(a||!1!==a&&-1===t.indexOf('"')){for(var S=t.split(n),T=0;T<S.length;T++){C=S[T];if(s+=C.length,T!==S.length-1)s+=n.length;else if(c)return p();if(!i||C.substr(0,y)!=i){if(x){if(w=[],d(C.split(e)),g(),l)return p()}else d(C.split(e));if(o&&T>=o)return w=w.slice(0,o),p(!0)}}return p()}for(var M=t.indexOf(e,s),D=t.indexOf(n,s);;)if('"'!=t[s])if(i&&0===C.length&&t.substr(s,y)===i){if(-1==D)return p();s=D+b,D=t.indexOf(n,s),M=t.indexOf(e,s)}else if(-1!==M&&(M<D||-1===D))C.push(t.substring(s,M)),s=M+v,M=t.indexOf(e,s);else{if(-1===D)break;if(C.push(t.substring(s,D)),h(D+b),x&&(g(),l))return p();if(o&&w.length>=o)return p(!0)}else{var A=s;for(s++;;){if(-1===(A=t.indexOf('"',A+1)))return c||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:s}),f();if(A===m-1)return f(t.substring(s,A).replace(/""/g,'"'));if('"'!=t[A+1]){if(t[A+1]==e){C.push(t.substring(s,A).replace(/""/g,'"')),s=A+1+v,M=t.indexOf(e,s),D=t.indexOf(n,s);break}if(t.substr(A+1,b)===n){if(C.push(t.substring(s,A).replace(/""/g,'"')),h(A+1+b),M=t.indexOf(e,s),x&&(g(),l))return p();if(o&&w.length>=o)return p(!0);break}}else A++}}return f()},this.abort=function(){l=!0},this.getCharIndex=function(){return s}}function u(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}function c(){if(!Papa.WORKERS_SUPPORTED)return!1;if(!x&&null===Papa.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=new t.Worker(Papa.SCRIPT_PATH||b);return e.onmessage=d,e.id=_++,w[e.id]=e,e}function d(t){var e=t.data,n=w[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var r={abort:function(){i=!0,f(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:h,resume:h};if(v(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:[e.results.data[o]],errors:e.results.errors,meta:e.results.meta},r),!i);o++);delete e.results}else v(n.userChunk)&&(n.userChunk(e.results,r,e.file),delete e.results)}e.finished&&!i&&f(e.workerId,e.results)}function f(t,e){var n=w[t];v(n.userComplete)&&n.userComplete(e),n.terminate(),delete w[t]}function h(){throw"Not implemented."}function p(e){var n=e.data;if("undefined"==typeof Papa.WORKER_ID&&n&&(Papa.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:Papa.WORKER_ID,results:Papa.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var i=Papa.parse(n.input,n.config);i&&t.postMessage({workerId:Papa.WORKER_ID,results:i,finished:!0})}}function g(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=g(t[n]);return e}function m(t,e){return function(){t.apply(e,arguments)}}function v(t){return"function"==typeof t}var b,y=!t.document,x=!1,w={},_=0;if(t.Papa={},t.Papa.parse=e,t.Papa.unparse=n,t.Papa.RECORD_SEP=String.fromCharCode(30),t.Papa.UNIT_SEP=String.fromCharCode(31),t.Papa.BYTE_ORDER_MARK="\ufeff",t.Papa.BAD_DELIMITERS=["\r","\n",'"',t.Papa.BYTE_ORDER_MARK],t.Papa.WORKERS_SUPPORTED=!!t.Worker,t.Papa.SCRIPT_PATH=null,t.Papa.LocalChunkSize=10485760,t.Papa.RemoteChunkSize=5242880,t.Papa.DefaultDelimiter=",",t.Papa.Parser=l,t.Papa.ParserHandle=s,t.Papa.NetworkStreamer=r,t.Papa.FileStreamer=o,t.Papa.StringStreamer=a,t.jQuery){var C=t.jQuery;C.fn.parse=function(e){function n(){if(0!=a.length){var t=a[0];if(v(e.before)){var n=e.before(t.file,t.inputElem);if("object"==typeof n){if("abort"==n.action)return void i("AbortError",t.file,t.inputElem,n.reason);if("skip"==n.action)return void r();"object"==typeof n.config&&(t.instanceConfig=C.extend(t.instanceConfig,n.config))}else if("skip"==n)return void r()}var o=t.instanceConfig.complete;t.instanceConfig.complete=function(e){v(o)&&o(e,t.file,t.inputElem),r()},Papa.parse(t.file,t.instanceConfig)}else v(e.complete)&&e.complete()}function i(t,n,i,r){v(e.error)&&e.error({name:t},n,i,r)}function r(){a.splice(0,1),n()}var o=e.config||{},a=[];return this.each(function(){if(!("INPUT"==C(this).prop("tagName").toUpperCase()&&"file"==C(this).attr("type").toLowerCase()&&t.FileReader)||!this.files||0==this.files.length)return!0;for(var e=0;e<this.files.length;e++)a.push({file:this.files[e],inputElem:this,instanceConfig:C.extend({},o)})}),n(),this}}y?t.onmessage=p:Papa.WORKERS_SUPPORTED&&(b=u(),document.body?document.addEventListener("DOMContentLoaded",function(){x=!0},!0):x=!0),r.prototype=Object.create(i.prototype),r.prototype.constructor=r,o.prototype=Object.create(i.prototype),o.prototype.constructor=o,a.prototype=Object.create(a.prototype),a.prototype.constructor=a}(this),
/*!
 * jQuery Validation Plugin v1.19.0
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2018 Jrn Zaefferer
 * Released under the MIT license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e;t.extend(t.fn,{validate:function(e){if(this.length){var n=t.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(e){n.submitButton=e.currentTarget,t(this).hasClass("cancel")&&(n.cancelSubmit=!0),t(this).attr("formnovalidate")!==undefined&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(e){function i(){var i,r;return n.submitButton&&(n.settings.submitHandler||n.formSubmitted)&&(i=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),!(n.settings.submitHandler&&!n.settings.debug)||(r=n.settings.submitHandler.call(n,n.currentForm,e),i&&i.remove(),r!==undefined&&r)}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,n,i;return t(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,n=t(this[0].form).validate(),this.each(function(){(e=n.element(this)&&e)||(i=i.concat(n.errorList))}),n.errorList=i),e},rules:function(e,n){var i,r,o,a,s,l,u=this[0],c=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=u&&(!u.form&&c&&(u.form=this.closest("form")[0],u.name=this.attr("name")),null!=u.form)){if(e)switch(r=(i=t.data(u.form,"validator").settings).rules,o=t.validator.staticRules(u),e){case"add":t.extend(o,t.validator.normalizeRule(n)),delete o.messages,r[u.name]=o,n.messages&&(i.messages[u.name]=t.extend(i.messages[u.name],n.messages));break;case"remove":return n?(l={},t.each(n.split(/\s/),function(t,e){l[e]=o[e],delete o[e]}),l):(delete r[u.name],o)}return(a=t.validator.normalizeRules(t.extend({},t.validator.classRules(u),t.validator.attributeRules(u),t.validator.dataRules(u),t.validator.staticRules(u)),u)).required&&(s=a.required,delete a.required,a=t.extend({required:s},a)),a.remote&&(s=a.remote,delete a.remote,a=t.extend(a,{remote:s})),a}}}),t.extend(t.expr.pseudos||t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var n=t(e).val();return null!==n&&!!t.trim(""+n)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:n===undefined?e:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,n){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===n.which&&""===this.elementValue(e)||-1!==t.inArray(n.keyCode,i)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(i):t(e).addClass(n).removeClass(i)},unhighlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(i):t(e).removeClass(n).addClass(i)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n=void 0!==t(this).attr("contenteditable")&&"false"!==t(this).attr("contenteditable");if(!this.form&&n&&(this.form=t(this).closest("form")[0],this.name=t(this).attr("name")),i===this.form){var r=t.data(this.form,"validator"),o="on"+e.type.replace(/^validate/,""),a=r.settings;a[o]&&!t(this).is(a.ignore)&&a[o].call(r,this,e)}}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.currentForm,r=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){r[n]=e})}),n=this.settings.rules,t.each(n,function(e,i){n[e]=t.validator.normalizeRule(i)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var n,i,r=this.clean(e),o=this.validationTargetFor(r),a=this,s=!0;return o===undefined?delete this.invalid[r.name]:(this.prepareElement(o),this.currentElements=t(o),(i=this.groups[o.name])&&t.each(this.groups,function(t,e){e===i&&t!==o.name&&(r=a.validationTargetFor(a.clean(a.findByName(t))))&&r.name in a.invalid&&(a.currentElements.push(r),s=a.check(r)&&s)}),n=!1!==this.check(o),s=s&&n,this.invalid[o.name]=!n,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!n)),s},showErrors:function(e){if(e){var n=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:n.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)t[e]!==undefined&&null!==t[e]&&!1!==t[e]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var i=this.name||t(this).attr("name"),r=void 0!==t(this).attr("contenteditable")&&"false"!==t(this).attr("contenteditable");return!i&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),r&&(this.form=t(this).closest("form")[0],this.name=i),this.form===e.currentForm&&(!(i in n||!e.objectLength(t(this).rules()))&&(n[i]=!0,!0))})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n,i,r=t(e),o=e.type,a=void 0!==r.attr("contenteditable")&&"false"!==r.attr("contenteditable");return"radio"===o||"checkbox"===o?this.findByName(e.name).filter(":checked").val():"number"===o&&"undefined"!=typeof e.validity?e.validity.badInput?"NaN":r.val():(n=a?r.text():r.val(),"file"===o?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):(i=n.lastIndexOf("/"))>=0?n.substr(i+1):(i=n.lastIndexOf("\\"))>=0?n.substr(i+1):n:"string"==typeof n?n.replace(/\r/g,""):n)},check:function(e){e=this.validationTargetFor(this.clean(e));var n,i,r,o,a=t(e).rules(),s=t.map(a,function(t,e){return e}).length,l=!1,u=this.elementValue(e);for(i in"function"==typeof a.normalizer?o=a.normalizer:"function"==typeof this.settings.normalizer&&(o=this.settings.normalizer),o&&(u=o.call(e,u),delete a.normalizer),a){r={method:i,parameters:a[i]};try{if("dependency-mismatch"===(n=t.validator.methods[i].call(this,u,e,r.parameters))&&1===s){l=!0;continue}if(l=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,r),!1}catch(c){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",c),c instanceof TypeError&&(c.message+=".  Exception occurred when checking element "+e.id+", check the '"+r.method+"' method."),c}}if(!l)return this.objectLength(a)&&this.successList.push(e),!0},customDataMessage:function(e,n){return t(e).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(arguments[t]!==undefined)return arguments[t];return undefined},defaultMessage:function(e,n){"string"==typeof n&&(n={method:n});var i=this.findDefined(this.customMessage(e.name,n.method),this.customDataMessage(e,n.method),!this.settings.ignoreTitle&&e.title||undefined,t.validator.messages[n.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,n.parameters,e):r.test(i)&&(i=t.validator.format(i.replace(r,"{$1}"),n.parameters)),i},formatAndAdd:function(t,e){var n=this.defaultMessage(t,e);this.errorList.push({message:n,element:t,method:e.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var i,r,o,a,s=this.errorsFor(e),l=this.idOrName(e),u=t(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(i=s=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,t(e)):i.insertAfter(e),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(o=s.attr("id"),u?u.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(u+=" "+o):u=o,t(e).attr("aria-describedby",u),(r=this.groups[e.name])&&(a=this,t.each(a.groups,function(e,n){n===r&&t("[name='"+a.escapeCssMeta(e)+"']",a.currentForm).attr("aria-describedby",s.attr("id"))})))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var n=this.escapeCssMeta(this.idOrName(e)),i=t(e).attr("aria-describedby"),r="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(r=r+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,n){return!!t(e,n.form).length},"function":function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.submitButton&&t("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,n){return n="string"==typeof n&&n||"remote",t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:n})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},i=t(e).attr("class");return i&&t.each(i.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n},normalizeAttributeRule:function(t,e,n,i){/min|max|step/.test(n)&&(null===e||/number|range|text/.test(e))&&(i=Number(i),isNaN(i)&&(i=undefined)),i||0===i?t[n]=i:e===n&&"range"!==e&&(t[n]=!0)},attributeRules:function(e){var n,i,r={},o=t(e),a=e.getAttribute("type");for(n in t.validator.methods)"required"===n?(""===(i=e.getAttribute(n))&&(i=!0),i=!!i):i=o.attr(n),this.normalizeAttributeRule(r,a,n,i);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var n,i,r={},o=t(e),a=e.getAttribute("type");for(n in t.validator.methods)""===(i=o.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()))&&(i=!0),this.normalizeAttributeRule(r,a,n,i);return r},staticRules:function(e){var n={},i=t.data(e.form,"validator");return i.settings.rules&&(n=t.validator.normalizeRule(i.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(i,r){if(!1!==r){if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!t(r.depends,n.form).length;break;case"function":o=r.depends.call(n,n)}o?e[i]=r.param===undefined||r.param:(t.data(n.form,"validator").resetElements(t(n)),delete e[i])}}else delete e[i]}),t.each(e,function(i,r){e[i]=t.isFunction(r)&&"normalizer"!==i?r(n):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,i){t.validator.methods[e]=n,t.validator.messages[e]=i!==undefined?i:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=t(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(e,n)>0:e!==undefined&&null!==e&&e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){
// Copyright (c) 2010-2013 Diego Perini, MIT licensed
return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:(e=!1,function(t,n){return e||(e=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(n)||!/Invalid|NaN/.test(new Date(t).toString())}),dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||r>=i},maxlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||r<=i},rangelength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||t<=n},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},step:function(e,n,i){var r,o=t(n).attr("type"),a="Step attribute on input type "+o+" is not supported.",s=["text","number","range"],l=new RegExp("\\b"+o+"\\b"),u=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},c=function(t){return Math.round(t*Math.pow(10,r))},d=!0;if(o&&!l.test(s.join()))throw new Error(a);return r=u(i),(u(e)>r||c(e)%c(i)!=0)&&(d=!1),this.optional(n)||d},equalTo:function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.not(".validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(n).valid()}),e===r.val()},remote:function(e,n,i,r){if(this.optional(n))return"dependency-mismatch";r="string"==typeof r&&r||"remote";var o,a,s,l=this.previousValue(n,r);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[n.name][r],this.settings.messages[n.name][r]=l.message,i="string"==typeof i&&{url:i}||i,s=t.param(t.extend({data:e},i.data)),l.old===s?l.valid:(l.old=s,o=this,this.startRequest(n),(a={})[n.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:a,context:o.currentForm,success:function(t){var i,a,s,u=!0===t||"true"===t;o.settings.messages[n.name][r]=l.originalMessage,u?(s=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(n),o.formSubmitted=s,o.successList.push(n),o.invalid[n.name]=!1,o.showErrors()):(i={},a=t||o.defaultMessage(n,{method:r,parameters:e}),i[n.name]=l.message=a,o.invalid[n.name]=!0,o.showErrors(i)),l.valid=u,o.stopRequest(n,u)}},i)),"pending")}}});var n,i={};return t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var r=t.port;"abort"===t.mode&&(i[r]&&i[r].abort(),i[r]=n)}):(n=t.ajax,t.ajax=function(e){var r=("mode"in e?e:t.ajaxSettings).mode,o=("port"in e?e:t.ajaxSettings).port;return"abort"===r?(i[o]&&i[o].abort(),i[o]=n.apply(this,arguments),i[o]):n.apply(this,arguments)}),t}),
/*!
 * jQuery Validation Plugin v1.19.0
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2018 Jrn Zaefferer
 * Released under the MIT license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){return function(){function e(t){return t.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-\u201c\u201d\u2019]*/g,"")}t.validator.addMethod("maxWords",function(t,n,i){return this.optional(n)||e(t).match(/\b\w+\b/g).length<=i},t.validator.format("Please enter {0} words or less.")),t.validator.addMethod("minWords",function(t,n,i){return this.optional(n)||e(t).match(/\b\w+\b/g).length>=i},t.validator.format("Please enter at least {0} words.")),t.validator.addMethod("rangeWords",function(t,n,i){var r=e(t),o=/\b\w+\b/g;return this.optional(n)||r.match(o).length>=i[0]&&r.match(o).length<=i[1]},t.validator.format("Please enter between {0} and {1} words."))}(),t.validator.addMethod("abaRoutingNumber",function(t){var e=0,n=t.split(""),i=n.length;if(9!==i)return!1;for(var r=0;r<i;r+=3)e+=3*parseInt(n[r],10)+7*parseInt(n[r+1],10)+parseInt(n[r+2],10);return 0!==e&&e%10==0},"Please enter a valid routing number."),t.validator.addMethod("accept",function(e,n,i){var r,o,a="string"==typeof i?i.replace(/\s/g,""):"image/*",s=this.optional(n);if(s)return s;if("file"===t(n).attr("type")&&(a=a.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),n.files&&n.files.length))for(o=new RegExp(".?("+a+")$","i"),r=0;r<n.files.length;r++)if(!n.files[r].type.match(o))return!1;return!0},t.validator.format("Please enter a value with a valid mimetype.")),t.validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^\w+$/i.test(t)},"Letters, numbers, and underscores only please"),t.validator.addMethod("bankaccountNL",function(t,e){if(this.optional(e))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(t))return!1;var n,i=t.replace(/ /g,""),r=0,o=i.length;for(n=0;n<o;n++)r+=(o-n)*i.substring(n,n+1);return r%11==0},"Please specify a valid bank account number"),t.validator.addMethod("bankorgiroaccountNL",function(e,n){return this.optional(n)||t.validator.methods.bankaccountNL.call(this,e,n)||t.validator.methods.giroaccountNL.call(this,e,n)},"Please specify a valid bank or giro account number"),t.validator.addMethod("bic",function(t,e){return this.optional(e)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(t.toUpperCase())},"Please specify a valid BIC code"),t.validator.addMethod("cifES",function(t,e){"use strict";function n(t){return t%2==0}if(this.optional(e))return!0;var i,r,o,a,s=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),l=t.substring(0,1),u=t.substring(1,8),c=t.substring(8,9),d=0,f=0;if(9!==t.length||!s.test(t))return!1;for(i=0;i<u.length;i++)r=parseInt(u[i],10),n(i)?f+=(r*=2)<10?r:r-9:d+=r;return o=(10-(d+f).toString().substr(-1)).toString(),o=parseInt(o,10)>9?"0":o,a="JABCDEFGHI".substr(o,1).toString(),l.match(/[ABEH]/)?c===o:l.match(/[KPQS]/)?c===a:c===o||c===a},"Please specify a valid CIF number."),t.validator.addMethod("cnhBR",function(t){if(11!==(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var e,n,i,r,o,a=0,s=0;if(e=t.charAt(0),new Array(12).join(e)===t)return!1;for(r=0,o=9,0;r<9;++r,--o)a+=+t.charAt(r)*o;for((n=a%11)>=10&&(n=0,s=2),a=0,r=0,o=1,0;r<9;++r,++o)a+=+t.charAt(r)*o;return(i=a%11)>=10?i=0:i-=s,String(n).concat(i)===t.substr(-2)},"Please specify a valid CNH number"),t.validator.addMethod("cnpjBR",function(t,e){"use strict";if(this.optional(e))return!0;if(14!==(t=t.replace(/[^\d]+/g,"")).length)return!1;if("00000000000000"===t||"11111111111111"===t||"22222222222222"===t||"33333333333333"===t||"44444444444444"===t||"55555555555555"===t||"66666666666666"===t||"77777777777777"===t||"88888888888888"===t||"99999999999999"===t)return!1;for(var n=t.length-2,i=t.substring(0,n),r=t.substring(n),o=0,a=n-7,s=n;s>=1;s--)o+=i.charAt(n-s)*a--,a<2&&(a=9);var l=o%11<2?0:11-o%11;if(l!==parseInt(r.charAt(0),10))return!1;n+=1,i=t.substring(0,n),o=0,a=n-7;for(var u=n;u>=1;u--)o+=i.charAt(n-u)*a--,a<2&&(a=9);return(l=o%11<2?0:11-o%11)===parseInt(r.charAt(1),10)},"Please specify a CNPJ value number"),t.validator.addMethod("cpfBR",function(t,e){"use strict";if(this.optional(e))return!0;if(11!==(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var n,i,r,o,a=0;if(n=parseInt(t.substring(9,10),10),i=parseInt(t.substring(10,11),10),r=function(t,e){var n=10*t%11;return 10!==n&&11!==n||(n=0),n===e},""===t||"00000000000"===t||"11111111111"===t||"22222222222"===t||"33333333333"===t||"44444444444"===t||"55555555555"===t||"66666666666"===t||"77777777777"===t||"88888888888"===t||"99999999999"===t)return!1;for(o=1;o<=9;o++)a+=parseInt(t.substring(o-1,o),10)*(11-o);if(r(a,n)){for(a=0,o=1;o<=10;o++)a+=parseInt(t.substring(o-1,o),10)*(12-o);return r(a,i)}return!1},"Please specify a valid CPF number"),t.validator.addMethod("creditcard",function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n,i,r=0,o=0,a=!1;if((t=t.replace(/\D/g,"")).length<13||t.length>19)return!1;for(n=t.length-1;n>=0;n--)i=t.charAt(n),o=parseInt(i,10),a&&(o*=2)>9&&(o-=9),r+=o,a=!a;return r%10==0},"Please enter a valid credit card number."),t.validator.addMethod("creditcardtypes",function(t,e,n){if(/[^0-9\-]+/.test(t))return!1;t=t.replace(/\D/g,"");var i=0;return n.mastercard&&(i|=1),n.visa&&(i|=2),n.amex&&(i|=4),n.dinersclub&&(i|=8),n.enroute&&(i|=16),n.discover&&(i|=32),n.jcb&&(i|=64),n.unknown&&(i|=128),n.all&&(i=255),1&i&&(/^(5[12345])/.test(t)||/^(2[234567])/.test(t))?16===t.length:2&i&&/^(4)/.test(t)?16===t.length:4&i&&/^(3[47])/.test(t)?15===t.length:8&i&&/^(3(0[012345]|[68]))/.test(t)?14===t.length:16&i&&/^(2(014|149))/.test(t)?15===t.length:32&i&&/^(6011)/.test(t)?16===t.length:64&i&&/^(3)/.test(t)?16===t.length:64&i&&/^(2131|1800)/.test(t)?15===t.length:!!(128&i)},"Please enter a valid credit card number."),t.validator.addMethod("currency",function(t,e,n){var i,r="string"==typeof n,o=r?n:n[0],a=!!r||n[1];return o=o.replace(/,/g,""),i="^["+(o=a?o+"]":o+"]?")+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",i=new RegExp(i),this.optional(e)||i.test(t)},"Please specify a valid currency"),t.validator.addMethod("dateFA",function(t,e){return this.optional(e)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(t)},t.validator.messages.date),t.validator.addMethod("dateITA",function(t,e){var n,i,r,o,a,s=!1;return/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(t)?(n=t.split("/"),i=parseInt(n[0],10),r=parseInt(n[1],10),o=parseInt(n[2],10),s=(a=new Date(Date.UTC(o,r-1,i,12,0,0,0))).getUTCFullYear()===o&&a.getUTCMonth()===r-1&&a.getUTCDate()===i):s=!1,this.optional(e)||s},t.validator.messages.date),t.validator.addMethod("dateNL",function(t,e){return this.optional(e)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(t)},t.validator.messages.date),t.validator.addMethod("extension",function(t,e,n){return n="string"==typeof n?n.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(new RegExp("\\.("+n+")$","i"))},t.validator.format("Please enter a value with a valid extension.")),t.validator.addMethod("giroaccountNL",function(t,e){return this.optional(e)||/^[0-9]{1,7}$/.test(t)},"Please specify a valid giro account number"),t.validator.addMethod("greaterThan",function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.not(".validate-greaterThan-blur").length&&r.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){t(n).valid()}),e>r.val()},"Please enter a greater value."),t.validator.addMethod("greaterThanEqual",function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.not(".validate-greaterThanEqual-blur").length&&r.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){t(n).valid()}),e>=r.val()},"Please enter a greater value."),t.validator.addMethod("iban",function(t,e){if(this.optional(e))return!0;var n,i,r,o,a,s=t.replace(/ /g,"").toUpperCase(),l="",u=!0,c="",d=5;if(s.length<d)return!1;if(void 0!==(r={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"}[s.substring(0,2)])&&!new RegExp("^[A-Z]{2}\\d{2}"+r+"$","").test(s))return!1;for(n=s.substring(4,s.length)+s.substring(0,4),o=0;o<n.length;o++)"0"!==(i=n.charAt(o))&&(u=!1),u||(l+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(i));for(a=0;a<l.length;a++)c=(""+c+l.charAt(a))%97;return 1===c},"Please specify a valid IBAN"),t.validator.addMethod("integer",function(t,e){return this.optional(e)||/^-?\d+$/.test(t)},"A positive or negative non-decimal number please"),t.validator.addMethod("ipv4",function(t,e){return this.optional(e)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(t)},"Please enter a valid IP v4 address."),t.validator.addMethod("ipv6",function(t,e){return this.optional(e)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(t)},"Please enter a valid IP v6 address."),t.validator.addMethod("lessThan",function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.not(".validate-lessThan-blur").length&&r.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){t(n).valid()}),e<r.val()},"Please enter a lesser value."),t.validator.addMethod("lessThanEqual",function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.not(".validate-lessThanEqual-blur").length&&r.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){t(n).valid()}),e<=r.val()},"Please enter a lesser value."),t.validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},"Letters only please"),t.validator.addMethod("letterswithbasicpunc",function(t,e){return this.optional(e)||/^[a-z\-.,()'"\s]+$/i.test(t)},"Letters or punctuation only please"),t.validator.addMethod("maxfiles",function(e,n,i){return!!this.optional(n)||!("file"===t(n).attr("type")&&n.files&&n.files.length>i)},t.validator.format("Please select no more than {0} files.")),t.validator.addMethod("maxsize",function(e,n,i){if(this.optional(n))return!0;if("file"===t(n).attr("type")&&n.files&&n.files.length)for(var r=0;r<n.files.length;r++)if(n.files[r].size>i)return!1;return!0},t.validator.format("File size must not exceed {0} bytes each.")),t.validator.addMethod("maxsizetotal",function(e,n,i){if(this.optional(n))return!0;if("file"===t(n).attr("type")&&n.files&&n.files.length)for(var r=0,o=0;o<n.files.length;o++)if((r+=n.files[o].size)>i)return!1;return!0},t.validator.format("Total size of all files must not exceed {0} bytes.")),t.validator.addMethod("mobileNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid mobile number"),t.validator.addMethod("mobileRU",function(t,e){var n=t.replace(/\(|\)|\s+|-/g,"");return this.optional(e)||n.length>9&&/^((\+7|7|8)+([0-9]){10})$/.test(n)},"Please specify a valid mobile number"),t.validator.addMethod("mobileUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),t.validator.addMethod("netmask",function(t,e){return this.optional(e)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(t)},"Please enter a valid netmask."),t.validator.addMethod("nieES",function(t,e){"use strict";if(this.optional(e))return!0;var n,i=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),r="TRWAGMYFPDXBNJZSQVHLCKET",o=t.substr(t.length-1).toUpperCase();return!((t=t.toString().toUpperCase()).length>10||t.length<9||!i.test(t))&&(n=9===(t=t.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2")).length?t.substr(0,8):t.substr(0,9),r.charAt(parseInt(n,10)%23)===o)},"Please specify a valid NIE number."),t.validator.addMethod("nifES",function(t,e){"use strict";return!!this.optional(e)||!!(t=t.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(t)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,0)%23)===t.charAt(8):!!/^[KLM]{1}/.test(t)&&t[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,1)%23))},"Please specify a valid NIF number."),t.validator.addMethod("nipPL",function(t){"use strict";if(10!==(t=t.replace(/[^0-9]/g,"")).length)return!1;for(var e=[6,5,7,2,3,4,5,6,7],n=0,i=0;i<9;i++)n+=e[i]*t[i];var r=n%11;return(10===r?0:r)===parseInt(t[9],10)},"Please specify a valid NIP number."),
/**
 * Created for project jquery-validation.
 * @Description Brazillian PIS or NIS number (Nmero de Identificao Social Pis ou Pasep) is the equivalent of a
 * Brazilian tax registration number NIS of PIS numbers have 11 digits in total: 10 numbers followed by 1 check numbers
 * that are being used for validation.
 * @copyright (c) 21/08/2018 13:14, Cleiton da Silva Mendona
 * @author Cleiton da Silva Mendona <cleiton.mendonca@gmail.com>
 * @link http://gitlab.com/csmendonca Gitlab of Cleiton da Silva Mendona
 * @link http://github.com/csmendonca Github of Cleiton da Silva Mendona
 */
t.validator.addMethod("nisBR",function(t){var e,n,i,r,o,a=0;if(11!==(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;for(n=parseInt(t.substring(10,11),10),e=parseInt(t.substring(0,10),10),r=2;r<12;r++)o=r,10===r&&(o=2),11===r&&(o=3),a+=e%10*o,e=parseInt(e/10,10);return n===(i=(i=a%11)>1?11-i:0)},"Please specify a valid NIS/PIS number"),t.validator.addMethod("notEqualTo",function(e,n,i){return this.optional(n)||!t.validator.methods.equalTo.call(this,e,n,i)},"Please enter a different value, values must not be the same."),t.validator.addMethod("nowhitespace",function(t,e){return this.optional(e)||/^\S+$/i.test(t)},"No white space please"),t.validator.addMethod("pattern",function(t,e,n){return!!this.optional(e)||("string"==typeof n&&(n=new RegExp("^(?:"+n+")$")),n.test(t))},"Invalid format."),t.validator.addMethod("phoneNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid phone number."),t.validator.addMethod("phonePL",function(t,e){t=t.replace(/\s+/g,"");var n=/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/;return this.optional(e)||n.test(t)},"Please specify a valid phone number"),t.validator.addMethod("phonesUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),t.validator.addMethod("phoneUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),t.validator.addMethod("phoneUS",function(t,e){return t=t.replace(/\s+/g,""),this.optional(e)||t.length>9&&t.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),t.validator.addMethod("postalcodeBR",function(t,e){return this.optional(e)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(t)},"Informe um CEP v\xe1lido."),t.validator.addMethod("postalCodeCA",function(t,e){return this.optional(e)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeIT",function(t,e){return this.optional(e)||/^\d{5}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeNL",function(t,e){return this.optional(e)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postcodeUK",function(t,e){return this.optional(e)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(t)},"Please specify a valid UK postcode"),t.validator.addMethod("require_from_group",function(e,n,i){var r=t(i[1],n.form),o=r.eq(0),a=o.data("valid_req_grp")?o.data("valid_req_grp"):t.extend({},this),s=r.filter(function(){return a.elementValue(this)}).length>=i[0];return o.data("valid_req_grp",a),t(n).data("being_validated")||(r.data("being_validated",!0),r.each(function(){a.element(this)}),r.data("being_validated",!1)),s},t.validator.format("Please fill at least {0} of these fields.")),t.validator.addMethod("skip_or_fill_minimum",function(e,n,i){var r=t(i[1],n.form),o=r.eq(0),a=o.data("valid_skip")?o.data("valid_skip"):t.extend({},this),s=r.filter(function(){return a.elementValue(this)}).length,l=0===s||s>=i[0];return o.data("valid_skip",a),t(n).data("being_validated")||(r.data("being_validated",!0),r.each(function(){a.element(this)}),r.data("being_validated",!1)),l},t.validator.format("Please either skip these fields or fill at least {0} of them.")),t.validator.addMethod("stateUS",function(t,e,n){var i,r=void 0===n,o=!r&&"undefined"!=typeof n.caseSensitive&&n.caseSensitive,a=!r&&"undefined"!=typeof n.includeTerritories&&n.includeTerritories,s=!r&&"undefined"!=typeof n.includeMilitary&&n.includeMilitary;return i=a||s?a&&s?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":a?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",i=o?new RegExp(i):new RegExp(i,"i"),this.optional(e)||i.test(t)},"Please specify a valid state"),t.validator.addMethod("strippedminlength",function(e,n,i){return t(e).text().length>=i},t.validator.format("Please enter at least {0} characters")),t.validator.addMethod("time",function(t,e){return this.optional(e)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(t)},"Please enter a valid time, between 00:00 and 23:59"),t.validator.addMethod("time12h",function(t,e){return this.optional(e)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(t)},"Please enter a valid time in 12-hour am/pm format"),t.validator.addMethod("url2",function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},t.validator.messages.url),t.validator.addMethod("vinUS",function(t){if(17!==t.length)return!1;var e,n,i,r,o,a,s=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],l=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],u=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],c=0;for(e=0;e<17;e++){if(r=u[e],i=t.slice(e,e+1),8===e&&(a=i),isNaN(i)){for(n=0;n<s.length;n++)if(i.toUpperCase()===s[n]){i=l[n],i*=r,isNaN(a)&&8===n&&(a=s[n]);break}}else i*=r;c+=i}return 10===(o=c%11)&&(o="X"),o===a},"The specified vehicle identification number (VIN) is invalid."),t.validator.addMethod("zipcodeUS",function(t,e){return this.optional(e)||/^\d{5}(-\d{4})?$/.test(t)},"The specified US ZIP Code is invalid"),t.validator.addMethod("ziprange",function(t,e){return this.optional(e)||/^90[2-5]\d\{2\}-\d{4}$/.test(t)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),t}),function(t){function e(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function n(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function i(t){for(y in w)w[y]=t[D[y]]}function r(t){var n,r,o,a,l,u;if(n=t.keyCode,-1==e(M,n)&&M.push(n),S[n]&&(n=S[n]),93!=n&&224!=n||(n=91),n in w)for(o in w[n]=!0,C)C[o]==n&&(s[o]=!0);else if(i(t),s.filter.call(this,t)&&n in x)for(u=h(),a=0;a<x[n].length;a++)if((r=x[n][a]).scope==u||"all"==r.scope){for(o in l=r.mods.length>0,w)(!w[o]&&e(r.mods,+o)>-1||w[o]&&-1==e(r.mods,+o))&&(l=!1);(0!=r.mods.length||w[16]||w[18]||w[17]||w[91])&&!l||!1===r.method(t,r)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function o(t){var n,i=t.keyCode,r=e(M,i);if(r>=0&&M.splice(r,1),93!=i&&224!=i||(i=91),i in w)for(n in w[i]=!1,C)C[n]==i&&(s[n]=!1)}function a(){for(y in w)w[y]=!1;for(y in C)s[y]=!1}function s(t,e,n){var i,r;i=g(t),n===undefined&&(n=e,e="all");for(var o=0;o<i.length;o++)r=[],(t=i[o].split("+")).length>1&&(r=m(t),t=[t[t.length-1]]),t=t[0],(t=T(t))in x||(x[t]=[]),x[t].push({shortcut:i[o],scope:e,method:n,key:i[o],mods:r})}function l(t,e){var i,r,o,a,s,l=[];for(i=g(t),a=0;a<i.length;a++){if((r=i[a].split("+")).length>1&&(l=m(r)),t=r[r.length-1],t=T(t),e===undefined&&(e=h()),!x[t])return;for(o=0;o<x[t].length;o++)(s=x[t][o]).scope===e&&n(s.mods,l)&&(x[t][o]={})}}function u(t){return"string"==typeof t&&(t=T(t)),-1!=e(M,t)}function c(){return M.slice(0)}function d(t){var e=(t.target||t.srcElement).tagName;return!("INPUT"==e||"SELECT"==e||"TEXTAREA"==e)}function f(t){_=t||"all"}function h(){return _||"all"}function p(t){var e,n,i;for(e in x)for(n=x[e],i=0;i<n.length;)n[i].scope===t?n.splice(i,1):i++}function g(t){var e;return""==(e=(t=t.replace(/\s/g,"")).split(","))[e.length-1]&&(e[e.length-2]+=","),e}function m(t){for(var e=t.slice(0,t.length-1),n=0;n<e.length;n++)e[n]=C[e[n]];return e}function v(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,function(){n(window.event)})}function b(){var e=t.key;return t.key=A,e}var y,x={},w={16:!1,18:!1,17:!1,91:!1},_="all",C={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},k={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},S={96:48,97:49,98:50,99:51,100:52,101:53,102:54,103:55,104:56,105:57,107:187,109:189,111:191,110:190},T=function(t){return k[t]||t.toUpperCase().charCodeAt(0)},M=[];for(y=1;y<20;y++)k["f"+y]=111+y;var D={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(y in C)s[y]=!1;v(document,"keydown",function(t){r(t)}),v(document,"keyup",o),v(window,"focus",a);var A=t.key;t.key=s,t.key.setScope=f,t.key.getScope=h,t.key.deleteScope=p,t.key.filter=d,t.key.isPressed=u,t.key.getPressedKeyCodes=c,t.key.noConflict=b,t.key.unbind=l,"undefined"!=typeof module&&(module.exports=s),t.keymaster=s}(this),
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/
function(t,e){if("function"==typeof define&&define.amd)define(["module","exports"],e);else if("undefined"!=typeof exports)e(module,exports);else{var n={exports:{}};e(n,n.exports),t.autosize=n.exports}}(this,function(t,e){"use strict";function n(t){function e(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),a="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(a)&&(a=0),o()}function n(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function i(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function r(){if(0!==t.scrollHeight){var e=i(t),n=document.documentElement&&document.documentElement.scrollTop,r=window.getComputedStyle(t),o=parseFloat(r.paddingTop),s=parseFloat(r.paddingBottom),l=t.style.paddingTop,c=t.style.paddingBottom;t.style.height="",t.style.paddingTop="0",t.style.paddingBottom="0",t.style.height=t.scrollHeight+a+o+s+"px",u=t.clientWidth,t.style.paddingTop=l,t.style.paddingBottom=c,e.forEach(function(t){t.node.scrollTop=t.scrollTop}),n&&(document.documentElement.scrollTop=n)}}function o(){r();var e=Math.round(parseFloat(t.style.height)),i=window.getComputedStyle(t,null),o="content-box"===i.boxSizing?Math.round(parseFloat(i.height)):t.offsetHeight;if(o<e?"hidden"===i.overflowY&&(n("scroll"),r(),o="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==i.overflowY&&(n("hidden"),r(),o="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),c!==o){c=o;var a=l("autosize:resized");try{t.dispatchEvent(a)}catch(s){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!s.has(t)){var a=null,u=null,c=null,d=function(){t.clientWidth!==u&&o()},f=function(e){window.removeEventListener("resize",d,!1),t.removeEventListener("input",o,!1),t.removeEventListener("keyup",o,!1),t.removeEventListener("autosize:destroy",f,!1),t.removeEventListener("autosize:update",o,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),s["delete"](t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",f,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",o,!1),window.addEventListener("resize",d,!1),t.addEventListener("input",o,!1),t.addEventListener("autosize:update",o,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",s.set(t,{destroy:f,update:o}),e()}}function i(t){var e=s.get(t);e&&e.destroy()}function r(t){var e=s.get(t);e&&e.update()}var o,a,s="function"==typeof Map?new Map:(o=[],a=[],{has:function(t){return o.indexOf(t)>-1},get:function(t){return a[o.indexOf(t)]},set:function(t,e){-1===o.indexOf(t)&&(o.push(t),a.push(e))},"delete":function(t){var e=o.indexOf(t);e>-1&&(o.splice(e,1),a.splice(e,1))}}),l=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(c){l=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(t){return t}).destroy=function(t){return t},u.update=function(t){return t}):((u=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t,e)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],i),t},u.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],r),t}),e["default"]=u,t.exports=e["default"]}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.JSZip=t()}}(function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n||t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,r,o,a,s,l,u="",c=0;c<t.length;)o=(e=t.charCodeAt(c++))>>2,a=(3&e)<<4|(n=t.charCodeAt(c++))>>4,s=(15&n)<<2|(r=t.charCodeAt(c++))>>6,l=63&r,isNaN(n)?s=l=64:isNaN(r)&&(l=64),u=u+i.charAt(o)+i.charAt(a)+i.charAt(s)+i.charAt(l);return u},n.decode=function(t){var e,n,r,o,a,s,l="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)e=i.indexOf(t.charAt(u++))<<2|(o=i.indexOf(t.charAt(u++)))>>4,n=(15&o)<<4|(a=i.indexOf(t.charAt(u++)))>>2,r=(3&a)<<6|(s=i.indexOf(t.charAt(u++))),l+=String.fromCharCode(e),64!=a&&(l+=String.fromCharCode(n)),64!=s&&(l+=String.fromCharCode(r));return l}},{}],2:[function(t,e){"use strict";function n(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}n.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=n},{}],3:[function(t,e,n){"use strict";n.STORE={magic:"\0\0",compress:function(t){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},n.DEFLATE=t("./flate")},{"./flate":8}],4:[function(t,e){"use strict";var n=t("./utils"),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if(void 0===t||!t.length)return 0;var r="string"!==n.getTypeOf(t);void 0===e&&(e=0);var o=0;e^=-1;for(var a=0,s=t.length;a<s;a++)o=r?t[a]:t.charCodeAt(a),e=e>>>8^i[255&(e^o)];return-1^e}},{"./utils":21}],5:[function(t,e){"use strict";function n(){this.data=null,this.length=0,this.index=0}var i=t("./utils");n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=n},{"./utils":21}],6:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!1,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],7:[function(t,e,n){"use strict";var i=t("./utils");n.string2binary=function(t){return i.string2binary(t)},n.string2Uint8Array=function(t){return i.transformTo("uint8array",t)},n.uint8Array2String=function(t){return i.transformTo("string",t)},n.string2Blob=function(t){var e=i.transformTo("arraybuffer",t);return i.arrayBuffer2Blob(e)},n.arrayBuffer2Blob=function(t){return i.arrayBuffer2Blob(t)},n.transformTo=function(t,e){return i.transformTo(t,e)},n.getTypeOf=function(t){return i.getTypeOf(t)},n.checkSupport=function(t){return i.checkSupport(t)},n.MAX_VALUE_16BITS=i.MAX_VALUE_16BITS,n.MAX_VALUE_32BITS=i.MAX_VALUE_32BITS,n.pretty=function(t){return i.pretty(t)},n.findCompression=function(t){return i.findCompression(t)},n.isRegExp=function(t){return i.isRegExp(t)}},{"./utils":21}],8:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=t("pako");n.uncompressInputType=i?"uint8array":"array",n.compressInputType=i?"uint8array":"array",n.magic="\b\0",n.compress=function(t,e){return r.deflateRaw(t,{level:e.level||-1})},n.uncompress=function(t){return r.inflateRaw(t)}},{pako:24}],9:[function(t,e){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);this.files={},this.comment=null,this.root="",t&&this.load(t,e),this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}var i=t("./base64");n.prototype=t("./object"),n.prototype.load=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.utils=t("./deprecatedPublicUtils"),n.base64={encode:function(t){return i.encode(t)},decode:function(t){return i.decode(t)}},n.compressions=t("./compressions"),e.exports=n},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(t,e){"use strict";var n=t("./base64"),i=t("./zipEntries");e.exports=function(t,e){var r,o,a,s;for((e=e||{}).base64&&(t=n.decode(t)),r=(o=new i(t,e)).files,a=0;a<r.length;a++)s=r[a],this.file(s.fileName,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileComment.length?s.fileComment:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders});return o.zipComment.length&&(this.comment=o.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(t,e){(function(t){"use strict";e.exports=function(e,n){return new t(e,n)},e.exports.test=function(e){return t.isBuffer(e)}}).call(this,"undefined"!=typeof Buffer?Buffer:undefined)},{}],12:[function(t,e){"use strict";function n(t){this.data=t,this.length=this.data.length,this.index=0}var i=t("./uint8ArrayReader");n.prototype=new i,n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=n},{"./uint8ArrayReader":18}],13:[function(t,e){"use strict";var n=t("./support"),i=t("./utils"),r=t("./crc32"),o=t("./signature"),a=t("./defaults"),s=t("./base64"),l=t("./compressions"),u=t("./compressedObject"),c=t("./nodeBuffer"),d=t("./utf8"),f=t("./stringWriter"),h=t("./uint8ArrayWriter"),p=function(t){if(t._data instanceof u&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===i.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},g=function(t){var e=p(t);return"string"===i.getTypeOf(e)?!t.options.binary&&n.nodebuffer?c(e,"utf-8"):t.asBinary():e},m=function(t){var e=p(this);return null==e?"":(this.options.base64&&(e=s.decode(e)),e=t&&this.options.binary?A.utf8decode(e):i.transformTo("string",e),t||this.options.binary||(e=i.transformTo("string",A.utf8encode(e))),e)},v=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};v.prototype={asText:function(){return m.call(this,!0)},asBinary:function(){return m.call(this,!1)},asNodeBuffer:function(){var t=g(this);return i.transformTo("nodebuffer",t)},asUint8Array:function(){var t=g(this);return i.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},y=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&"undefined"==typeof n[e]&&(n[e]=arguments[t][e]);return n},x=function(t){return!0!==(t=t||{}).base64||null!==t.binary&&t.binary!==undefined||(t.binary=!0),(t=y(t,a)).date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t},w=function(t,e,n){var r,o=i.getTypeOf(e);if("string"==typeof(n=x(n)).unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(t=C(t)),n.createFolders&&(r=_(t))&&k.call(this,r,!0),n.dir||null==e)n.base64=!1,n.binary=!1,e=null,o=null;else if("string"===o)n.binary&&!n.base64&&!0!==n.optimizedBinaryString&&(e=i.string2binary(e));else{if(n.base64=!1,n.binary=!0,!(o||e instanceof u))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===o&&(e=i.transformTo("uint8array",e))}var a=new v(t,e,n);return this.files[t]=a,a},_=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},C=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},k=function(t,e){return e=void 0!==e&&e,t=C(t),this.files[t]||w.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},S=function(t,e,n){var o,a=new u;return t._data instanceof u?(a.uncompressedSize=t._data.uncompressedSize,a.crc32=t._data.crc32,0===a.uncompressedSize||t.dir?(e=l.STORE,a.compressedContent="",a.crc32=0):t._data.compressionMethod===e.magic?a.compressedContent=t._data.getCompressedContent():(o=t._data.getContent(),a.compressedContent=e.compress(i.transformTo(e.compressInputType,o),n))):((o=g(t))&&0!==o.length&&!t.dir||(e=l.STORE,o=""),a.uncompressedSize=o.length,a.crc32=r(o),a.compressedContent=e.compress(i.transformTo(e.compressInputType,o),n)),a.compressedSize=a.compressedContent.length,a.compressionMethod=e.magic,a},T=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16},M=function(t){return 63&(t||0)},D=function(t,e,n,a,s){n.compressedContent;var l,u,c,f,h=i.transformTo("string",d.utf8encode(e.name)),p=e.comment||"",g=i.transformTo("string",d.utf8encode(p)),m=h.length!==e.name.length,v=g.length!==p.length,y=e.options,x="",w="",_="";c=e._initialMetadata.dir!==e.dir?e.dir:y.dir,f=e._initialMetadata.date!==e.date?e.date:y.date;var C=0,k=0;c&&(C|=16),"UNIX"===s?(k=798,C|=T(e.unixPermissions,c)):(k=20,C|=M(e.dosPermissions,c)),l=f.getHours(),l<<=6,l|=f.getMinutes(),l<<=5,l|=f.getSeconds()/2,u=f.getFullYear()-1980,u<<=4,u|=f.getMonth()+1,u<<=5,u|=f.getDate(),m&&(w=b(1,1)+b(r(h),4)+h,x+="up"+b(w.length,2)+w),v&&(_=b(1,1)+b(this.crc32(g),4)+g,x+="uc"+b(_.length,2)+_);var S="";return S+="\n\0",S+=m||v?"\0\b":"\0\0",S+=n.compressionMethod,S+=b(l,2),S+=b(u,2),S+=b(n.crc32,4),S+=b(n.compressedSize,4),S+=b(n.uncompressedSize,4),S+=b(h.length,2),S+=b(x.length,2),{fileRecord:o.LOCAL_FILE_HEADER+S+h+x,dirRecord:o.CENTRAL_FILE_HEADER+b(k,2)+S+b(g.length,2)+"\0\0\0\0"+b(C,4)+b(a,4)+h+x+g,compressedObject:n}},A={load:function(){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,n,i,r,o=[];for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],r=new v(i.name,i._data,y(i.options)),n=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(n,r)&&o.push(r));return o},file:function(t,e,n){if(1===arguments.length){if(i.isRegExp(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}return this.filter(function(e,n){return!n.dir&&e===t})[0]||null}return t=this.root+t,w.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(i.isRegExp(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=k.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){t=y(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip"}),i.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,n,r=[],a=0,u=0,c=i.transformTo("string",this.utf8encode(t.comment||this.comment||""));for(var d in this.files)if(this.files.hasOwnProperty(d)){var p=this.files[d],g=p.options.compression||t.compression.toUpperCase(),m=l[g];if(!m)throw new Error(g+" is not a valid compression method !");var v=p.options.compressionOptions||t.compressionOptions||{},x=S.call(this,p,m,v),w=D.call(this,d,p,x,a,t.platform);a+=w.fileRecord.length+x.compressedSize,u+=w.dirRecord.length,r.push(w)}var _="";_=o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(r.length,2)+b(r.length,2)+b(u,4)+b(a,4)+b(c.length,2)+c;var C=t.type.toLowerCase();for(e="uint8array"===C||"arraybuffer"===C||"blob"===C||"nodebuffer"===C?new h(a+u+_.length):new f(a+u+_.length),n=0;n<r.length;n++)e.append(r[n].fileRecord),e.append(r[n].compressedObject.compressedContent);for(n=0;n<r.length;n++)e.append(r[n].dirRecord);e.append(_);var k=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(t.type.toLowerCase(),k);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",k),t.mimeType);case"base64":return t.base64?s.encode(k):k;default:return k}},crc32:function(t,e){return r(t,e)},utf8encode:function(t){return i.transformTo("string",d.utf8encode(t))},utf8decode:function(t){return d.utf8decode(t)}};e.exports=A},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],15:[function(t,e){"use strict";function n(t,e){this.data=t,e||(this.data=r.string2binary(this.data)),this.length=this.data.length,this.index=0}var i=t("./dataReader"),r=t("./utils");n.prototype=new i,n.prototype.byteAt=function(t){return this.data.charCodeAt(t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=n},{"./dataReader":5,"./utils":21}],16:[function(t,e){"use strict";var n=t("./utils"),i=function(){this.data=[]};i.prototype={append:function(t){t=n.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=i},{"./utils":21}],17:[function(t,e,n){(function(t){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==t,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var e=new ArrayBuffer(0);try{n.blob=0===new Blob([e],{type:"application/zip"}).size}catch(r){try{var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);i.append(e),n.blob=0===i.getBlob("application/zip").size}catch(r){n.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:undefined)},{}],18:[function(t,e){"use strict";function n(t){t&&(this.data=t,this.length=this.data.length,this.index=0)}var i=t("./dataReader");n.prototype=new i,n.prototype.byteAt=function(t){return this.data[t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o;return-1},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.index,this.index+t);return this.index+=t,e},e.exports=n},{"./dataReader":5}],19:[function(t,e){"use strict";var n=t("./utils"),i=function(t){this.data=new Uint8Array(t),this.index=0};i.prototype={append:function(t){0!==t.length&&(t=n.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=i},{"./utils":21}],20:[function(t,e,n){"use strict";for(var i=t("./utils"),r=t("./support"),o=t("./nodeBuffer"),a=new Array(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;a[254]=a[254]=1;var l=function(t){var e,n,i,o,a,s=t.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=r.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;a<l;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},u=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e},c=function(t){var e,n,r,o,s=t.length,l=new Array(2*s);for(n=0,e=0;e<s;)if((r=t[e++])<128)l[n++]=r;else if((o=a[r])>4)l[n++]=65533,e+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&e<s;)r=r<<6|63&t[e++],o--;o>1?l[n++]=65533:r<65536?l[n++]=r:(r-=65536,l[n++]=55296|r>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)};n.utf8encode=function(t){return r.nodebuffer?o(t,"utf-8"):l(t)},n.utf8decode=function(t){if(r.nodebuffer)return i.transformTo("nodebuffer",t).toString("utf-8");for(var e=[],n=0,o=(t=i.transformTo(r.uint8array?"uint8array":"array",t)).length,a=65536;n<o;){var s=u(t,Math.min(n+a,o));r.uint8array?e.push(c(t.subarray(n,s))):e.push(c(t.slice(n,s))),n=s}return e.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(t,e,n){"use strict";function i(t){return t}function r(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function o(t){var e=65536,i=[],r=t.length,o=n.getTypeOf(t),a=0,s=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,u(0))}}catch(d){s=!1}if(!s){for(var l="",c=0;c<t.length;c++)l+=String.fromCharCode(t[c]);return l}for(;a<r&&e>1;)try{"array"===o||"nodebuffer"===o?i.push(String.fromCharCode.apply(null,t.slice(a,Math.min(a+e,r)))):i.push(String.fromCharCode.apply(null,t.subarray(a,Math.min(a+e,r)))),a+=e}catch(d){e=Math.floor(e/2)}return i.join("")}function a(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var s=t("./support"),l=t("./compressions"),u=t("./nodeBuffer");n.string2binary=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e},n.arrayBuffer2Blob=function(t,e){n.checkSupport("blob"),e=e||"application/zip";try{return new Blob([t],{type:e})}catch(r){try{var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return i.append(t),i.getBlob(e)}catch(r){throw new Error("Bug : can't construct the Blob.")}}},n.applyFromCharCode=o;var c={};c.string={string:i,array:function(t){return r(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return r(t,new Uint8Array(t.length))},nodebuffer:function(t){return r(t,u(t.length))}},c.array={string:o,array:i,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u(t)}},c.arraybuffer={string:function(t){return o(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:i,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u(new Uint8Array(t))}},c.uint8array={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:i,nodebuffer:function(t){return u(t)}},c.nodebuffer={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:i},n.transformTo=function(t,e){if(e||(e=""),!t)return e;n.checkSupport(t);var i=n.getTypeOf(e);return c[i][t](e)},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":s.nodebuffer&&u.test(t)?"nodebuffer":s.uint8array&&t instanceof Uint8Array?"uint8array":s.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!s[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},n.findCompression=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(t,e){"use strict";function n(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var i=t("./stringReader"),r=t("./nodeBufferReader"),o=t("./uint8ArrayReader"),a=t("./utils"),s=t("./signature"),l=t("./zipEntry"),u=t("./support"),c=t("./object");n.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+a.pretty(e)+", expected "+a.pretty(t)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=c.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44,r=0;r<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===s.CENTRAL_FILE_HEADER;)(t=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(-1===t){var e=!0;try{this.reader.setIndex(0),this.checkSignature(s.LOCAL_FILE_HEADER),e=!1}catch(n){}throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}if(this.reader.setIndex(t),this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,-1===(t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR)))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(t){var e=a.getTypeOf(t);"string"!==e||u.uint8array?this.reader="nodebuffer"===e?new r(t):new o(a.transformTo("uint8array",t)):this.reader=new i(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=n},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(t,e){"use strict";function n(t,e){this.options=t,this.loadOptions=e}var i=t("./stringReader"),r=t("./utils"),o=t("./compressedObject"),a=t("./object"),s=0,l=3;n.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,n){return function(){var i=t.index;t.setIndex(e);var r=t.readData(n);return t.setIndex(i),r}},prepareContent:function(t,e,n,i,o){return function(){var t=r.transformTo(i.uncompressInputType,this.getCompressedContent()),e=i.uncompress(t);if(e.length!==o)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readString(this.fileNameLength),t.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)")
;if(null===(e=r.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new o,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=r.transformTo("string",this.decompressed.getContent()),a.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readString(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readString(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),t===s&&(this.dosPermissions=63&this.externalFileAttributes),t===l&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileName.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=new i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index;for(this.extraFields=this.extraFields||{};t.index<r+this.extraFieldsLength;)e=t.readInt(2),n=t.readInt(2),i=t.readString(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){if(this.useUTF8())this.fileName=a.utf8decode(this.fileName),this.fileComment=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();null!==t&&(this.fileName=t);var e=this.findExtraFieldUnicodeComment();null!==e&&(this.fileComment=e)}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:a.crc32(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:a.crc32(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readString(t.length-5))}return null}},e.exports=n},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(t,e){"use strict";var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(t,e,n){"use strict";function i(t,e){var n=new b(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function r(t,e){return(e=e||{}).raw=!0,i(t,e)}function o(t,e){return(e=e||{}).gzip=!0,i(t,e)}var a=t("./zlib/deflate.js"),s=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/messages"),c=t("./zlib/zstream"),d=0,f=4,h=0,p=1,g=-1,m=0,v=8,b=function(t){this.options=s.assign({level:g,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==h)throw new Error(u[n]);e.header&&a.deflateSetHeader(this.strm,e.header)};b.prototype.push=function(t,e){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?f:d,r.input="string"==typeof t?l.string2buf(t):t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new s.Buf8(o),r.next_out=0,r.avail_out=o),(n=a.deflate(r,i))!==p&&n!==h)return this.onEnd(n),this.ended=!0,!1;(0===r.avail_out||0===r.avail_in&&i===f)&&("string"===this.options.to?this.onData(l.buf2binstring(s.shrinkBuf(r.output,r.next_out))):this.onData(s.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&n!==p);return i!==f||(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h)},b.prototype.onData=function(t){this.chunks.push(t)},b.prototype.onEnd=function(t){t===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=b,n.deflate=i,n.deflateRaw=r,n.gzip=o},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(t,e,n){"use strict";function i(t,e){var n=new f(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function r(t,e){return(e=e||{}).raw=!0,i(t,e)}var o=t("./zlib/inflate.js"),a=t("./utils/common"),s=t("./utils/strings"),l=t("./zlib/constants"),u=t("./zlib/messages"),c=t("./zlib/zstream"),d=t("./zlib/gzheader"),f=function(t){this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=o.inflateInit2(this.strm,e.windowBits);if(n!==l.Z_OK)throw new Error(u[n]);this.header=new d,o.inflateGetHeader(this.strm,this.header)};f.prototype.push=function(t,e){var n,i,r,u,c,d=this.strm,f=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?l.Z_FINISH:l.Z_NO_FLUSH,d.input="string"==typeof t?s.binstring2buf(t):t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new a.Buf8(f),d.next_out=0,d.avail_out=f),(n=o.inflate(d,l.Z_NO_FLUSH))!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0===d.avail_out||n===l.Z_STREAM_END||0===d.avail_in&&i===l.Z_FINISH)&&("string"===this.options.to?(r=s.utf8border(d.output,d.next_out),u=d.next_out-r,c=s.buf2string(d.output,r),d.next_out=u,d.avail_out=f-u,u&&a.arraySet(d.output,d.output,r,u,0),this.onData(c)):this.onData(a.shrinkBuf(d.output,d.next_out)))}while(d.avail_in>0&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(i=l.Z_FINISH),i!==l.Z_FINISH||(n=o.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=f,n.inflate=i,n.inflateRaw=r,n.ungzip=i},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,a;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,r),r+=o.length;return a}},o={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],28:[function(t,e,n){"use strict";function i(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}var r=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(u){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){a=!1}for(var s=new r.Buf8(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1,n.string2buf=function(t){var e,n,i,o,a,s=t.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},n.buf2binstring=function(t){return i(t,t.length)},n.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,o,a,l=e||t.length,u=new Array(2*l);for(r=0,n=0;n<l;)if((o=t[n++])<128)u[r++]=o;else if((a=s[o])>4)u[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<l;)o=o<<6|63&t[n++],a--;a>1?u[r++]=65533:o<65536?u[r++]=o:(o-=65536,u[r++]=55296|o>>10&1023,u[r++]=56320|1023&o)}return i(u,r)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},{"./common":27}],29:[function(t,e){"use strict";function n(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+e[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}e.exports=n},{}],30:[function(t,e){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(t,e){"use strict";function n(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function i(t,e,n,i){var o=r,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}var r=n();e.exports=i},{}],32:[function(t,e,n){"use strict";function i(t,e){return t.msg=$[e],e}function r(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(D.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){A._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function l(t,e){t.pending_buf[t.pending++]=e}function u(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,n,i){var r=t.avail_in;return r>i&&(r=i),0===r?0:(t.avail_in-=r,D.arraySet(e,t.input,t.next_in,r,n),1===t.state.wrap?t.adler=I(t.adler,e,r,n):2===t.state.wrap&&(t.adler=j(t.adler,e,r,n)),t.next_in+=r,t.total_in+=r,r)}function d(t,e){var n,i,r=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-st?t.strstart-(t.w_size-st):0,u=t.window,c=t.w_mask,d=t.prev,f=t.strstart+at,h=u[o+a-1],p=u[o+a];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(n=e)+a]===p&&u[n+a-1]===h&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(i=at-(f-o),o=f-at,i>a){if(t.match_start=e,a=i,i>=s)break;h=u[o+a-1],p=u[o+a]}}}while((e=d[e&c])>l&&0!=--r);return a<=t.lookahead?a:t.lookahead}function f(t){var e,n,i,r,o,a=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-st)){D.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=a?i-a:0}while(--n);e=n=a;do{i=t.prev[--e],t.prev[e]=i>=a?i-a:0}while(--n);r+=a}if(0===t.strm.avail_in)break;if(n=c(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=ot)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+ot-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<ot)););}while(t.lookahead<st&&0!==t.strm.avail_in)}function h(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(f(t),0===t.lookahead&&e===F)return mt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,s(t,!1),0===t.strm.avail_out))return mt;if(t.strstart-t.block_start>=t.w_size-st&&(s(t,!1),0===t.strm.avail_out))return mt}return t.insert=0,e===P?(s(t,!0),0===t.strm.avail_out?bt:yt):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),mt)}function p(t,e){for(var n,i;;){if(t.lookahead<st){if(f(t),t.lookahead<st&&e===F)return mt;if(0===t.lookahead)break}if(n=0,t.lookahead>=ot&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-st&&(t.match_length=d(t,n)),t.match_length>=ot)if(i=A._tr_tally(t,t.strstart-t.match_start,t.match_length-ot),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ot){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=A._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(s(t,!1),0===t.strm.avail_out))return mt}return t.insert=t.strstart<ot-1?t.strstart:ot-1,e===P?(s(t,!0),0===t.strm.avail_out?bt:yt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?mt:vt}function g(t,e){for(var n,i,r;;){if(t.lookahead<st){if(f(t),t.lookahead<st&&e===F)return mt;if(0===t.lookahead)break}if(n=0,t.lookahead>=ot&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ot-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-st&&(t.match_length=d(t,n),t.match_length<=5&&(t.strategy===q||t.match_length===ot&&t.strstart-t.match_start>4096)&&(t.match_length=ot-1)),t.prev_length>=ot&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-ot,i=A._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ot),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=ot-1,t.strstart++,i&&(s(t,!1),0===t.strm.avail_out))return mt}else if(t.match_available){if((i=A._tr_tally(t,0,t.window[t.strstart-1]))&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return mt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=A._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ot-1?t.strstart:ot-1,e===P?(s(t,!0),0===t.strm.avail_out?bt:yt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?mt:vt}function m(t,e){for(var n,i,r,o,a=t.window;;){if(t.lookahead<=at){if(f(t),t.lookahead<=at&&e===F)return mt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ot&&t.strstart>0&&(i=a[r=t.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){o=t.strstart+at;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);t.match_length=at-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ot?(n=A._tr_tally(t,1,t.match_length-ot),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=A._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return mt}return t.insert=0,e===P?(s(t,!0),0===t.strm.avail_out?bt:yt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?mt:vt}function v(t,e){for(var n;;){if(0===t.lookahead&&(f(t),0===t.lookahead)){if(e===F)return mt;break}if(t.match_length=0,n=A._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return mt}return t.insert=0,e===P?(s(t,!0),0===t.strm.avail_out?bt:yt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?mt:vt}function b(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=M[t.level].max_lazy,t.good_match=M[t.level].good_length,t.nice_match=M[t.level].nice_length,t.max_chain_length=M[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ot-1,t.match_available=0,t.ins_h=0}function y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new D.Buf16(2*it),this.dyn_dtree=new D.Buf16(2*(2*et+1)),this.bl_tree=new D.Buf16(2*(2*nt+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new D.Buf16(rt+1),this.heap=new D.Buf16(2*tt+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new D.Buf16(2*tt+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=G,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ut:pt,t.adler=2===e.wrap?0:1,e.last_flush=F,A._tr_init(e),N):i(t,R)}function w(t){var e=x(t);return e===N&&b(t.state),e}function _(t,e){return t&&t.state?2!==t.state.wrap?R:(t.state.gzhead=e,N):R}function C(t,e,n,r,o,a){if(!t)return R;var s=1;if(e===U&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>K||n!==Z||r<8||r>15||e<0||e>9||a<0||a>Y)return i(t,R);8===r&&(r=9);var l=new y;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ot-1)/ot),l.window=new D.Buf8(2*l.w_size),l.head=new D.Buf16(l.hash_size),l.prev=new D.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new D.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,w(t)}function k(t,e){return C(t,e,Z,J,Q,X)}function S(t,e){var n,s,c,d;if(!t||!t.state||e>L||e<0)return t?i(t,R):R;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===gt&&e!==P)return i(t,0===t.avail_out?H:R);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===ut)if(2===s.wrap)t.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=W||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=j(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=ct):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=W||s.level<2?4:0),l(s,xt),s.status=pt);else{var f=Z+(s.w_bits-8<<4)<<8;f|=(s.strategy>=W||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(f|=lt),f+=31-f%31,s.status=pt,u(s,f),0!==s.strstart&&(u(s,t.adler>>>16),u(s,65535&t.adler)),t.adler=1}if(s.status===ct)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(t.adler=j(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(t.adler=j(t.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=dt)}else s.status=dt;if(s.status===dt)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=j(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(t.adler=j(t.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.gzindex=0,s.status=ft)}else s.status=ft;if(s.status===ft)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=j(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(t.adler=j(t.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.status=ht)}else s.status=ht;if(s.status===ht&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(t),s.pending+2<=s.pending_buf_size&&(l(s,255&t.adler),l(s,t.adler>>8&255),t.adler=0,s.status=pt)):s.status=pt),0!==s.pending){if(a(t),0===t.avail_out)return s.last_flush=-1,N}else if(0===t.avail_in&&r(e)<=r(n)&&e!==P)return i(t,H);if(s.status===gt&&0!==t.avail_in)return i(t,H);if(0!==t.avail_in||0!==s.lookahead||e!==F&&s.status!==gt){var h=s.strategy===W?v(s,e):s.strategy===V?m(s,e):M[s.level].func(s,e);if(h!==bt&&h!==yt||(s.status=gt),h===mt||h===bt)return 0===t.avail_out&&(s.last_flush=-1),N;if(h===vt&&(e===E?A._tr_align(s):e!==L&&(A._tr_stored_block(s,0,0,!1),e===O&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(t),0===t.avail_out))return s.last_flush=-1,N}return e!==P?N:s.wrap<=0?B:(2===s.wrap?(l(s,255&t.adler),l(s,t.adler>>8&255),l(s,t.adler>>16&255),l(s,t.adler>>24&255),l(s,255&t.total_in),l(s,t.total_in>>8&255),l(s,t.total_in>>16&255),l(s,t.total_in>>24&255)):(u(s,t.adler>>>16),u(s,65535&t.adler)),a(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?N:B)}function T(t){var e;return t&&t.state?(e=t.state.status)!==ut&&e!==ct&&e!==dt&&e!==ft&&e!==ht&&e!==pt&&e!==gt?i(t,R):(t.state=null,e===pt?i(t,z):N):R}var M,D=t("../utils/common"),A=t("./trees"),I=t("./adler32"),j=t("./crc32"),$=t("./messages"),F=0,E=1,O=3,P=4,L=5,N=0,B=1,R=-2,z=-3,H=-5,U=-1,q=1,W=2,V=3,Y=4,X=0,G=2,Z=8,K=9,J=15,Q=8,tt=256+1+29,et=30,nt=19,it=2*tt+1,rt=15,ot=3,at=258,st=at+ot+1,lt=32,ut=42,ct=69,dt=73,ft=91,ht=103,pt=113,gt=666,mt=1,vt=2,bt=3,yt=4,xt=3,wt=function(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r};M=[new wt(0,0,0,0,h),new wt(4,4,8,4,p),new wt(4,5,16,8,p),new wt(4,6,32,32,p),new wt(4,4,16,16,g),new wt(8,16,32,32,g),new wt(8,16,128,128,g),new wt(8,32,128,256,g),new wt(32,128,258,1024,g),new wt(32,258,258,4096,g)],n.deflateInit=k,n.deflateInit2=C,n.deflateReset=w,n.deflateResetKeep=x,n.deflateSetHeader=_,n.deflate=S,n.deflateEnd=T,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(t,e){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=n},{}],34:[function(t,e){"use strict";var n=30,i=12;e.exports=function(t,e){var r,o,a,s,l,u,c,d,f,h,p,g,m,v,b,y,x,w,_,C,k,S,T,M,D;r=t.state,o=t.next_in,M=t.input,a=o+(t.avail_in-5),s=t.next_out,D=t.output,l=s-(e-t.avail_out),u=s+(t.avail_out-257),c=r.dmax,d=r.wsize,f=r.whave,h=r.wnext,p=r.window,g=r.hold,m=r.bits,v=r.lencode,b=r.distcode,y=(1<<r.lenbits)-1,x=(1<<r.distbits)-1;t:do{m<15&&(g+=M[o++]<<m,m+=8,g+=M[o++]<<m,m+=8),w=v[g&y];e:for(;;){if(g>>>=_=w>>>24,m-=_,0===(_=w>>>16&255))D[s++]=65535&w;else{if(!(16&_)){if(0==(64&_)){w=v[(65535&w)+(g&(1<<_)-1)];continue e}if(32&_){r.mode=i;break t}t.msg="invalid literal/length code",r.mode=n;break t}C=65535&w,(_&=15)&&(m<_&&(g+=M[o++]<<m,m+=8),C+=g&(1<<_)-1,g>>>=_,m-=_),m<15&&(g+=M[o++]<<m,m+=8,g+=M[o++]<<m,m+=8),w=b[g&x];n:for(;;){if(g>>>=_=w>>>24,m-=_,!(16&(_=w>>>16&255))){if(0==(64&_)){w=b[(65535&w)+(g&(1<<_)-1)];continue n}t.msg="invalid distance code",r.mode=n;break t}if(k=65535&w,m<(_&=15)&&(g+=M[o++]<<m,(m+=8)<_&&(g+=M[o++]<<m,m+=8)),(k+=g&(1<<_)-1)>c){t.msg="invalid distance too far back",r.mode=n;break t}if(g>>>=_,m-=_,k>(_=s-l)){if((_=k-_)>f&&r.sane){t.msg="invalid distance too far back",r.mode=n;break t}if(S=0,T=p,0===h){if(S+=d-_,_<C){C-=_;do{D[s++]=p[S++]}while(--_);S=s-k,T=D}}else if(h<_){if(S+=d+h-_,(_-=h)<C){C-=_;do{D[s++]=p[S++]}while(--_);if(S=0,h<C){C-=_=h;do{D[s++]=p[S++]}while(--_);S=s-k,T=D}}}else if(S+=h-_,_<C){C-=_;do{D[s++]=p[S++]}while(--_);S=s-k,T=D}for(;C>2;)D[s++]=T[S++],D[s++]=T[S++],D[s++]=T[S++],C-=3;C&&(D[s++]=T[S++],C>1&&(D[s++]=T[S++]))}else{S=s-k;do{D[s++]=D[S++],D[s++]=D[S++],D[s++]=D[S++],C-=3}while(C>2);C&&(D[s++]=D[S++],C>1&&(D[s++]=D[S++]))}break}}break}}while(o<a&&s<u);o-=C=m>>3,g&=(1<<(m-=C<<3))-1,t.next_in=o,t.next_out=s,t.avail_in=o<a?a-o+5:5-(o-a),t.avail_out=s<u?u-s+257:257-(s-u),r.hold=g,r.bits=m}},{}],35:[function(t,e,n){"use strict";function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=P,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new v.Buf32(pt),e.distcode=e.distdyn=new v.Buf32(gt),e.sane=1,e.back=-1,D):j}function a(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,o(t)):j}function s(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?j:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,a(t))):j}function l(t,e){var n,i;return t?(i=new r,t.state=i,i.window=null,(n=s(t,e))!==D&&(t.state=null),n):j}function u(t){return l(t,mt)}function c(t){if(vt){var e;for(g=new v.Buf32(512),m=new v.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(w(C,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;w(k,t.lens,0,32,m,0,t.work,{bits:5}),vt=!1}t.lencode=g,t.lenbits=9,t.distcode=m,t.distbits=5}function d(t,e,n,i){var r,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new v.Buf8(o.wsize)),i>=o.wsize?(v.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),v.arraySet(o.window,e,n-i,r,o.wnext),(i-=r)?(v.arraySet(o.window,e,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}function f(t,e){var n,r,o,a,s,l,u,f,h,p,g,m,pt,gt,mt,vt,bt,yt,xt,wt,_t,Ct,kt,St,Tt=0,Mt=new v.Buf8(4),Dt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return j;(n=t.state).mode===Y&&(n.mode=X),s=t.next_out,o=t.output,u=t.avail_out,a=t.next_in,r=t.input,l=t.avail_in,f=n.hold,h=n.bits,p=l,g=u,Ct=D;t:for(;;)switch(n.mode){case P:if(0===n.wrap){n.mode=X;break}for(;h<16;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}if(2&n.wrap&&35615===f){n.check=0,Mt[0]=255&f,Mt[1]=f>>>8&255,n.check=y(n.check,Mt,2,0),f=0,h=0,n.mode=L;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=dt;break}if((15&f)!==O){t.msg="unknown compression method",n.mode=dt;break}if(h-=4,_t=8+(15&(f>>>=4)),0===n.wbits)n.wbits=_t;else if(_t>n.wbits){t.msg="invalid window size",n.mode=dt;break}n.dmax=1<<_t,t.adler=n.check=1,n.mode=512&f?W:Y,f=0,h=0;break;case L:for(;h<16;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}if(n.flags=f,(255&n.flags)!==O){t.msg="unknown compression method",n.mode=dt;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=dt;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(Mt[0]=255&f,Mt[1]=f>>>8&255,n.check=y(n.check,Mt,2,0)),f=0,h=0,n.mode=N;case N:for(;h<32;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}n.head&&(n.head.time=f),512&n.flags&&(Mt[0]=255&f,Mt[1]=f>>>8&255,Mt[2]=f>>>16&255,Mt[3]=f>>>24&255,n.check=y(n.check,Mt,4,0)),f=0,h=0,n.mode=B;case B:for(;h<16;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(Mt[0]=255&f,Mt[1]=f>>>8&255,n.check=y(n.check,Mt,2,0)),f=0,h=0,n.mode=R;case R:if(1024&n.flags){for(;h<16;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(Mt[0]=255&f,Mt[1]=f>>>8&255,n.check=y(n.check,Mt,2,0)),f=0,h=0}else n.head&&(n.head.extra=null);n.mode=z;case z:if(1024&n.flags&&((m=n.length)>l&&(m=l),m&&(n.head&&(_t=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),v.arraySet(n.head.extra,r,a,m,_t)),512&n.flags&&(n.check=y(n.check,r,m,a)),l-=m,a+=m,n.length-=m),n.length))break t;n.length=0,n.mode=H;case H:if(2048&n.flags){if(0===l)break t;m=0;do{_t=r[a+m++],n.head&&_t&&n.length<65536&&(n.head.name+=String.fromCharCode(_t))}while(_t&&m<l);if(512&n.flags&&(n.check=y(n.check,r,m,a)),l-=m,a+=m,_t)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=U;case U:if(4096&n.flags){if(0===l)break t;m=0;do{_t=r[a+m++],n.head&&_t&&n.length<65536&&(n.head.comment+=String.fromCharCode(_t))}while(_t&&m<l);if(512&n.flags&&(n.check=y(n.check,r,m,a)),l-=m,a+=m,_t)break t}else n.head&&(n.head.comment=null);n.mode=q;case q:if(512&n.flags){for(;h<16;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}if(f!==(65535&n.check)){t.msg="header crc mismatch",n.mode=dt;break}f=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Y;break;case W:for(;h<32;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}t.adler=n.check=i(f),f=0,h=0,n.mode=V;case V:if(0===n.havedict)return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=f,n.bits=h,I;t.adler=n.check=1,n.mode=Y;case Y:if(e===T||e===M)break t;case X:if(n.last){f>>>=7&h,h-=7&h,n.mode=lt;break}for(;h<3;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}switch(n.last=1&f,h-=1,3&(f>>>=1)){case 0:n.mode=G;break;case 1:if(c(n),n.mode=et,e===M){f>>>=2,h-=2;break t}break;case 2:n.mode=J;break;case 3:t.msg="invalid block type",n.mode=dt}f>>>=2,h-=2;break;case G:for(f>>>=7&h,h-=7&h;h<32;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}if((65535&f)!=(f>>>16^65535)){
t.msg="invalid stored block lengths",n.mode=dt;break}if(n.length=65535&f,f=0,h=0,n.mode=Z,e===M)break t;case Z:n.mode=K;case K:if(m=n.length){if(m>l&&(m=l),m>u&&(m=u),0===m)break t;v.arraySet(o,r,a,m,s),l-=m,a+=m,u-=m,s+=m,n.length-=m;break}n.mode=Y;break;case J:for(;h<14;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}if(n.nlen=257+(31&f),f>>>=5,h-=5,n.ndist=1+(31&f),f>>>=5,h-=5,n.ncode=4+(15&f),f>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=dt;break}n.have=0,n.mode=Q;case Q:for(;n.have<n.ncode;){for(;h<3;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}n.lens[Dt[n.have++]]=7&f,f>>>=3,h-=3}for(;n.have<19;)n.lens[Dt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,kt={bits:n.lenbits},Ct=w(_,n.lens,0,19,n.lencode,0,n.work,kt),n.lenbits=kt.bits,Ct){t.msg="invalid code lengths set",n.mode=dt;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.nlen+n.ndist;){for(;vt=(Tt=n.lencode[f&(1<<n.lenbits)-1])>>>16&255,bt=65535&Tt,!((mt=Tt>>>24)<=h);){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}if(bt<16)f>>>=mt,h-=mt,n.lens[n.have++]=bt;else{if(16===bt){for(St=mt+2;h<St;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}if(f>>>=mt,h-=mt,0===n.have){t.msg="invalid bit length repeat",n.mode=dt;break}_t=n.lens[n.have-1],m=3+(3&f),f>>>=2,h-=2}else if(17===bt){for(St=mt+3;h<St;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}h-=mt,_t=0,m=3+(7&(f>>>=mt)),f>>>=3,h-=3}else{for(St=mt+7;h<St;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}h-=mt,_t=0,m=11+(127&(f>>>=mt)),f>>>=7,h-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=dt;break}for(;m--;)n.lens[n.have++]=_t}}if(n.mode===dt)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=dt;break}if(n.lenbits=9,kt={bits:n.lenbits},Ct=w(C,n.lens,0,n.nlen,n.lencode,0,n.work,kt),n.lenbits=kt.bits,Ct){t.msg="invalid literal/lengths set",n.mode=dt;break}if(n.distbits=6,n.distcode=n.distdyn,kt={bits:n.distbits},Ct=w(k,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,kt),n.distbits=kt.bits,Ct){t.msg="invalid distances set",n.mode=dt;break}if(n.mode=et,e===M)break t;case et:n.mode=nt;case nt:if(l>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=f,n.bits=h,x(t,g),s=t.next_out,o=t.output,u=t.avail_out,a=t.next_in,r=t.input,l=t.avail_in,f=n.hold,h=n.bits,n.mode===Y&&(n.back=-1);break}for(n.back=0;vt=(Tt=n.lencode[f&(1<<n.lenbits)-1])>>>16&255,bt=65535&Tt,!((mt=Tt>>>24)<=h);){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}if(vt&&0==(240&vt)){for(yt=mt,xt=vt,wt=bt;vt=(Tt=n.lencode[wt+((f&(1<<yt+xt)-1)>>yt)])>>>16&255,bt=65535&Tt,!(yt+(mt=Tt>>>24)<=h);){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}f>>>=yt,h-=yt,n.back+=yt}if(f>>>=mt,h-=mt,n.back+=mt,n.length=bt,0===vt){n.mode=st;break}if(32&vt){n.back=-1,n.mode=Y;break}if(64&vt){t.msg="invalid literal/length code",n.mode=dt;break}n.extra=15&vt,n.mode=it;case it:if(n.extra){for(St=n.extra;h<St;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=rt;case rt:for(;vt=(Tt=n.distcode[f&(1<<n.distbits)-1])>>>16&255,bt=65535&Tt,!((mt=Tt>>>24)<=h);){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}if(0==(240&vt)){for(yt=mt,xt=vt,wt=bt;vt=(Tt=n.distcode[wt+((f&(1<<yt+xt)-1)>>yt)])>>>16&255,bt=65535&Tt,!(yt+(mt=Tt>>>24)<=h);){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}f>>>=yt,h-=yt,n.back+=yt}if(f>>>=mt,h-=mt,n.back+=mt,64&vt){t.msg="invalid distance code",n.mode=dt;break}n.offset=bt,n.extra=15&vt,n.mode=ot;case ot:if(n.extra){for(St=n.extra;h<St;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=dt;break}n.mode=at;case at:if(0===u)break t;if(m=g-u,n.offset>m){if((m=n.offset-m)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=dt;break}m>n.wnext?(m-=n.wnext,pt=n.wsize-m):pt=n.wnext-m,m>n.length&&(m=n.length),gt=n.window}else gt=o,pt=s-n.offset,m=n.length;m>u&&(m=u),u-=m,n.length-=m;do{o[s++]=gt[pt++]}while(--m);0===n.length&&(n.mode=nt);break;case st:if(0===u)break t;o[s++]=n.length,u--,n.mode=nt;break;case lt:if(n.wrap){for(;h<32;){if(0===l)break t;l--,f|=r[a++]<<h,h+=8}if(g-=u,t.total_out+=g,n.total+=g,g&&(t.adler=n.check=n.flags?y(n.check,o,g,s-g):b(n.check,o,g,s-g)),g=u,(n.flags?f:i(f))!==n.check){t.msg="incorrect data check",n.mode=dt;break}f=0,h=0}n.mode=ut;case ut:if(n.wrap&&n.flags){for(;h<32;){if(0===l)break t;l--,f+=r[a++]<<h,h+=8}if(f!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=dt;break}f=0,h=0}n.mode=ct;case ct:Ct=A;break t;case dt:Ct=$;break t;case ft:return F;case ht:default:return j}return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=f,n.bits=h,(n.wsize||g!==t.avail_out&&n.mode<dt&&(n.mode<lt||e!==S))&&d(t,t.output,t.next_out,g-t.avail_out)?(n.mode=ft,F):(p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,n.total+=g,n.wrap&&g&&(t.adler=n.check=n.flags?y(n.check,o,g,t.next_out-g):b(n.check,o,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Y?128:0)+(n.mode===et||n.mode===Z?256:0),(0===p&&0===g||e===S)&&Ct===D&&(Ct=E),Ct)}function h(t){if(!t||!t.state)return j;var e=t.state;return e.window&&(e.window=null),t.state=null,D}function p(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?j:(n.head=e,e.done=!1,D):j}var g,m,v=t("../utils/common"),b=t("./adler32"),y=t("./crc32"),x=t("./inffast"),w=t("./inftrees"),_=0,C=1,k=2,S=4,T=5,M=6,D=0,A=1,I=2,j=-2,$=-3,F=-4,E=-5,O=8,P=1,L=2,N=3,B=4,R=5,z=6,H=7,U=8,q=9,W=10,V=11,Y=12,X=13,G=14,Z=15,K=16,J=17,Q=18,tt=19,et=20,nt=21,it=22,rt=23,ot=24,at=25,st=26,lt=27,ut=28,ct=29,dt=30,ft=31,ht=32,pt=852,gt=592,mt=15,vt=!0;n.inflateReset=a,n.inflateReset2=s,n.inflateResetKeep=o,n.inflateInit=u,n.inflateInit2=l,n.inflate=f,n.inflateEnd=h,n.inflateGetHeader=p,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(t,e){"use strict";var n=t("../utils/common"),i=15,r=852,o=592,a=0,s=1,l=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,h,p,g,m,v,b){var y,x,w,_,C,k,S,T,M,D=b.bits,A=0,I=0,j=0,$=0,F=0,E=0,O=0,P=0,L=0,N=0,B=null,R=0,z=new n.Buf16(i+1),H=new n.Buf16(i+1),U=null,q=0;for(A=0;A<=i;A++)z[A]=0;for(I=0;I<p;I++)z[e[h+I]]++;for(F=D,$=i;$>=1&&0===z[$];$--);if(F>$&&(F=$),0===$)return g[m++]=20971520,g[m++]=20971520,b.bits=1,0;for(j=1;j<$&&0===z[j];j++);for(F<j&&(F=j),P=1,A=1;A<=i;A++)if(P<<=1,(P-=z[A])<0)return-1;if(P>0&&(t===a||1!==$))return-1;for(H[1]=0,A=1;A<i;A++)H[A+1]=H[A]+z[A];for(I=0;I<p;I++)0!==e[h+I]&&(v[H[e[h+I]]++]=I);if(t===a?(B=U=v,k=19):t===s?(B=u,R-=257,U=c,q-=257,k=256):(B=d,U=f,k=-1),N=0,I=0,A=j,C=m,E=F,O=0,w=-1,_=(L=1<<F)-1,t===s&&L>r||t===l&&L>o)return 1;for(;;){0,S=A-O,v[I]<k?(T=0,M=v[I]):v[I]>k?(T=U[q+v[I]],M=B[R+v[I]]):(T=96,M=0),y=1<<A-O,j=x=1<<E;do{g[C+(N>>O)+(x-=y)]=S<<24|T<<16|M|0}while(0!==x);for(y=1<<A-1;N&y;)y>>=1;if(0!==y?(N&=y-1,N+=y):N=0,I++,0==--z[A]){if(A===$)break;A=e[h+v[I]]}if(A>F&&(N&_)!==w){for(0===O&&(O=F),C+=j,P=1<<(E=A-O);E+O<$&&!((P-=z[E+O])<=0);)E++,P<<=1;if(L+=1<<E,t===s&&L>r||t===l&&L>o)return 1;g[w=N&_]=F<<24|E<<16|C-m|0}}return 0!==N&&(g[C+N]=A-O<<24|64<<16|0),b.bits=F,0}},{"../utils/common":27}],37:[function(t,e){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(t,e,n){"use strict";function i(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t){return t<256?at[t]:at[256+(t>>>7)]}function o(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function a(t,e,n){t.bi_valid>Y-n?(t.bi_buf|=e<<t.bi_valid&65535,o(t,t.bi_buf),t.bi_buf=e>>Y-t.bi_valid,t.bi_valid+=n-Y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function s(t,e,n){a(t,n[2*e],n[2*e+1])}function l(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function u(t){16===t.bi_valid?(o(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function c(t,e){var n,i,r,o,a,s,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,d=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(o=0;o<=V;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<W;n++)(o=l[2*l[2*(i=t.heap[n])+1]+1]+1)>p&&(o=p,g++),l[2*i+1]=o,i>u||(t.bl_count[o]++,a=0,i>=h&&(a=f[i-h]),s=l[2*i],t.opt_len+=s*(o+a),d&&(t.static_len+=s*(c[2*i+1]+a)));if(0!==g){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>u||(l[2*r+1]!==o&&(t.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}function d(t,e,n){var i,r,o=new Array(V+1),a=0;for(i=1;i<=V;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=l(o[s]++,s))}}function f(){var t,e,n,i,r,o=new Array(V+1);for(n=0,i=0;i<R-1;i++)for(lt[i]=n,t=0;t<1<<Q[i];t++)st[n++]=i;for(st[n-1]=i,r=0,i=0;i<16;i++)for(ut[i]=r,t=0;t<1<<tt[i];t++)at[r++]=i;for(r>>=7;i<U;i++)for(ut[i]=r<<7,t=0;t<1<<tt[i]-7;t++)at[256+r++]=i;for(e=0;e<=V;e++)o[e]=0;for(t=0;t<=143;)rt[2*t+1]=8,t++,o[8]++;for(;t<=255;)rt[2*t+1]=9,t++,o[9]++;for(;t<=279;)rt[2*t+1]=7,t++,o[7]++;for(;t<=287;)rt[2*t+1]=8,t++,o[8]++;for(d(rt,H+1,o),t=0;t<U;t++)ot[2*t+1]=5,ot[2*t]=l(t,5);ct=new ht(rt,Q,z+1,H,V),dt=new ht(ot,tt,0,U,V),ft=new ht(new Array(0),et,0,q,X)}function h(t){var e;for(e=0;e<H;e++)t.dyn_ltree[2*e]=0;for(e=0;e<U;e++)t.dyn_dtree[2*e]=0;for(e=0;e<q;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*G]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function p(t){t.bi_valid>8?o(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function g(t,e,n,i){p(t),i&&(o(t,n),o(t,~n)),I.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function m(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function v(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&m(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!m(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function b(t,e,n){var i,o,l,u,c=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],o=t.pending_buf[t.l_buf+c],c++,0===i?s(t,o,e):(s(t,(l=st[o])+z+1,e),0!==(u=Q[l])&&a(t,o-=lt[l],u),s(t,l=r(--i),n),0!==(u=tt[l])&&a(t,i-=ut[l],u))}while(c<t.last_lit);s(t,G,e)}function y(t,e){var n,i,r,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=W,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=a[2*r+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)v(t,o,n);r=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],v(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,v(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],c(t,e),d(o,u,t.bl_count)}function x(t,e,n){var i,r,o=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=e[2*(i+1)+1],++s<l&&r===a||(s<u?t.bl_tree[2*r]+=s:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*Z]++):s<=10?t.bl_tree[2*K]++:t.bl_tree[2*J]++,s=0,o=r,0===a?(l=138,u=3):r===a?(l=6,u=3):(l=7,u=4))}function w(t,e,n){var i,r,o=-1,l=e[1],u=0,c=7,d=4;for(0===l&&(c=138,d=3),i=0;i<=n;i++)if(r=l,l=e[2*(i+1)+1],!(++u<c&&r===l)){if(u<d){do{s(t,r,t.bl_tree)}while(0!=--u)}else 0!==r?(r!==o&&(s(t,r,t.bl_tree),u--),s(t,Z,t.bl_tree),a(t,u-3,2)):u<=10?(s(t,K,t.bl_tree),a(t,u-3,3)):(s(t,J,t.bl_tree),a(t,u-11,7));u=0,o=r,0===l?(c=138,d=3):r===l?(c=6,d=3):(c=7,d=4)}}function _(t){var e;for(x(t,t.dyn_ltree,t.l_desc.max_code),x(t,t.dyn_dtree,t.d_desc.max_code),y(t,t.bl_desc),e=q-1;e>=3&&0===t.bl_tree[2*nt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function C(t,e,n,i){var r;for(a(t,e-257,5),a(t,n-1,5),a(t,i-4,4),r=0;r<i;r++)a(t,t.bl_tree[2*nt[r]+1],3);w(t,t.dyn_ltree,e-1),w(t,t.dyn_dtree,n-1)}function k(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return $;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return F;for(e=32;e<z;e++)if(0!==t.dyn_ltree[2*e])return F;return $}function S(t){gt||(f(),gt=!0),t.l_desc=new pt(t.dyn_ltree,ct),t.d_desc=new pt(t.dyn_dtree,dt),t.bl_desc=new pt(t.bl_tree,ft),t.bi_buf=0,t.bi_valid=0,h(t)}function T(t,e,n,i){a(t,(O<<1)+(i?1:0),3),g(t,e,n,!0)}function M(t){a(t,P<<1,3),s(t,G,rt),u(t)}function D(t,e,n,i){var r,o,s=0;t.level>0?(t.strm.data_type===E&&(t.strm.data_type=k(t)),y(t,t.l_desc),y(t,t.d_desc),s=_(t),r=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?T(t,e,n,i):t.strategy===j||o===r?(a(t,(P<<1)+(i?1:0),3),b(t,rt,ot)):(a(t,(L<<1)+(i?1:0),3),C(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),b(t,t.dyn_ltree,t.dyn_dtree)),h(t),i&&p(t)}function A(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(st[n]+z+1)]++,t.dyn_dtree[2*r(e)]++),t.last_lit===t.lit_bufsize-1}var I=t("../utils/common"),j=4,$=0,F=1,E=2,O=0,P=1,L=2,N=3,B=258,R=29,z=256,H=z+1+R,U=30,q=19,W=2*H+1,V=15,Y=16,X=7,G=256,Z=16,K=17,J=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],it=512,rt=new Array(2*(H+2));i(rt);var ot=new Array(2*U);i(ot);var at=new Array(it);i(at);var st=new Array(B-N+1);i(st);var lt=new Array(R);i(lt);var ut=new Array(U);i(ut);var ct,dt,ft,ht=function(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length},pt=function(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e},gt=!1;n._tr_init=S,n._tr_stored_block=T,n._tr_flush_block=D,n._tr_tally=A,n._tr_align=M},{"../utils/common":27}],39:[function(t,e){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},{}]},{},[9])(9)}),function(){var t;t=function(){function t(t,e,n,i,r){var o,a,s,l,u;null==n&&(n={}),null==i&&(i={}),null==r&&(r={}),this.container=t,l={yDomain:[0,100],chartHeight:300,containerPadding:0,staggerLabels:!1,handleOverlap:!0,loadingSelector:null,fadeOnHover:!1,yAxisTickValues:null,groupSpacing:.19},$.extend(l,r),o=18,s=350,a=10,this.closed=!1,nv.addGraph((u=this,function(){var c,d,f,h,p;if((f=nv.models.multiBarChart().x(function(t){return t[0]}).y(function(t){return t[1]}).tooltips(!1).duration(s).staggerLabels(l.staggerLabels).groupSpacing(l.groupSpacing).showLegend(!1).showControls(!1).color([])).height(l.chartHeight).width($(t).width()-l.containerPadding),i.xAxis&&f.xAxis.axisLabel(i.xAxis),i.yAxis&&f.yAxis.axisLabel(i.yAxis),f.xAxis.tickPadding(a),f.yAxis.tickPadding(a),f.yDomain(l.yDomain),l.yAxisTickValues&&f.yAxis.tickValues(l.yAxisTickValues),f.yAxis.tickFormat(function(t){if(Math.floor(t)===t)return t}),h=e[0].values.length,p=[],h>o&&l.handleOverlap&&f.xAxis.tickFormat(function(t){var e;return t=parseFloat(t),(e=Math.floor(t))!==t&&-1===p.indexOf(e)&&p.push(e),e}),d3.select(t).datum(e).call(f),c=d3.select(t).selectAll("rect.nv-bar.positive"),u.rects_by_axis_label={},u.value_by_axis_label={},c.each(function(t,e){var n,i;return i=t[0],n=c[0][e],u.rects_by_axis_label[i]=n,u.value_by_axis_label[i]=t[1]}),u.initFamiliesForRects(),d=d3.select(t).select(".nv-axis.nv-x")[0],h<3&&i.xAxis&&$(d)[0]&&u.repositionXAxisLabel(),h>o&&l.handleOverlap&&u.handleOverlappingLabels(f,p,d),n.onRectMouseOver&&u.addRectMouseOverListener(f,n.onRectMouseOver,function(){return u.closed}),n.onRectMouseOut&&u.addRectMouseOutListener(f,n.onRectMouseOut,function(){return u.closed}),n.onRectMouseClick&&u.addRectMouseClickListener(f,n.onRectMouseClick,function(){return u.closed}),n.onFullChartClick&&u.addFullChartClickListener(n.onFullChartClick,function(){return u.closed}),n.onLoad&&n.onLoad(u.rects_by_axis_label,u.rect_families),r.fadeOnHover&&u.addFadeListener(),r.loadingSelector)return $(r.loadingSelector).fadeOut()}))}return t.prototype.repositionXAxisLabel=function(){var t,e,n,i;if(t=d3.select(this.container).select(".nv-axis.nv-x")[0],i=d3.select(this.container).select(".nv-y .nv-axis .tick.zero line")[0],e=$(t).find(".nv-axislabel"),$(i)[0])return n=$(i)[0].getBoundingClientRect().width,$(e).attr("x",n/2)},t.prototype.getRectsByAxisLabel=function(){return this.rects_by_axis_label},t.prototype.initFamiliesForRects=function(){var t,e;return t={},this.rect_families=new FamilyManager,Object.keys(this.rects_by_axis_label).forEach(function(e){return t[parseInt(e)]||(t[parseInt(e)]=[]),t[parseInt(e)].push(e)}),Object.keys(t).forEach((e=this,function(n){return e.rect_families.addFamily(t[n])}))},t.prototype.handleOverlappingLabels=function(t,e,n){var i,r,o;return i=$(n).getTranslation(),$(n).setTranslation(i.x,i.y+6),o=d3.select(this.container).selectAll(".nv-x .nv-axis g.tick"),r=-1,this.shrinkFontSize(o[0][0]),_.each(e,function(t){var e,n,i,a,s,l,u,c,d;return e=(i=o.filter(function(e,n){if(Math.floor(e)===parseInt(t))return o[0][n]}))[0][0],a=i[0][i[0].length-1],c=$(e).clone(),$(c).css("opacity","1"),n=$(e).getTranslation(),d=((s=$(a).getTranslation()).x-n.x)/2,$(c).setTranslation(n.x+d,n.y),u=s.x-n.x,l=$(c).find("line"),$(l).svgAddClass("show"),$(l).attr("y2",u-1),$(l).attr("transform","rotate(-90, 0, 0), translate("+r+", "+(1-d)+")"),$(l).css("opacity","1"),$(e).parent().append(c),_.each(i[0],function(t){var e,n,i;return n=$(t).clone(),$(t).parent().append(n),$(t).remove(),i=$(n).getTranslation(),$(n).find("text").remove(),$(n).css("opacity","1"),$(n).setTranslation(i.x-1.4,i.y),e=$("<svg><circle cx='1.4' cy='1.4' r='1.4' fill='rgba(175, 175, 175, 1)' /></svg>"),$(e).find("circle").css("opacity","1"),$(n).append(e)})})},t.prototype.shrinkFontSize=function(t){var e,n,i,r;return e=this.getMinBarWidth(),n={10:"miniscule",12:"tiny",15:"small",18:"medium"},i="normal",Object.keys(n).every(function(t){return!(e<t)||(i=n[t],!1)}),r=$(t).parent().find("text"),$(r).svgAddClass(i)},t.prototype.getMinBarWidth=function(){var t;return t=d3.select(this.container).select("rect.nv-bar.positive")[0][0],parseFloat($(t).attr("width"))},t.prototype.addRectMouseOverListener=function(t,e,n){return t.multibar.dispatch.on("elementMouseover",(i=this,function(t){if(!n())return e(t,i.rects_by_axis_label,i.rect_families)}));var i},t.prototype.addRectMouseOutListener=function(t,e,n){return t.multibar.dispatch.on("elementMouseout",function(){if(!n())return e()})},t.prototype.addRectMouseClickListener=function(t,e,n){return t.multibar.dispatch.on("elementClick",(i=this,function(t){if(!n())return e(t,i.rects_by_axis_label,i.rect_families)}));var i},t.prototype.addFullChartClickListener=function(t,e){return $(this.container).parent().on("click",function(){if(!e())return t()})},t.prototype.addFadeListener=function(){return $(this.container).addClass("with-fading")},t.prototype.showMeanLine=function(t,e,n){var i,r,o,a,s,l,u,c,d,f,h,p;return d=parseInt($(t).css("padding-top")),u=24,f=56,l=5,r=(i=$(e).height()-u-f)-i*n+(d+u+l),a=(c=parseInt($(t).css("padding-left")))+60,this.line=$("<div class='statisticsChart--meanLine'>&nbsp;</div>").hide(),$(t).append(this.line),this.line.css({width:$(e).width()-a-c,position:"absolute",top:r,left:a}),this.triangle=$("<div class='statisticsChart--meanTriangle'>&nbsp;</div>").hide(),$(t).append(this.triangle),o=6.5,this.triangle.css({position:"absolute",top:r-o,left:a}),h=pageContext().intl.formatMessage({id:"assignmentStatistics.assignmentMean",defaultMessage:"Assignment Mean"}),this.tagline=$("<span class='statisticsChart--meanTagline'>"+h+"</span>").hide(),$(t).append(this.tagline),s=17,p=8,this.tagline.css({position:"absolute",top:r-s,left:a+p}),this.line.show(),this.triangle.show(),this.tagline.show()},t.prototype.hideMeanLine=function(){if(this.line&&this.line.hide(),this.triangle&&this.triangle.hide(),this.tagline)return this.tagline.hide()},t.prototype.unload=function(){return this.closed=!0,this.hideMeanLine()},t}(),window.DiscreteBarChart=t}.call(this),function(){var t,e=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=function(t){function n(t,e,i,r,o){var a,s;null==i&&(i={}),null==r&&(r={}),null==o&&(o={}),a={shift_axis:!0,groupSpacing:0,hideEmptyBins:!0,deleteEmptyBinLabels:!1,truncateEmptyBinLabels:!0},$.extend(a,o),i.onLoad=(s=this,function(){var e,n,i,r,o,l,u,c,d,f,h,p;if(a.shift_axis&&(c=d3.select(t).select(".nv-axis.nv-x")[0],p=$(c).getTranslation(),o=d3.select(t).select("rect.nv-bar.positive")[0],e=$(o).getTranslation(),h=parseFloat($(o).attr("width"))/2+e.x/2,$(c).setTranslation(-h,p.y),d=$(c).find(".nv-axislabel"),$(d).setTranslation(h,0),i=$(c).find("g.tick").last(),r=$(i).getTranslation(),parseFloat($(i).find("text").text()),l=a.right_endpoint,u="translate("+(r.x+2*h)+", 0)",n=$(i).clone(),$(n).find("text").text(l),$(n).attr("transform",u),$(n).css("opacity",1),$(i).after(n)),a.hideEmptyBins)return f=d3.select(s.container).selectAll(".nv-x .nv-axis g.tick")[0],_.each(f,function(t){var e,n,i;if(i=$(t).find("text").text(),e=s.rects_by_axis_label[i],0===s.value_by_axis_label[i]){if($(e).remove(),a.deleteEmptyBinLabels)return $(t).remove();if(a.truncateEmptyBinLabels)return n=$(t).find("text"),$(n).text(+parseFloat(i).toFixed(2))}})}),n.__super__.constructor.call(this,t,e,i,r,a)}return e(n,t),n}(DiscreteBarChart),window.Histogram=t}.call(this),function(){var t,e,n,i,r=[].slice;$(function(){return $(".js-interactiveElement").each(function(t,e){var n;return n=$(e),accessibility.setAccessibleAttributes(n),accessibility.registerKeyboardHandlers(n)})}),n=32,e=13,window.accessibility={},accessibility.registerKeyboardHandlers=function(t){return t.on("keypress",function(t){switch(t.keyCode){case n:case e:return t.preventDefault(),$(t.target).trigger("click")}})},accessibility.setAccessibleAttributes=function(t){if(t.attr("role")||t.attr({role:"button"}),!t.attr("tabindex"))return t.attr({tabindex:"0"})},$.fn.dataTable&&(i=$.fn.dataTable,$.fn.dataTable=function(){var t,e;return t=1<=arguments.length?r.call(arguments,0):[],e=i.apply(this,t),$(this).removeAttr("role"),e},$.each(i,function(t,e){return $.fn.dataTable[t]=e}),t=$.fn.DataTable,$.fn.DataTable=function(){var e,n;return e=1<=arguments.length?r.call(arguments,0):[],n=t.apply(this,e),$(this).removeAttr("role"),n},$.each(t,function(t,e){return $.fn.DataTable[t]=e}),$.extend(!0,$.fn.dataTable.defaults,{language:{aria:{sortAscending:"",sortDescending:""}}}))}.call(this),function(){var t,e=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;"function"!=typeof window.CustomEvent&&(t=function(t){function n(t,e){var n;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}return e(n,t),n}(Event),window.CustomEvent=t)}.call(this),function(){var t;t=function(){function t(){this.family_for_tenant={},this.tenants_for_family={},this.next_family=0}return t.prototype.addFamily=function(t){var e,n,i,r;for(n=this.next_family,this.next_family+=1,e={},i=0,r=t.length;i<r;i++)e[t[i]]=n;return $.extend(this.family_for_tenant,e),this.tenants_for_family[n]=t},t.prototype.getFamily=function(t){var e;return e=this.family_for_tenant[t],this.tenants_for_family[e]},t.prototype.getSiblings=function(t){var e,n;return n=(e=this.getFamily(t)).indexOf(t),e.slice(0,n).concat(e.slice(n+1))},t}(),window.FamilyManager=t}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){var n,i;this.node=t,this.post=e(this.post,this),this.handleRatingSelection=e(this.handleRatingSelection,this),this.handleUnload=e(this.handleUnload,this),this.rated=!1,this.postUrl=this.node.data("url"),n=this.node.modal({onClose:(i=this,function(){return i.post({survey_closed:!0}),$(window).unbind("beforeunload",i.handleUnload)})}),this.node.find(".js-closeModal").click(function(t){return t.preventDefault(),n.close()}),n.open(),this.handleRatingSelection(),$(window).bind("beforeunload",this.handleUnload)}return t.prototype.handleUnload=function(){this.rated&&this.post({survey_closed:!0})},t.prototype.handleRatingSelection=function(){return $(".edit_grading_survey input:radio").click((t=this,function(e){var n;return t.rated=!0,n=e.currentTarget.value,t.post({rating:n}),n>=9?t.showPositive():n>=7?t.showNeutral():t.showNegative(),$(".edit_grading_survey input:radio").off("click"),$(".gradingSurvey--radioLabel").addClass("gradingSurvey--radioLabel-is-disabled"),$(".gradingSurvey--radioLabel-"+n).addClass("gradingSurvey--radioLabel-is-selected"),t.node.addClass("gradingSurvey-is-rated"),t.node.find('input[type="submit"]').click(function(){return t.node.addClass("gradingSurvey-is-withSubmittedFeedback")})}));var t},t.prototype.showPositive=function(){return $(".js-gradingSurveyPositiveText").addClass("gradingSurvey--feedbackText-is-visible")},t.prototype.showNeutral=function(){return $(".js-gradingSurveyNeutralText").addClass("gradingSurvey--feedbackText-is-visible")},t.prototype.showNegative=function(){return $(".js-gradingSurveyNegativeText").addClass("gradingSurvey--feedbackText-is-visible")},t.prototype.post=function(t){return $.ajax({url:this.postUrl,method:"PUT",data:{grading_survey:t}})},t}(),this.GradingSurvey=t}.call(this),function(){var t,e,n,i,r,o,a;t=125,window.originalJBox=window.jBox,window.jBox=function(t,s){var l,u,c,d,f,h,p;return c=!s.trigger||"mouseenter"===s.trigger,u="click"===s.trigger,l=s.hasInteractiveContent||s.content&&void 0===s.hasInteractiveContent,s.closeOnEsc=!0,d=new originalJBox(t,s),$(d.wrapper).attr({"aria-hidden":"true",role:s.role||"tooltip"}),c?(d.options.onOpen=a,d.options.onClose=o,null!=(f=d.attachedElements)&&f.forEach(function(t){var e;return e=$(t),r(e,l),i(e,d),e.on({focusin:function(){return d.open({target:e})},focusout:function(){return d.close()}})})):u&&(d.options.onCloseComplete=e,d.open=(p=d.open,function(){return p.call(d),n.call(d)}),null!=(h=d.attachedElements)&&h.forEach(function(t){var e;return e=$(t),r(e,l),window.accessibility.registerKeyboardHandlers(e)})),d},_.extend(jBox,originalJBox),r=function(t,e){var n,i,r,o;for(n in i={tabindex:"0","aria-haspopup":e,"aria-expanded":"false"},"BUTTON"!==t.prop("tagName")&&(i.role="button"),r=[],i)o=i[n],t.attr(n)?r.push(void 0):r.push(t.attr(n,o));return r},i=function(e,n){var i;if((i=n.options.title||$("#"+n.id).text())&&i.length<t)return e.attr("aria-label",i)},a=function(){return $(this.source).attr({"aria-describedby":this.id,"aria-expanded":"true"}),$(this.wrapper).attr({"aria-hidden":"false"})},o=function(){return $(this.source).attr({"aria-expanded":"false"}),$(this.source).removeAttr("aria-describedby"),$(this.wrapper).attr({"aria-hidden":"true"})},n=function(){var t;return a.call(this),this.previouslyFocusedElement=document.activeElement,(t=this.content.find("*").not(":disabled").filter(function(t,e){return $(e).prop("tabindex")>-1}).first())?t.focus():($(this.content).attr({tabindex:"-1"}),this.content.focus())},e=function(){if(o.call(this),this.previouslyFocusedElement&&!$(this.previouslyFocusedElement).closest('[aria-hidden="true"]').length>0)return this.previouslyFocusedElement.focus()}}.call(this),function(){var t,e;e=function(t,e,n){return void 0===n||0==+n?Math[t](e):(e=+e,n=+n,isNaN(e)||"number"!=typeof n||n%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-n:-n)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+n:n))))},(t={}).round10=function(t,n){return e("round",t,n)},t.floor10=function(t,n){return e("floor",t,n)},t.ceil10=function(t,n){return e("ceil",t,n)},window.MathUtil=t}.call(this),function(){var t;t=function(){function t(t,e,n){this.progressBar=t,this.progressBarFill=this.progressBar.find(".progressBar--fill"),this.progressBarCaption=this.progressBar.find(".progressBar--caption"),this.onComplete=e,this.onError=n}return t.prototype.resetProgress=function(t){return this.progressBar.hide(),this._setProgress(0,t)},t.prototype.startProgress=function(t,e){return this.progressBar.show(),this.jobStatusUrl=t,this.jid=e,this._pollJobStatus()},t.prototype._setCaption=function(t){return this.progressBarCaption.html(t)},t.prototype._pollJobStatus=function(){return $.ajax({url:this.jobStatusUrl,dataType:"json",data:{jid:this.jid},success:(t=this,function(e){return t._pollCallback(e)})});var t},t.prototype._pollCallback=function(t){return t.failed&&this.onError(this.jid,t),t.percent_complete&&this._setProgress(t.percent_complete),t.redirect_to?window.location=t.redirect_to:t.complete?this.onComplete(t,(e=this,function(t){return e._setCaption(t)})):setTimeout(function(t){return function(){return t._pollJobStatus()}}(this),5e3);var e},t.prototype._setProgress=function(t,e){if(this.progressBarFill.css("width",t+"%"),e)return this._setCaption(e)},t}(),window.ProgressHandler=t}.call(this),function(){var t;t=function(){function t(t){this.location=t}return t.prototype.getUrl=function(){var t;return t=this.location||document.location,new URL(t)},t.prototype.getCurrentParams=function(){return this.decodeQueryParams(this.getUrl().searchParams)},t.prototype.setCurrentParams=function(t,e){var n;return null==e&&(e=!1),(n=this.getUrl()).search=this.encodeQueryParams(t),(e?history.replaceState:history.pushState)(null,null,n)},t.prototype.decodeQueryParams=function(t){var e;return e={},new URLSearchParams(t).forEach(function(t,n){var i,r;return i=decodeURIComponent(n),r=decodeURIComponent(t),i.endsWith("[]")?(i=i.replace("[]",""),e[i]||(e[i]=[]),e[i].push(r)):e[i]=r}),e},t.prototype.encodeQueryParams=function(t){var e;return e=new URLSearchParams,Object.keys(t).forEach(function(n){var i,r;return r=t[n],Array.isArray(r)?(i=n+"[]",r.forEach(function(t){return e.append(i,t)})):e.set(n,r)}),e.toString()},t}(),window.QueryParamsRouter=t}.call(this),function(){var t;t=function(t){return function(){return setTimeout(function(){return ReactDOM.unmountComponentAtNode(t)},0)}},this.unmountAsync=t}.call(this),function(){var t;t=function(){function t(t,e,n){var i,r;null==n&&(n={}),i={canAdd:!1,canDelete:!1,canClick:!1,apiCallOnAddUrl:null,apiCallOnDeleteUrl:null,onAdd:null,onDelete:null,onClick:null,allowDuplicateTags:!1,maxLength:100},$.extend(i,n),n=i,this.tag_group_identifier="tag-group-"+Math.random(),this.tag_titles=e,_.each(e,(r=this,function(e){var i;return i=r.createTag(e,n),$(t).append(i)})),n.canAdd&&this.configureTagAdditionManager(t,n),n.canDelete&&this.configureTagDeletionManager(t,n),n.onClick&&this.registerOnClickListener(t,n)}return t.prototype.createTag=function(t,e){var n,i;return i="tag-"+Math.random(),n="tag",e.canDelete&&(n+=" tag-deletable"),e.canClick&&(n+=" tag-clickable"),$("<div data-tag-id='"+i+"' data-group-id='"+this.tag_group_identifier+"' class='"+n+"'> <span class='tag--title'>"+t+"</span> <i class='fa fa-times-circle delete tag--delete' /> </div>")},t.prototype.configureTagAdditionManager=function(t,e){var n,i,r,o;return n=$("<div class='divider'></div>"),r="add-tag-btn-"+Math.random(),this.add_tag_elements={id:r,button:$("<i data-id='"+r+"' class='icon-addTag' />"),form:$("<input data-id='add-tag-form-"+Math.random()+"' class='form--textInput form--textInput-sm is-hidden' type='text' />")},$(t).append(n),$(t).append(this.add_tag_elements.button),$(t).append(this.add_tag_elements.form),i=this.tag_titles.length>0,$(this.add_tag_elements.button).toggle(i),$(document).on("click","[data-id='"+this.add_tag_elements.id+"']",(o=this,function(){return $(o.add_tag_elements.form).removeClass("is-hidden"),$(o.add_tag_elements.form).focus(),$(o.add_tag_elements.button).hide(),$(o.add_tag_elements.button_copy).hide()})),$(this.add_tag_elements.form).on("keypress",function(t){return function(e){if(13===e.which)return e.preventDefault(),$(t.add_tag_elements.form).blur()}}(this)),
$(this.add_tag_elements.form).on("blur",function(n){return function(){var r,o,a;return o=$(t).parent(),a=$(n.add_tag_elements.form).val().strip(),$(n.add_tag_elements.form).addClass("is-hidden"),$(n.add_tag_elements.form).val(""),-1!==n.tag_titles.indexOf(a)?(alert("Sorry! A tag can't be added to a question more than once, and this question already has the tag you're trying to add."),n.delay(20,function(){return $(n.add_tag_elements.button).click()})):""===a?(i=n.tag_titles.length>0,$(n.add_tag_elements.button).toggle(i),$(n.add_tag_elements.button_copy).toggle(!i)):a.length>e.maxLength?(alert("This tag is too long ("+a.length+" characters)! The maximum length for a tag is "+e.maxLength+" characters."),n.delay(20,function(){return $(n.add_tag_elements.button).click()})):(r=n.createTag(a,e),n.tag_titles.push(a),$(r).insertBefore($(o).find(".divider")),e.apiCallOnAddUrl&&$.ajax({url:e.apiCallOnAddUrl,type:"POST",data:{tag_added:a,all_tags:n.tag_titles},error:function(){return $(r).remove(),n.tag_titles.splice(n.tag_titles.indexOf(a),1),alert("Oops! Unfortunately, we were unable to add '"+a+"' to a question like you asked. Please wait a moment and try again. If this issue persists, let us know at help@gradescope.com."),$(n.add_tag_elements.button).click(),$(n.add_tag_elements.form).text(a)}}),e.onAdd&&e.onAdd(r),n.delay(20,function(){return $(n.add_tag_elements.button).click()}))}}(this))},t.prototype.configureTagDeletionManager=function(t,e){return $(document).on("click",".tag[data-group-id='"+this.tag_group_identifier+"'] .delete",(n=this,function(t){var i,r,o,a;if(t.stopPropagation(),i=t.currentTarget,o=$(i).parent(),a=$(o).find(".tag--title").text().strip(),$(o).attr("data-tag-id"),$(o).hide(),r=1===n.tag_titles.length,$(n.add_tag_elements.button).toggle(!r),$(n.add_tag_elements.button_copy).toggle(r),n.tag_titles.splice(n.tag_titles.indexOf(a),1),e.apiCallOnDeleteUrl&&$.ajax({url:e.apiCallOnDeleteUrl,type:"POST",data:{tag_deleted:a,all_tags:n.tag_titles},success:function(){return $(o).remove()},error:function(){return $(o).show(),n.tag_titles.push(a),alert("Oops! Unfortunately, we were unable to remove '"+a+"' from a question like you asked. Please wait a moment and try again. If this issue persists, let us know at help@gradescope.com."),$(n.add_tag_elements.button).show(),$(n.add_tag_elements.button_copy).hide()}}),e.onDelete)return e.onDelete(o)}));var n},t.prototype.registerOnClickListener=function(t,e){return $(document).on("click",".tag[data-group-id='"+this.tag_group_identifier+"']",function(){return e.onClick($(this))})},t.prototype.getAddTagButtonCopy=function(){return this.add_tag_elements.button_copy||(this.add_tag_elements.button_copy=$(this.add_tag_elements.button).clone(),$(this.add_tag_elements.button_copy).attr("data-clone","true")),this.add_tag_elements.button_copy},t.prototype.delay=function(t,e){return setTimeout(e,t)},t}(),window.Tagger=t}.call(this),function(){var t;t=function(){return $(".js-openSimilarityReport").click(function(){var t;return t=$(this).data("get-url"),window.$.get(t,function(t){var e;if(e=window.open(t.similarity_report_link,"_blank"),_.isEmpty(e))return alertInModal("Please allow opening new tabs","Your browser's pop-up blocker is preventing us from opening the similarity report in a new tab. Adjust your browser's settings to enable this functionality.")})})},window.setUpTextAssignmentSimilarityReportTable=t}.call(this),function(){var t,e;window.previousFocusedElements=[],$.modal({onOpen:function(t){var n;return document.activeElement&&window.previousFocusedElements.push(document.activeElement),(n=t.children().first()).css({display:"block"}),n.removeAttr("tabindex"),n.find("*").filter(function(t,e){return $(e).prop("tabindex")>-1&&$(e).is(":visible")}).first().focus(),e(t)},onBeforeClose:function(e){return e.children().first().attr("tabindex",-1),t(e)},onClose:function(){return setTimeout(function(){var t;if(t=window.previousFocusedElements.pop())return t.focus()},1)}}),e=function(t){return $(t).siblings().each(function(t,e){var n;if(!(n=$(e)).hasClass("datetimepicker"))return n.attr({inert:!0})})},t=function(t){return $(t).siblings().each(function(t,e){return $(e).removeAttr("inert")})}}.call(this),function(){String.prototype.strip=function(){return null!=String.prototype.trim?this.trim():this.replace(/^\s+|\s+$/g,"")},String.prototype.truncate=function(t){return this.substr(0,t-1)+(this.length>t?String.fromCharCode(8230):"")},String.prototype.pluralize=function(t){var e;return e=t+" "+this,1===t||-1===t?e:e.concat("s")},String.prototype.toTitleCase=function(){return this?this.toLowerCase().replace(/(?:^|[\s-])\w/g,function(t){return t.toUpperCase()}):this},Array.prototype.sum=function(){return this.reduce(function(t,e){return t+e},0)}}.call(this),function(){var t,e,n,i,r,o,a;a=new Object,window.site=a,a.common=new Object,t=function(){var t,e;try{if(t="test-localstorage-"+Date.now(),localStorage.setItem(t,t),e=localStorage.getItem(t),localStorage.removeItem(t),e!==t)throw new Error;return localStorage}catch(n){return n,new MemoryStorage}},e=function(){var t,e;return e=$("textarea:visible"),t=e.length,e.length>0?(window.autosizeFinished=!1,e.on("autosize:resized",function(){if(0===(t-=1))return window.autosizeFinished=!0})):window.autosizeFinished=!0,autosize($("textarea"))},n=function(){if($.fn.dataTable)return $.extend($.fn.dataTable.defaults,{language:{search:"_INPUT_",searchPlaceholder:pageContext().intl.formatMessage({id:"dataTables.searchPlaceholder",defaultMessage:"Search"}),emptyTable:pageContext().intl.formatMessage({id:"dataTables.emptyTable",defaultMessage:"No data available in table"}),info:pageContext().intl.formatMessage({id:"dataTables.info",defaultMessage:"Showing {start} to {end} of {total} entries"},{start:"_START_",end:"_END_",total:"_TOTAL_"}),infoEmpty:pageContext().intl.formatMessage({id:"dataTables.infoEmpty",defaultMessage:"Showing 0 to 0 of 0 entries"}),infoFiltered:pageContext().intl.formatMessage({id:"dataTables.infoFiltered",defaultMessage:"(filtered from {max} total entries)"},{max:"_MAX_"}),lengthMenu:pageContext().intl.formatMessage({id:"dataTables.lengthMenu",defaultMessage:"Show {menu} entries"},{menu:"_MENU_"}),loadingRecords:pageContext().intl.formatMessage({id:"dataTables.loadingRecords",defaultMessage:"Loading..."}),processing:pageContext().intl.formatMessage({id:"dataTables.processing",defaultMessage:"Processing..."}),zeroRecords:pageContext().intl.formatMessage({id:"dataTables.zeroRecords",defaultMessage:"No matching records found"}),paginate:{first:pageContext().intl.formatMessage({id:"dataTables.paginate.first",defaultMessage:"First"}),last:pageContext().intl.formatMessage({id:"dataTables.paginate.last",defaultMessage:"Last"}),next:pageContext().intl.formatMessage({id:"dataTables.paginate.next",defaultMessage:"Next"}),previous:pageContext().intl.formatMessage({id:"dataTables.paginate.previous",defaultMessage:"Previous"})}}})},o=function(){return $(".js-sectionsColumnCellNMore").each(function(){return new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",attach:$(this),content:$(this).parent().find(".js-sectionsColumnCellNMoreTooltip"),createOnInit:!1,closeOnClick:"body",closeOnMouseleave:!0,position:{x:"center",y:"bottom"},trigger:"click"})})},a.common.init=function(){var s;return responsiveActionBar(),n(),e(),r(),i(),o(),a.common.localStorage=t(),$.fn.datetimepicker.DPGlobal.originalParseDate=$.fn.datetimepicker.DPGlobal.parseDate,$.fn.datetimepicker.DPGlobal.parseDate=function(t,e,n,i){var r,o,a,s,l,u;return a="MMM D YYYY h:mm A",o=moment(t,a),u=6e4*(r=new Date).getTimezoneOffset(),r=new Date(r-u),o.isValid()?(l=o.format(a),(s=$.fn.datetimepicker.DPGlobal.originalParseDate(l,e,n,i))<=(new Date).setFullYear(2012)?r:s):r},$.validator.setDefaults({onkeyup:!1,ignore:":hidden:not([class~=selectized]),:hidden > .selectized, .selectize-control .selectize-input input",errorPlacement:function(t,e){var n,i,r;if(r=t.text())return(n=(i=e.prev("label")).find(".error-msg, .form--labelErrorMsg")).length?n.text(r):(n=$("<span>").attr("class","error-msg form--labelErrorMsg").text(r),i.append(n)),e.attr("aria-invalid",!0)},success:function(t){var e;return e=t.attr("for"),$("label[for='"+e+"']").find(".error-msg, .form--labelErrorMsg").remove(),t.attr("aria-invalid",!1)}}),window.emailRegex=/^[\w+\-'.]+@[a-z\d\-.]+\.[a-z]+$/i,$.validator.addMethod("stricterEmail",function(t,e){return this.optional(e)||window.emailRegex.test(t)},pageContext().intl.formatMessage({id:"validatorMessage.invalidFormat",defaultMessage:"Invalid format"})),$.validator.addMethod("dateIsSameOrBefore",function(t,e,n){return""===n[0]||void 0===n[0]||""===t||void 0===t||moment(t).isSameOrBefore(moment(n[0]))},pageContext().intl.formatMessage({id:"validatorMessage.mustBeEarlierThan",defaultMessage:"Must be earlier than {1}"},{1:"{1}"})),$.validator.addMethod("dateIsSameOrAfter",function(t,e,n){return""===n[0]||void 0===n[0]||""===t||void 0===t||moment(t).isSameOrAfter(moment(n[0]))},pageContext().intl.formatMessage({id:"validatorMessage.mustBeLaterThan",defaultMessage:"Must be later than {1}"},{1:"{1}"})),$.validator.addMethod("dateIsBefore",function(t,e,n){return""===n[0]||void 0===n[0]||""===t||void 0===t||moment(t).isBefore(moment(n[0]))},pageContext().intl.formatMessage({id:"validatorMessage.mustBeEarlierThan",defaultMessage:"Must be earlier than {1}"},{1:"{1}"})),$.validator.addMethod("dateIsAfter",function(t,e,n){return""===n[0]||void 0===n[0]||""===t||void 0===t||moment(t).isAfter(moment(n[0]))},pageContext().intl.formatMessage({id:"validatorMessage.mustBeLaterThan",defaultMessage:"Must be later than {1}"},{1:"{1}"})),$.validator.addMethod("uniqueTitleInCourse",function(t,e,n){return!n.includes(t)},pageContext().intl.formatMessage({id:"validatorMessage.invalidTitle",defaultMessage:"Must be unique within a course"})),s=function(t){var e;return(e=moment(t,"YYYYYY-MM-DDTHH:mm")).isValid()?e.format("MMM D, YYYY h:mm A"):t},$.extend($.validator.messages,{accept:pageContext().intl.formatMessage({id:"validatorMessage.invalidFileType",defaultMessage:"Invalid file type"}),email:pageContext().intl.formatMessage({id:"validatorMessage.invalidFormat",defaultMessage:"Invalid format"}),equalTo:pageContext().intl.formatMessage({id:"validatorMessage.mustMatchPassword",defaultMessage:"Must match password"}),max:function(t){return pageContext().intl.formatMessage({id:"validatorMessage.max",defaultMessage:"Please enter a value less than or equal to {value}"},{value:s(t)})},min:function(t){return pageContext().intl.formatMessage({id:"validatorMessage.min",defaultMessage:"Please enter a value greater than or equal to {value}"},{value:s(t)})},extension:pageContext().intl.formatMessage({id:"validatorMessage.invalidFileExtension",defaultMessage:"Invalid file extension"}),minlength:pageContext().intl.formatMessage({id:"validatorMessage.tooShort",defaultMessage:"Too short"}),required:pageContext().intl.formatMessage({id:"validatorMessage.required",defaultMessage:"Required"})}),Dropzone.createElement=function(t){return $(t)[0]},$.fn.dropzone=function(t){return this.each(function(){return new Dropzone(this,t)})},$.fn.appendToAndFadeIn=function(t,e){return null==e&&(e=400),$(this).hide().appendTo(t).fadeIn(e)},$.fn.fadeOutAndRemove=function(t){var e,n,i;return n=(i=null!=t?t:{}).duration,e=i.callback,$(this).fadeOut(null!=n?n:400,function(){return $(this).remove(),"function"==typeof e?e():void 0})},$.fn.svgGetClassList=function(){return $(this).attr("class")?$(this).attr("class").split(" "):[]},$.fn.svgHasClass=function(t){return-1!==$(this).svgGetClassList().indexOf(t)},$.fn.svgAddClass=function(t){var e;if(!$(this).svgHasClass(t))return(e=$(this).svgGetClassList()).push(t),$(this).attr("class",e.join(" "))},$.fn.svgRemoveClass=function(t){var e;if($(this).svgHasClass(t))return(e=$(this).svgGetClassList()).splice(e.indexOf(t),1),$(this).attr("class",e.join(" "))},$.fn.getTranslation=function(){var t,e,n;return(e=$(this).attr("transform"))&&-1!==e.indexOf("translate")?(t=e.slice(e.indexOf("(")+1,e.indexOf(",")),n=e.slice(e.indexOf(",")+1,e.indexOf(")")),{x:parseFloat(t),y:parseFloat(n)}):null},$.fn.setTranslation=function(t,e){return $(this).attr("transform","translate("+t+", "+e+")")},$.fn.popover=function(t){var e,n;return n=this,e=function(t){return t.stopPropagation(),$(n).hasClass("active")?($(n).fadeOut(200),$(n).removeClass("active")):($(n).fadeIn(50),$(n).addClass("active"))},t.isTooltip?t.target.hover(e):t.target.click(e)},$(document).ajaxError(function(t,e,n,i){var r,o;r=0===e.status&&0===e.statusText.indexOf("NetworkError")?"AjaxError: 0 NetworkError":"AjaxError: "+e.status+" "+(i||e.statusText),o=n.type+" "+n.url+" => "+e.responseText,bugsnagClient.notify({name:r,message:o},{metaData:{thrownError:i}})}),$(window).bind("beforeunload",function(){$(document).unbind("ajaxError")})},window.queryParams=function(){return null==window._queryParams&&(window._queryParams={},window.location.search.substr(1).split("&").forEach(function(t){var e;if(""!==t)return e=t.split("="),window._queryParams[e[0]]=e[1]&&decodeURIComponent(e[1].replace(/\+/g," "))})),window._queryParams},window.launchFullScreen=function(t){return t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):void 0},window.cancelFullScreen=function(){return document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():void 0},window.toggleFullScreen=function(){var t;return t=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled,document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?(cancelFullScreen(),delete a.common.localStorage.fullScreen):t?(launchFullScreen($("#content")[0]),a.common.localStorage.fullScreen="enabled"):void 0},r=function(){return $(".js-renderMath").get().forEach(function(t){return renderMath(t,function(){return null})})},i=function(){return $(".js-renderMarkdown").get().forEach(function(t){return ReactDOM.render(React.createElement(FormattedText,{disallowExternalImages:!0,sizing:t.className.match("js-markdownLarge")?"large":"medium"},t.textContent),t)})},a.renderReactComponent=function(t,e,n){var i,r;return i=WebpackerReact.registeredComponents[t],r=document.querySelector(n),ReactDOM.render(React.createElement(i,e),r)}}.call(this),function(){var t,e,n,i,r,o,a,s,l,u;(l=window.site).about=new Object,t=function(t){var e;return null!=(e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(window.location.search))?decodeURIComponent(e[1].replace(/\+/g," ")):""},s=function(){var t;return t=$("#signin-modal, #login-modal").modal({closeOnOverlayClick:!0}),$("#login-button, .js-logInButton").on("click",function(e){return e.preventDefault(),t.open(),$("#session_email").focus()}),$("#login-modal .js-closeModal").on("click",t.close)},o=function(){return $(".js-scrollToLink").click(function(t){return t.preventDefault(),$(".l-content").animate({scrollTop:$(this.getAttribute("href")).offset().top-32},1e3)})},a=function(t){var e,n,i;return n=t.find(".js-tab"),e=t.find(".js-tabContents"),i=function(t){return n.removeClass("gsTab-splash-is-selected"),n.filter("[data-tab-idx='"+t+"']").addClass("gsTab-splash-is-selected"),e.removeClass("gsTabContents-is-visible"),e.filter("[data-tab-contents-for-idx='"+t+"']").addClass("gsTabContents-is-visible")},n.click(function(t){var e;return e=$(t.currentTarget).attr("data-tab-idx"),i(e)}),i(0)},i=function(){var t,e,n;return e=$(".js-csPaperGradingDemoContainer"),t=$(".js-csCodeGradingDemoContainer"),e.hide(),t.hide(),n=function(n){switch(n){case"paper":return t.hide(),e.show();case"code":return e.hide(),t.show()}},$(".js-chooseGradingDemo").change(function(){return n($(this).prop("value"))}),$(".js-chooseGradingDemo").first().prop("checked",!0).trigger("change"),setTimeout(function(){return $('.textFileRow--lineNumber[data-line-number="14"]').click(),$(".codeComment-is-beingEdited textarea").val("Great documentation string!").blur()})},n=function(t,e){var n;return n=e.offset().left+e.width()/2-(t.offset().left+t.width()/2),t.animate({scrollLeft:t.scrollLeft()+n},400)},e=function(t){var e,n,i,r,o,a;for(e=1.6,n=3.3,i=!1,o=(r=t.find(".quote")).find(".js-quoteText"),a=[];!i&&e<n;)o.css("fontSize",e+"em"),(i=r.get(0).scrollHeight>r.get(0).clientHeight)?a.push(o.css("fontSize",e-.4+"em")):a.push(e+=.1);return a},r=function(t){var i,r;return(i=(r=t.find(".js-quoteBar")).find(".js-quoteCard")).click(function(t){var e;return e=$(t.currentTarget),n(r,e)}),i.each(function(t,n){return e($(n))})},l.about.get_started=function(){var t,e,n;if(e=window.navigator.language,n=["es","pt","ja"].find(function(t){return t===e}))return t="&cc_lang_pref="+n+"&cc_load_policy=1",$(".js-youtubePlayer iframe").each(function(e,n){var i,r;return r=(i=$(n)).attr("src")+t,i.attr("src",r)})},l.about.splash=function(){var e,n,u;return n=t("utm_campaign"),u=t("utm_source"),"user-invite"===n&&$("#invite_request_invite_code").val(u),o(),e=!1,$(".js-signUpInstructor").click(function(){return $(".js-signUpStudent").removeClass("btnGroup--btn-is-selected"),$(".js-signUpInstructor").addClass("btnGroup--btn-is-selected"),e?($(".js-signupFormStudentSignup").hide(),$(".js-signupFormInviteRequest").show()):($(".js-signupFormInviteRequest").slideDown(),e=!0),setTimeout(function(){return $("#invite_request_name").focus()},300)}),$(".js-signUpStudent").click(function(){return $(".js-signUpInstructor").removeClass("btnGroup--btn-is-selected"),$(".js-signUpStudent").addClass("btnGroup--btn-is-selected"),e?($(".js-signupFormInviteRequest").hide(),$(".js-signupFormStudentSignup").show()):($(".js-signupFormStudentSignup").slideDown(),e=!0),setTimeout(function(){return $("#user_course_entry_code").focus()},300)}),l.invite_requests.selectizeForm(),l.invite_requests.validateForm(),l.student_accounts.selectizeForm(),l.student_accounts.validateForm(),s(),l.user_sessions.setUpOmniauthRememberMe(),a($(".js-assignmentStepsTabsContainer")),a($(".js-subjectGradingDemoTabsContainer")),i(),r($(".js-gradingQuoteBarContainer")),r($(".js-analysisQuoteBarContainer")),r($(".js-feedbackQuoteBarContainer")),r($(".js-assistedGradingQuoteBarContainer"))},u=function(){var t;return t=$(".js-toggleStaticNav"),$("#static-menu").toggle(),t.attr({"aria-expanded":"false"===t.attr("aria-expanded")})},$(function(){return $(".js-toggleStaticNav").on("click",u)})}.call(this),function(){var t,e,n,i,r;(r=window.site).accounts=new Object,r.accounts.show=function(){var t,e,n,o;if($(".js-viewInactive").on("click",function(){var t,e,n,i;return $(this).blur(),e=$(this).next(".courseList--inactiveCourses"),t=pageContext().intl.formatMessage({id:"courses.hideOlderCourses",defaultMessage:"Hide older courses"}),n=pageContext().intl.formatMessage({id:"courses.showOlderCourses",defaultMessage:"See older courses"}),i=e.is(":visible")?n+" <i class='fa fa-angle-down'>":t+" <i class='fa fa-angle-up'>",$(this).html(i),e.slideToggle()}),$("button.js-createNewCourse.disabled").each(function(t,e){return $(e).jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",width:250,adjustPosition:!0,repositionOnOpen:!0,closeOnMouseleave:!0,outside:"y",position:{x:"center",y:"bottom"},content:pageContext().intl.formatMessage({id:"instructorAccounts.createCourseBlocked_html",defaultMessage:'Courses cannot be created until your school acquires a license.\n<a href="https://info.gradescope.com/no-access?utm_source=app&utm_medium=tool_tip_create_course&utm_campaign=account_limitation">\nLearn how you can help</a>.'})})}),$("#startGradingModal").length>0&&((n=$("#startGradingModal").modal({cloning:!1})).open(),$("#startGradingModal .js-closeModal").on("click",function(t){return t.preventDefault(),n.close()})),$("#createCourseModal").length>0&&(e=$("#createCourseModal").modal({cloning:!1}),$("#createCourseModal .tiiBtn-tertiary").on("click",e.close),r.courses.setupCourseForm(),$(".js-createNewCourse").on("click",function(t){return t.preventDefault(),e.open(),$("#course_shortname").focus()})),$("#addCourseModal").length>0&&(t=$("#addCourseModal").modal({cloning:!1,closeOnOverlayClick:!0}),$("#addCourseModal .tiiBtn-tertiary").on("click",function(e){return e.preventDefault(),t.close()}),r.student_memberships.validateForm(),$(".js-enrollInCourse").on("click",function(e){return e.preventDefault(),t.open(),$("#student_membership_course_entry_code").focus()})),i(),(o=$(".gradingSurvey")).length)return new GradingSurvey(o)},i=function(){var t,e,n,i,r,o,a;if((i=$(".js-linkLMSCourseModal")).length)return n=i.find("form"),o=$(".js-linkLMSCourse"),r=$(".js-linkNewGradescopeCourse"),e=$(".js-linkExistingGradescopeCourse"),a=i.modal({closeOnOverlayClick:!1}),i.find(".js-closeModal").click(function(){return a.close()}),n.on("change",function(){return o.prop("disabled",!this.getAttribute("action"))}),r.on("click",function(){return n.attr("action",this.value)}),e.is(":disabled")||(t=$(".js-linkableCourses").selectize({sortField:"text",onChange:function(t){return e.prop("checked",!0),n.attr("action",t)}}),e.on("click",function(){return n.attr("action",t.val())})),i.on("ajax:success",function(t,e){if(e.redirect_to)return location.href=e.redirect_to}),i.on("ajax:error",function(t,e){if(e.responseJSON.redirect_to)return location.href=e.responseJSON.redirect_to}),a.open()},t=function(t,e,n,i,r,o){var a;return null==i&&(i=!0),null==r&&(r=[]),null==o&&(o=""),a={isOpen:i,existingEmails:r,addNewEmailAddressURL:e,apiNewUserSessionURL:n,email:o,onCancel:window.unmountAsync(t)},ReactDOM.render(React.createElement(AddNewEmailModal,a),t)},n=function(t,e,n,i,r,o){var a;return null==r&&(r=!0),null==o&&(o=""),a={isOpen:r,currentAccountPrimaryEmail:e,createMergeURL:n,apiNewUserSessionURL:i,fromEmail:o,onCancel:window.unmountAsync(t)},ReactDOM.render(React.createElement(StartMergeModal,a),t)},e=function(t,e,n,i){var r;return null==i&&(i=!0),r={isOpen:i,merge:e,mergeURL:n,onCancel:window.unmountAsync(t)},ReactDOM.render(React.createElement(ConfirmMergeModal,r),t)},r.accounts.edit=function(){var i,r,o,a,s;if(a=!1,s=pageContext().intl.formatMessage({id:"accounts.unsavedChanges",defaultMessage:"Unsaved changes. Leave anyway?"}),window.onbeforeunload=function(){if(a)return s},$("#account-edit-form").validate({rules:{"user[name]":"required","user[email]":{required:!0,stricterEmail:!0},"user[password]":{minlength:12},"user[password_confirmation]":{required:{depends:function(){return $("#user_password").val()}},equalTo:"#user_password"}}}),$("#account-edit-form input").on("input",function(){return a=!0}),$("#account-edit-form").on("submit",function(){return window.onbeforeunload=void 0}),(i=$(".js-addEmailModalTarget")).length>0&&$(".js-addEmail").click(function(){return t(i[0],gon.create_email_address_url,gon.api_new_user_session_url,!0,gon.email_addresses)}),(o=window.queryParams().new_email)&&t(i[0],gon.create_email_address_url,gon.api_new_user_session_url,!0,gon.email_addresses,o),$(".js-startMergeAccounts").click(function(){return n(i[0],gon.primary_email,gon.create_merge_url,gon.api_new_user_session_url,!0)}),gon.show_merge_url&&$.getJSON(gon.show_merge_url,null,function(t){var n;return n=gon.show_merge_url,e(i[0],t,n,!0)}).fail(function(t){return alertInModal("Merge Problem",t.responseJSON.message)}),r=window.queryParams().merge_account)return n(i[0],gon.primary_email,gon.create_merge_url,gon.api_new_user_session_url,!0,r)},r.accounts.update=r.accounts.edit}.call(this),function(){var t;(t=window.site).admin_autograders=new Object,t.admin_autograders.index=function(){return $(".js-autogradersAssignmentRow").each(function(){return new jBox("Tooltip",{attach:$(this).find(".js-showRunningSubmissionsPopover"),addClass:"jBox-wrapper-popover",content:$(this).find(".js-runningSubmissionsPopover"),createOnInit:!0,closeOnClick:"body",closeOnMouseleave:!1,position:{x:"center",y:"bottom"},trigger:"click"}),new jBox("Tooltip",{attach:$(this).find(".js-showQueuedSubmissionsPopover"),addClass:"jBox-wrapper-popover",content:$(this).find(".js-queuedSubmissionsPopover"),createOnInit:!0,closeOnClick:"body",closeOnMouseleave:!1,position:{x:"center",y:"bottom"},trigger:"click"})}),$(".js-adminAutogradersTable").DataTable({dom:"frtilpB",buttons:["csv"],order:[[2,"desc"],[3,"desc"]]})}}.call(this),function(){var t;(t=window.site).admin_courses=new Object,t.admin_courses.index=function(){var t;return $(".js-includeDemoCourses").change(function(){return this.closest("form").submit()}),t=new URL(gon.courses_with_stats_admin_courses_url),gon.school_id&&t.searchParams.set("school_id",gon.school_id),gon.include_demo_courses&&t.searchParams.set("include_demo_courses","1"),$(".js-adminCoursesTable").DataTable({pageLength:100,order:[[5,"desc"]],serverSide:!0,processing:!0,ajax:{url:t,data:function(t){return _.each(t.columns,function(t){return _.isEmpty(t.name)&&delete t.name,delete t.searchable,delete t.search}),console.log("Removed unneeded column information.")}},columns:[{data:pageContext().intl.formatMessage({id:"dataTables.courses.shortname",defaultMessage:"course_link"}),name:"courses.shortname",orderable:!0},{data:"subject_tags",orderable:!1},{data:"name",name:"courses.name",orderable:!0},{data:"school_link",name:"schools.name",orderable:!0},{data:"course_stats",orderable:!1},{data:"created_at",name:"courses.created_at",orderable:!0},{data:"sortable_full_term",orderable:!1},{data:"course_department",name:"courses.department_id",orderable:!0},{data:"course_stats_type",orderable:!1},{data:"course_stats_link",orderable:!1},{data:"student_role_count",orderable:!1},{data:"assignment_count",orderable:!1},{data:"student_assignment_count",orderable:!1}],language:{processing:'<i class="fa fa-spinner fa-spin" />'},dom:"frtilpB",buttons:["csv"],searchDelay:1e3})}}.call(this),function(){var t,e,n=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};(e=window.site).front_plugin=new Object,t=function(t){var e,n,i;for(i=decodeURIComponent(window.location.search.substring(1)).split("&"),n=void 0,e=void 0,e=0;e<i.length;){if((n=i[e].split("="))[0]===t)return void 0===n[1]||n[1];e++}},e.front_plugin.show=function(){return Front.on("conversation",function(i){var r,o,a,s,l,u;if("email"===i.contact.source)return l=t("auth_secret"),a=i.contact.display_name.strip(),r=i.contact.handle.strip(),u=i.conversation.subject.strip(),"team@gradescope.com"===r&&"Welcome to Gradescope!"===u?(o=i.otherMessages.length?i.otherMessages[0]:i.message,r=(s=_.find(o.recipients,function(t){return n.call(t.handle,"gradescope")<0})).handle):"notifications@helpdocs.io"===r&&(r=null!=(s=(o=i.otherMessages.length?i.otherMessages[0]:i.message).recipients.find(function(t){return"reply-to"===t.role}))?s.handle:void 0,a=null!=s?s.display_name:void 0),e.front_plugin.requestUserData(a,r,l)}),$(".js-frontUserSearch").on("submit",function(t){var e,n;if(Front.user)return n=document.querySelector(".js-frontUserSearch #search").value,e=document.querySelector(".js-frontUserSearch").action,Front.openUrl(e+"?search="+n),t.preventDefault()}),$(".js-entryCodeSearch").on("submit",function(t){var e,n;if(Front.user)return t.preventDefault(),n=document.querySelector(".js-entryCodeSearch #entry_code").value,e=document.querySelector(".js-entryCodeSearch").action,Front.openUrl(e+"?entry_code="+n)})},e.front_plugin.requestUserData=function(t,e,n){return $.ajax({type:"post",dataType:"json",url:"/admin/front_plugin/find_user",data:{auth_secret:n,email:e,name:t},success:function(n){return ReactDOM.render(React.createElement(FrontPlugin,Object.assign({name:t,email:e},n)),document.querySelector(".js-frontUserPanel"))}})}}.call(this),function(){var t,e,n;(n=window.site).admin_grading_surveys={},n.admin_grading_surveys.index=function(){return $(".js-gradingSurveysTable").DataTable({pageLength:100,order:[[0,"asc"]],columnDefs:[{targets:["assignment"],width:"175px"},{targets:["id"],width:"60px"},{targets:["seen"],width:"90px"},{targets:["created","updated","graded","applied","rating","feedback"],width:"120px"}],dom:"frtilpB",buttons:["csv"]}),e($(".js-gradingSurveysPlotTarget"),gon.ratings,t)},e=function(t,e,n){var i,r;return r=$('<svg xmlns="http://www.w3.org/2000/svg">'),i=$("<div>").append(r),t.append(i),n(r.get(0),e)},t=function(t,e){nv.addGraph(function(){var n;return(n=nv.models.discreteBarChart().x(function(t){return t[0]}).y(function(t){return t[1]}).color(function(){return"gray"}).showValues(!0)).valueFormat(d3.format(",f")),n.yAxis.tickFormat(d3.format(",f")),n.yAxis.axisLabel("Rating"),d3.select(t).datum(e).call(n),nv.utils.windowResize(n.update),n})}}.call(this),function(){var t;(t=window.site).admin_instructors=new Object,t.admin_instructors.index=function(){return $(".js-includeAllStaff").change(function(){return this.closest("form").submit()}),$(".js-adminInstructorsTable").DataTable({pageLength:100,order:[[3,"desc"]],dom:"frtilpB",buttons:["csv"]})}}.call(this),function(){var t;(t=window.site).admin_invite_requests=new Object,t.admin_invite_requests.index=function(){var t,e;return(t=new URL(gon.admin_invite_requests_url)).searchParams.set("accepted",gon.accepted),t.searchParams.set("user_to_user",gon.user_to_user),gon.invite_code&&t.searchParams.set("invite_code",gon.invite_code),e=$(".js-adminInviteRequestsTable").DataTable({pageLength:50,order:[[6,"desc"]],serverSide:!0,processing:!0,ajax:{url:t,error:function(t,e,n){return 0===t.status?window.alert("Failed to load data! Timed out!"):window.alert("Failed to load data! Got: ["+e+"] "+n+" ("+t.status+")")},data:function(t){var e,n,i;for(e=n=0,i=t.columns.length;0<=i?n<i:n>i;e=0<=i?++n:--n)t.columns[e].search.value||delete t.columns[e].search,!0!==t.columns[e].searchable||void 0!==t.columns[e].search&&""!==t.columns[e].search||delete t.columns[e].searchable,!1===t.columns[e].orderable&&delete t.columns[e].orderable,t.columns[e].data!==t.columns[e].name&&""!==t.columns[e].name||delete t.columns[e].name;return delete t.search.regex,t}},columns:[{data:"name",name:"invite_requests.first_name,invite_requests.last_name",orderable:!0},{data:"inviter",orderable:!1},{data:"email",name:"invite_requests.email",orderable:!0},{data:"school_name",name:"invite_requests.school_name",orderable:!0},{data:"more_info",name:"invite_requests.extra_information",orderable:!0,width:"180px"},{data:"invite_code",name:"invite_requests.invite_code",orderable:!0},{data:"created_at",name:"invite_requests.created_at",orderable:!0},{data:"edit",orderable:!1,width:"30px"},{data:"delete",orderable:!1,width:"30px"},{data:"accept",orderable:!1,width:"30px"}],language:{processing:'<i class="fa fa-spinner fa-spin" />'},dom:"frtilpB",buttons:["csv"],searchDelay:1e3,drawCallback:function(){var t;return t='<i class="fa fa-spin fa-spinner"></i>',$("a[data-remote]").on("ajax:send",function(){return $(this).append(t)}),$("a[data-remote]").on("ajax:success",function(t,n,i,r){var o,a;return 200===r.status?(a=n.success,o=n.message,$(this).children().last().remove(),a?window.alert(o):window.confirm(o+"\nWould you like to edit this invite request?")&&(window.location.href=n.redirect_to)):window.alert("Failed to perform action!"),e.ajax.reload()})}})},t.admin_invite_requests.activated=function(){var t;return t=new URL(gon.activated_admin_invite_requests_url),$(".js-adminActiveatedInviteRequestsTable").DataTable({pageLength:50,order:[[4,"desc"]],serverSide:!0,processing:!0,ajax:{url:t,error:function(t,e,n){return 0===t.status?window.alert("Failed to load data! Timed out!"):window.alert("Failed to load data! Got: ["+e+"] "+n+" ("+t.status+")")},data:function(t){var e,n,i;for(e=n=0,i=t.columns.length;0<=i?n<i:n>i;e=0<=i?++n:--n)t.columns[e].search.value||delete t.columns[e].search,!0!==t.columns[e].searchable||void 0!==t.columns[e].search&&""!==t.columns[e].search||delete t.columns[e].searchable,!1===t.columns[e].orderable&&delete t.columns[e].orderable,t.columns[e].data!==t.columns[e].name&&""!==t.columns[e].name||delete t.columns[e].name;return delete t.search.regex,t}},columns:[{data:"name",orderable:!1},{data:"email",orderable:!1},{data:"school",orderable:!1},{data:"num_non_demo_courses",name:"non_demo_course_count",orderable:!0},{data:"updated_at",name:"invite_requests.updated_at",orderable:!0}],language:{processing:'<i class="fa fa-spinner fa-spin" />'},dom:"frtilpB",buttons:["csv"],searchDelay:1e3})},t.admin_invite_requests.show=t.admin_invite_requests.index}.call(this),function(){var t;(t=window.site).admin_ltiv1p3_registrations=new Object,t.admin_ltiv1p3_registrations.index=function(){return $(".js-ltiv1p3RegistrationsTable").DataTable({columnDefs:[{targets:["js-noSort"],sortable:!1}],paging:!1,dom:"fti"})}}.call(this),
function(){var t;(t=window.site).admin_merges=new Object,t.admin_merges.show=function(){return setTimeout(function(){return window.location.reload(1)},5e3)},t.admin_merges.show_many=function(){if(!gon.finished)return setTimeout(function(){return window.location.reload(1)},5e3)}}.call(this),function(){var t;(t=window.site).admin_pine_reports=new Object,t.admin_pine_reports.index=function(){return $(".js-adminPineReportsTable").DataTable({pageLength:100,order:[[5,"desc"]],dom:"frtilpB",buttons:["csv"],autoWidth:!1})}}.call(this),function(){var t;(t=window.site).admin_rack_attack=new Object,t.admin_rack_attack.show=function(){return $("#new_rack_attack_blocklist_ip").on("ajax:success",function(t){return t.target.reset()}),$("#delete_rack_attack_blocklist_ip").on("ajax:success",function(t){return t.target.reset()}),$("#reset_rack_attack_data").on("ajax:success",function(){return alert("All Rack::Attack data has been deleted!")})}}.call(this),function(){var t,e,n;(n=window.site).admin_schools=new Object,n.admin_schools.index=function(){var t;return $(".js-integrationOnly, .js-contractOnly, .js-showUserStats, .js-showCourseStats, .js-openSignup, .js-blockCourseCreationOnly").change(function(){return this.closest("form").submit()}),t=new URL(gon.admin_schools_url),gon.integration_only&&t.searchParams.set("integration_only","1"),gon.contract_only&&t.searchParams.set("contract_only","1"),gon.show_user_stats&&t.searchParams.set("show_user_stats","1"),gon.show_course_stats&&t.searchParams.set("show_course_stats","1"),gon.open_signup&&t.searchParams.set("open_signup","1"),gon.block_course_creation&&t.searchParams.set("block_course_creation","1"),$(".js-adminSchoolsTable").DataTable({pageLength:50,order:[[0,"asc"]],serverSide:!0,processing:!0,stateSave:!0,stateSaveParams:function(t,e){return delete e.columns},stateLoadParams:function(t,e){return e.columns=t.aoColumns},stateSaveCallback:function(t,e){return localStorage.setItem("DataTables_adminSchoolsTable",JSON.stringify(e))},stateLoadCallback:function(){return JSON.parse(localStorage.getItem("DataTables_adminSchoolsTable",null))},ajax:{url:t,error:function(t,e,n){return 0===t.status?window.alert("Failed to load data! Timed out!"):window.alert("Failed to load data! Got: ["+e+"] "+n+" ("+t.status+")")},data:function(t){var e,n,i;for(e=n=0,i=t.columns.length;0<=i?n<i:n>i;e=0<=i?++n:--n)t.columns[e].search.value||delete t.columns[e].search,!0!==t.columns[e].searchable||void 0!==t.columns[e].search&&""!==t.columns[e].search||delete t.columns[e].searchable,delete t.columns[e].orderable,t.columns[e].data!==t.columns[e].name&&""!==t.columns[e].name||delete t.columns[e].name;return delete t.search.regex,t}},columns:[{data:"id",name:"schools.id",orderable:!0},{data:"name",name:"schools.name",orderable:!0},{data:"category",name:"schools.category",orderable:!0},{data:"tags",name:"schools.tags",orderable:!0},{data:"total_#_students",name:"schools.num_students",orderable:!0},{data:"real_courses_count",orderable:!1,visible:gon.show_course_stats},{data:"instructors_count",orderable:!1,visible:gon.show_user_stats},{data:"real_instructors_count",orderable:!1,visible:gon.show_user_stats},{data:"students_count",orderable:!1,visible:gon.show_user_stats},{data:"instructors",orderable:!1},{data:"email_domains",name:"schools.domains",orderable:!0},{data:"terms",name:"schools.terms",orderable:!0},{data:"contract",name:"schools.institutional_license",orderable:!0},{data:"integration",name:"schools.lms_config",orderable:!0},{data:"created_at",name:"schools.created_at",orderable:!0},{data:"primary_geo",name:"schools.primary_geo",orderable:!0},{data:"time_zone",name:"schools.timezone",orderable:!0},{data:"open_signups",name:"open_signup",orderable:!0},{data:"dashboard",orderable:!1},{data:"lms_config",orderable:!1},{data:"ltiv1p3_config",orderable:!1},{data:"submission_repo_settings",orderable:!1},{data:"edit",orderable:!1}],language:{processing:'<i class="fa fa-spinner fa-spin" />'},dom:"frtilpB",buttons:["csv"],searchDelay:1e3})},n.admin_schools.penetration=function(){var t;return $(".js-adminSchoolsPenetrationFilter").change(function(){return this.closest("form").submit()}),(t=new URL(gon.penetration_admin_schools_url)).searchParams.set("mode",gon.mode),$(".js-adminSchoolsPenetrationTable").DataTable({pageLength:25,order:[[1,"desc"]],serverSide:!0,processing:!0,stateSave:!0,stateSaveParams:function(t,e){return delete e.columns},stateLoadParams:function(t,e){return e.columns=t.aoColumns},stateSaveCallback:function(t,e){return localStorage.setItem("DataTables_adminSchoolsPenetrationTable",JSON.stringify(e))},stateLoadCallback:function(){return JSON.parse(localStorage.getItem("DataTables_adminSchoolsPenetrationTable",null))},ajax:{url:t,error:function(t,e,n){return window.xhr=t,0===t.status?window.alert("Failed to load data! Timed out!"):window.alert("Failed to load data! Got: ["+e+"] "+n+" ("+t.status+")\n"+t.responseText)},data:function(t){var e,n,i;for(e=n=0,i=t.columns.length;0<=i?n<i:n>i;e=0<=i?++n:--n)t.columns[e].search.value||delete t.columns[e].search,!0!==t.columns[e].searchable||void 0!==t.columns[e].search&&""!==t.columns[e].search||delete t.columns[e].searchable,!1===t.columns[e].orderable&&delete t.columns[e].orderable,t.columns[e].data!==t.columns[e].name&&""!==t.columns[e].name||delete t.columns[e].name;return delete t.search.regex,t}},columns:[{data:"id",name:"schools.id",orderable:!0},{data:"school_name",name:"schools.name",orderable:!0},{data:"course_enrollments",orderable:!1},{data:"unique_students",orderable:!1},{data:"contract",orderable:!1}].concat(gon.year_terms_columns),language:{processing:'<i class="fa fa-spinner fa-spin" />'},dom:"frtilpB",buttons:["csv"],searchDelay:1e3})},n.admin_schools["new"]=function(){var e,n,i,r,o;return o=$(".termDates"),r=$("#set_terms"),i=$(".termDates--winterPickers"),n=$("#quarter_valid"),e=$(".termDates--onlyQuartersMessage"),$(".js-toggleInstitutionalLicense").click(function(){return t()}),r.is(":checked")&&o.slideToggle(),n.is(":checked")&&(i.toggle(),e.toggle()),r.change(function(){o.slideToggle()}),n.change(function(){i.toggle(),e.toggle()}),$("#school_timezone").selectize(),$("#school_tags").selectize({create:function(t){return{value:t,text:t}}})},n.admin_schools.show=function(){var t;return e(),$.ajax({url:gon.course_counts_admin_school_url,method:"get",success:function(t){var e;return(e=$(".js-courseCounts")).empty(),e.append("<li>"+(t.real||0)+" real</li>"),e.append("<li>"+(t.incomplete||0)+" incomplete</li>"),e.append("<li>"+(t.demo||0)+" demo</li>")},error:function(t,e){var n;return window.resp=[t,e],n=0===t.status?"The request timed out!":t.statusText+" ("+t.status+")",$(".js-courseCounts").text("Failed to load course counts: "+n)}}),$.ajax({url:gon.role_counts_admin_school_url,method:"get",success:function(t){var e;return(e=$(".js-roleCounts")).empty(),e.append("<li>"+(t.instructor||0)+" instructors ("+(t.instructor_real||0)+" real)</li>"),e.append("<li>"+(t.ta||0)+" TAs</li>"),e.append("<li>"+(t.reader||0)+" readers</li>"),e.append("<li>"+(t.student||0)+" students</li>")},error:function(t){var e;return e=0===t.status?"The request timed out!":t.statusText+" ("+t.status+")",$(".js-roleCounts").text("Failed to load role counts: "+e)}}),t=new URL(gon.school_admins_admin_school_url),$(".js-adminSchoolAdminsTable").DataTable({pageLength:50,order:[[0,"asc"]],serverSide:!0,processing:!0,stateSave:!0,stateSaveParams:function(t,e){return delete e.columns},stateLoadParams:function(t,e){return e.columns=t.aoColumns},stateSaveCallback:function(t,e){return localStorage.setItem("DataTables_adminSchoolAdminsTable",JSON.stringify(e))},stateLoadCallback:function(){return JSON.parse(localStorage.getItem("DataTables_adminSchoolAdminsTable",null))},ajax:{url:t,error:function(t,e,n){return 0===t.status?window.alert("Failed to load data! Timed out!"):window.alert("Failed to load data! Got: ["+e+"] "+n+" ("+t.status+")")},data:function(t){var e,n,i;for(e=n=0,i=t.columns.length;0<=i?n<i:n>i;e=0<=i?++n:--n)t.columns[e].search.value||delete t.columns[e].search,!0!==t.columns[e].searchable||void 0!==t.columns[e].search&&""!==t.columns[e].search||delete t.columns[e].searchable,delete t.columns[e].orderable,t.columns[e].data!==t.columns[e].name&&""!==t.columns[e].name||delete t.columns[e].name;return delete t.search.regex,t}},columns:[{data:"user",name:"users.original_name",orderable:!0},{data:"super_admin",name:"school_memberships.super_admin",orderable:!0},{data:"view_dashboard",name:"school_memberships.view_dashboard",orderable:!0},{data:"manage_lms_integrations",name:"school_memberships.manage_lms_integrations",orderable:!0},{data:"manage_sso_integrations",name:"school_memberships.manage_sso_integrations",orderable:!0}],language:{processing:'<i class="fa fa-spinner fa-spin" />'},dom:"frtilpB",buttons:["csv"],searchDelay:1e3})},e=function(){return $(".js-toggleLMSConfig").click(function(t){var e;return(e=$(t.target)).text("Show"===e.text()?"Hide":"Show"),e.next().toggle()})},n.admin_schools.edit=function(){return n.admin_schools["new"](),t(),$(".js-toggleInstitutionalLicense").click(function(e){return e.target.checked||"true"!==e.target.getAttribute("data-initial-value")||confirm("Are you sure you want to revoke the institutional license for this school?")?t():e.preventDefault()})},t=function(){return $(".js-toggleInstitutionalLicense").is(":checked")?($(".js-toggleBlockCourseCreation").prop("checked",!1).prop("disabled",!0),$(".js-toggleLicenseEnabledDate").prop("disabled",!1)):($(".js-toggleBlockCourseCreation").prop("disabled",!1),$(".js-toggleLicenseEnabledDate").val("").prop("disabled",!0))},n.admin_schools.create=n.admin_schools["new"],n.admin_schools.top50=n.admin_schools.index}.call(this),function(){var t;(t=window.site).admin_ssh_sessions=new Object,t.admin_ssh_sessions.index=function(){return $(".js-adminSSHSessionsTable").DataTable({data:gon.ssh_sessions,lengthMenu:[[10,25,50,75,100,-1],[10,25,50,75,100,"All"]],order:[[5,"desc"]],columns:[{data:"id",orderable:!0},{data:"user",orderable:!0},{data:"school",orderable:!0},{data:"course",orderable:!0},{data:"assignment_submission",orderable:!0},{data:"queued_at",orderable:!0},{data:"expires_in",orderable:!0},{data:"host",orderable:!0},{data:"port",orderable:!0},{data:"task_arn",orderable:!0},{data:"container_instance_arn",orderable:!0},{data:"duration",orderable:!0},{data:"ssh_connection_string",orderable:!0},{data:"delete",orderable:!0}],language:{processing:'<i class="fa fa-spinner fa-spin" />'}})}}.call(this),function(){var t;(t=window.site).admin_sso_integrations=new Object,t.admin_sso_integrations.index=function(){var t;return $(".js-enabledSSOIntegrationOnly, .js-debugSSOIntegrationOnly").change(function(){return this.closest("form").submit()}),t=new URL(gon.admin_sso_integration_url),gon.debug_only&&t.searchParams.set("debug_only","1"),gon.enabled_only&&t.searchParams.set("enabled_only","1"),$(".js-adminSSOIntegrationsTable").DataTable({pageLength:50,order:[[0,"asc"]],columns:[{name:"sso_integrations.school_id",orderable:!0},{name:"sso_integrations.school.school_id",orderable:!0},{name:"sso_integrations.identity_provider_name",orderable:!0},{name:"sso_integrations.enabled",orderable:!0},{name:"sso_integrations.debug",orderable:!0},{name:"sso_integrations.updated_at",orderable:!0},{name:"edit",orderable:!1}],language:{processing:'<i class="fa fa-spinner fa-spin" />'},dom:"frtilpB",buttons:["csv"]})}}.call(this),function(){var t;(t=window.site).admin_staff_connections=new Object,t.admin_staff_connections.index=function(){return $(".js-staffConnectionsTable").DataTable({paginate:!1})}}.call(this),function(){var t,e,n,i,r,o,a,s;(s=window.site).admin_statistics=new Object,s.admin_statistics.index=function(){return i("cumulative-users-vs-time",gon.cumulative_users_vs_time,o),i("courses-by-term",gon.courses_by_term,e),t("newly-graded-assignment-submissions-vs-time",o,"# Submissions Graded Per Week"),t("new-users-and-cms-vs-time",a),t("new-invite-requests-vs-time",a),t("cumulative-schools-vs-time",a,"# Schools"),t("num-real-schools-by-category",n,"# Schools"),t("cumulative-assignments-vs-time",o,"# Assignments"),t("cumulative-real-courses-vs-time-per-school",o,"# Courses"),t("num-assignments-per-course",n,"# Courses"),t("num-students-per-course",n,"# Courses"),t("num-courses-per-student",n,"# Students"),t("num-assignments-per-student",n,"# Students"),t("num-questions-per-student",n,"# Students"),t("top-tags-by-courses",n,"# Courses",!0),t("top-tags-by-students",n,"# Students",!0)},r=function(t){var e,n,i,r,o,a;return e=gon.data_url+"/"+t.replace(/-/g,"_"),o=$("<a>").append(t.replace(/-/g," ")),i=$("<a href="+e+">json</a>"),n=$("<h3>").append(o).append(" | ").append(i),a=$('<svg xmlns="http://www.w3.org/2000/svg">'),r=$('<div class="adminStatsSvg">').append(n).append(a),$(".js-adminStatisticsPlots").append($('<section class="pageSection">')).append(r),[e,o,a]},i=function(t,e,n){var i,o,a;return(i=r(t))[0],o=i[1],n((a=i[2])[0],e),o.on("click",function(t){return t.preventDefault(),a.toggle()})},t=function(t,e,n){var i,o,a,s;return o=r(t),i=o[0],a=o[1],(s=o[2]).hide(),a.on("click",function(t){return t.preventDefault(),"none"===s.css("display")&&$.ajax({url:i,dataType:"json",success:function(t){return e(s[0],t,n)}}),s.toggle()})},a=function(t,e,n){nv.addGraph(function(){var i;return(i=nv.models.lineChart().x(function(t){return Date.parse(t[0])}).y(function(t){return t[1]}).useInteractiveGuideline(!0)).xAxis.axisLabel("Date").tickFormat(function(t){return d3.time.format("%x")(new Date(t))}),i.yAxis.axisLabel(n),i.yAxis.tickFormat(d3.format(",f")),d3.select(t).datum(e).call(i),nv.utils.windowResize(i.update),i})},o=function(t,e,n){nv.addGraph(function(){var i;return(i=nv.models.stackedAreaChart().x(function(t){return Date.parse(t[0])}).y(function(t){return t[1]}).useInteractiveGuideline(!0).rightAlignYAxis(!0).clipEdge(!0).margin({right:70})).xAxis.axisLabel("Date").tickFormat(function(t){return d3.time.format("%x")(new Date(t))}),i.yAxis.axisLabel(n),i.yAxis.tickFormat(d3.format(",f")),d3.select(t).datum(e).call(i),nv.utils.windowResize(i.update),i})},n=function(t,e,n,i){nv.addGraph(function(){var r;return(r=nv.models.discreteBarChart().x(function(t){return t[0]}).y(function(t){return t[1]}).color(function(){return"gray"}).showValues(!0)).valueFormat(d3.format(",f")),r.yAxis.tickFormat(d3.format(",f")),r.yAxis.axisLabel(n),i&&r.xAxis.rotateLabels(-30),d3.select(t).datum(e).call(r),nv.utils.windowResize(r.update),r})},e=function(t,e,n){nv.addGraph(function(){var i;return(i=nv.models.multiBarChart().x(function(t){return t[0]}).y(function(t){return t[1]}).reduceXTicks(!1).margin({bottom:70})).xAxis.rotateLabels(-30),i.multibar.stacked(!0),i.yAxis.axisLabel(n),d3.select(t).datum(e).call(i),nv.utils.windowResize(i.update),i})}}.call(this),function(){var t;(t=window.site).admin_users=new Object,t.admin_users.show=function(){var t;return $(".js-adminUserCourseTable").DataTable({data:gon.user_courses,lengthMenu:[[10,25,50,75,100,-1],[10,25,50,75,100,"All"]],order:[[3,"desc"]],columns:[{data:"shortname",orderable:!0},{data:"school",orderable:!0},{data:"term",orderable:!0},{data:"created",orderable:!0},{data:"demo",orderable:!0},{data:"role",orderable:!0},{data:"staff",orderable:!0},{data:"students",orderable:!0},{data:"assignments",orderable:!0}],language:{processing:'<i class="fa fa-spinner fa-spin" />'}}),$(".js-adminUserSSHSessionsTable").DataTable({data:gon.user_ssh_sessions,lengthMenu:[[10,25,50,75,100,-1],[10,25,50,75,100,"All"]],order:[[4,"desc"]],columns:[{data:"id",orderable:!0},{data:"school",orderable:!0},{data:"course",orderable:!0},{data:"assignment_submission",orderable:!0},{data:"queued_at",orderable:!0},{data:"expires_in",orderable:!0},{data:"host",orderable:!0},{data:"port",orderable:!0},{data:"task_arn",orderable:!0},{data:"container_instance_arn",orderable:!0},{data:"duration",orderable:!0},{data:"ssh_connection_string",orderable:!0},{data:"delete",orderable:!0}],language:{processing:'<i class="fa fa-spinner fa-spin" />'}}),(t=$(".js-admin")).change(function(e){return e.target.checked?confirm("Are you sure you want give this user admin permissions?")?t.submit():e.target.checked=!1:confirm("Are you sure you want to remove admin permissions from this user?")?t.submit():e.target.checked=!0}),$(".js-demoAdmin").change(function(){return $(".js-demoAdmin").submit()}),$(".js-upgradeToComplete").change(function(){return $(".js-upgradeToComplete").submit()}),$(".js-toggleUserFeatureFlag").change(function(){return $(this).submit()}),$(".js-schoolMembershipForm").change(function(){return $(this).submit()})}}.call(this),function(){var t;(t=window.site).assignment_container_submissions=new Object,t.assignment_container_submissions.index=function(){var t,e,n;return n=$(".submissionsManager--uploadModal").modal(),$(".submissionsManager--uploadModal .tiiBtn-tertiary").on("click",function(){return n.close()}),(t=$(".submissionsManager--uploadModal form select[name=owner_id]")).selectize(),(e=$(".submissionsManager--uploadModal .msg-warning")).hide(),t.on("change",function(t){var n,i,r;return i=parseInt(t.target.value),(n=gon.submissionPresenceByUserID[i])?(r="This student already has a submission. Uploading a new submission will supersede their old submission.",gon.versionName&&n!==gon.versionName&&(r="This student already has a submission in Version "+n+". Uploading a new submission to this version (Version "+gon.versionName+") will supersede their old submission."),e.html(r),e.prepend("<i class='fa fa-warning' aria-hidden='true'>"),e.show()):e.hide()}),$(".submissionsManager--uploadModal form").validate({rules:{owner_id:{required:!0},pdf_attachment:{required:!0,extension:"pdf"}},submitHandler:function(t){return $(t).find(":submit").attr("disabled",!0)}})}}.call(this),function(){var t,e,n,i,r,o,a,s;(s=window.site).assignment_containers=new Object,s.assignment_containers.review_grades=function(){return o(),s.assignments.renderReviewGradesChart(),s.assignments.initDownloadGradesTooltip(),s.assignments.setUpBinSizeSecretHotkey(),s.assignments.setUpNotifyStudentsModal(),s.assignments.setUpStatisticsTooltips()},s.assignment_containers.update=s.assignment_containers.edit=function(){var t,e,n,i,r,o,a,l;return o=$(".js-assignmentContainerName").val(),i=!1,r=$("input#assignment_container_submissions_anonymized").is(":checked"),e=!1,window.onbeforeunload=function(){if(i||e)return"Unsaved changes. Leave anyway?"},$(".js-assignmentContainerName").on("input",function(){return i=$(".js-assignmentContainerName").val()!==o}),$("input#assignment_container_submissions_anonymized").on("change",function(){return e=this.checked!==r}),$(".js-assignmentContainerForm").submit(function(){return i=e=!1,this.submit()}),s.assignment_containers.setupDeleteAssignmentContainerModal(),s.assignment_containers.setUpCanvasOptions(),s.assignment_containers.setUpBlackboardOptions(),s.assignment_containers.setUpBrightspaceOptions(),s.assignment_containers.setUpSakaiOptions(),s.assignment_containers.setUpMoodleOptions(),s.assignments.setUpLmsIdTooltips(),(t=$(".js-linkAssignmentVersionsTarget")).length>0&&(l=function(e){return ReactDOM.render(React.createElement(LinkVersions,e),t[0])},a={assignments:gon.unversioned_assignments,selectedAssignmentIds:gon.selected_assignment_ids,updateSelectedAssignments:function(t){return $(".js-assignmentVersionsField").val(t.filter(function(t){return t})),l(Object.assign({},a,{selectedAssignmentIds:t}))}},l(a)),n=new jBox("Tooltip",{attach:$(".js-deleteAssignmentContainerButtonForPopover"),position:{x:"center",y:"bottom"},width:300,offset:{y:4},content:$(".js-assignmentContainerDeleteButtonTooltip"),trigger:"click",closeOnClick:"body",closeOnMouseleave:!1,addClass:"jBox-wrapper-popover"}),$(".js-assignmentContainerDeleteButtonCancel").on("click",function(){return n.close()})},s.assignment_containers.setupDeleteAssignmentContainerModal=function(){var t,e;return t=$(".js-deleteAssignmentContainerModal"),e=t.modal({closeOnOverlayClick:!1}),$(".js-deleteAssignmentContainerButtonForModal").on("click",function(t){return t.preventDefault(),e.open()}),t.find(".js-deleteAssignmentContainerModalCancel").on("click",function(t){return t.preventDefault(),e.close()}),a(),$(".js-deleteAssignmentContainerButton").hide(),t.find("input[type=checkbox]").on("change",function(){var e,n;return n=t.find("input[type=checkbox]:checked"),e=t.find("input[type=checkbox]"),n.length===e.length?($(".js-deleteAssignmentContainerDisabledButton").hide(),$(".js-deleteAssignmentContainerButton").show()):($(".js-deleteAssignmentContainerDisabledButton").show(),$(".js-deleteAssignmentContainerButton").hide())}),e},a=function(){return new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",attach:$(".js-deleteAssignmentContainerDisabledButton"),position:{x:"center",y:"bottom"},width:300,offset:{y:4},content:$(".js-deleteAssignmentContainerWarning"),hasInteractiveContent:!1})},o=function(){var t,e,n,i,r;return t=$(".js-reviewGradesTable"),s.course_memberships.setupSwapButtons(t),i=0,e=(n=$(".js-lastFirstName").length>0)?5:4,r=n?6:5,$(".js-sections").length>0&&(e++,r++),t.DataTable({order:[[e,"desc"],[r,"desc"],[i,"asc"]],dom:"f<t>",autoWidth:!1,paging:!1,columnDefs:[{targets:["js-lastFirstName"],visible:!1}]})},s.assignment_containers.setUpCanvasOptions=function(){var t;if($(".js-openLinkCanvasAssignmentModal").click(n),$(".js-unlinkCanvasAssignment").click(function(){return $.ajax({url:gon.canvasAssignmentContainerLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Canvas assignment.")}}),!1}),null!=(t=window.gon)?t.showLinkCanvasAssignmentModal:void 0)return n()},n=function(){var t,e;return t=$(".js-canvasAssignmentModalTarget"),e={initialAssignmentId:gon.canvasAssignmentId,assignmentListUrl:gon.listCanvasAssignmentsUrl,createCanvasLinkUrl:gon.canvasAssignmentContainerLinkUrl,ourAssignmentName:$(".js-assignmentContainerName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkCanvasAssignmentModal,e),t[0])},s.assignment_containers.setUpBlackboardOptions=function(){var e;if($(".js-openLinkBlackboardAssignmentModal").click(t),$(".js-unlinkBlackboardAssignment").click(function(){return $.ajax({url:gon.blackboardAssignmentContainerLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Blackboard assignment.")}}),!1}),null!=(e=window.gon)?e.showLinkBlackboardAssignmentModal:void 0)return t()},t=function(){var t,e;return t=$(".js-blackboardAssignmentModalTarget"),e={initialAssignmentId:gon.blackboardAssignmentId,assignmentListUrl:gon.listBlackboardAssignmentsUrl,createBlackboardLinkUrl:gon.blackboardAssignmentContainerLinkUrl,ourAssignmentName:$(".js-assignmentContainerName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkBlackboardAssignmentModal,e),t[0])},s.assignment_containers.setUpBrightspaceOptions=function(){var t;if($(".js-openLinkBrightspaceAssignmentModal").click(e),$(".js-unlinkBrightspaceAssignment").click(function(){return $.ajax({url:gon.brightspaceAssignmentContainerLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Brightspace assignment.")}}),!1}),null!=(t=window.gon)?t.showLinkBrightspaceAssignmentModal:void 0)return e()},e=function(){var t,e;return t=$(".js-brightspaceAssignmentModalTarget"),e={initialAssignmentId:gon.brightspaceAssignmentId,assignmentListUrl:gon.listBrightspaceAssignmentsUrl,createBrightspaceLinkUrl:gon.brightspaceAssignmentContainerLinkUrl,ourAssignmentName:$(".js-assignmentContainerName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkBrightspaceAssignmentModal,e),t[0])},s.assignment_containers.setUpSakaiOptions=function(){var t;if($(".js-openLinkSakaiAssignmentModal").click(r),$(".js-unlinkSakaiAssignment").click(function(){return $.ajax({url:gon.sakaiAssignmentContainerLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Sakai assignment.")}}),!1}),null!=(t=window.gon)?t.showLinkSakaiAssignmentModal:void 0)return r()},r=function(){var t,e;return t=$(".js-sakaiAssignmentModalTarget"),e={initialAssignmentId:gon.sakaiAssignmentId,assignment:gon.assignment,assignmentListUrl:gon.listSakaiAssignmentsUrl,createNewGradebookItemUrl:gon.createNewGradebookItemUrl,createSakaiLinkUrl:gon.sakaiAssignmentContainerLinkUrl,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkSakaiAssignmentModal,e),t[0])},s.assignment_containers.setUpMoodleOptions=function(){var t;if($(".js-openLinkMoodleAssignmentModal").click(i),$(".js-unlinkMoodleAssignment").click(function(){return $.ajax({url:gon.moodleAssignmentContainerLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Moodle assignment.")}}),!1}),null!=(t=window.gon)?t.showLinkMoodleAssignmentModal:void 0)return i()},i=function(){var t,e;return t=$(".js-moodleAssignmentModalTarget"),e={initialAssignmentId:gon.moodleAssignmentId,assignmentListUrl:gon.listMoodleAssignmentsUrl,createMoodleLinkUrl:gon.moodleAssignmentContainerLinkUrl,editAccountUrl:gon.editAccountUrl,ourAssignmentName:$(".js-assignmentContainerName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkMoodleAssignmentModal,e),t[0])}}.call(this),function(){var t;(t=window.site).assignment_similarity_report=new Object,t.assignment_similarity_report.show=function(){return $(".js-similarityTable").DataTable({dom:"frtilp",sortable:!0,order:[],columnDefs:[{targets:[2,3,4,5,6,7],searchable:!1},{targets:[3,5,7],sortable:!1,type:"num"}]})}}.call(this),function(){var t;(t=window.site).assignment_submission_batches=new Object,t.assignment_submission_batches.index=function(){return $("#new_pdf_attachment").validate({rules:{"pdf_attachment[file][]":{required:!0,extension:"pdf"}}}),$("#new_pdf_attachment").on("submit",function(){if($("#new_pdf_attachment").valid())return $("#submit").prop("disabled",!0)})}}.call(this),function(){var t,e,n,i,r,o,a,s,l,u,c=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},d=function(t,e){return function(){return t.apply(e,arguments)}};(l=window.site).assignment_submissions=new Object,l.assignment_submissions.index=function(){var t,e,n;return n=$(".submissionsManager--uploadModal").modal(),$(".submissionsManager--uploadModal .tiiBtn-tertiary").on("click",function(){return n.close()}),(t=$(".submissionsManager--uploadModal form select[name=owner_id]")).selectize(),(e=$(".submissionsManager--uploadModal .msg-warning")).hide(),t.on("change",function(t){var n,i,r;return i=parseInt(t.target.value),(n=gon.submissionPresenceByUserID[i])?(r="This student already has a submission. Uploading a new submission will supersede their old submission.",gon.versionName&&n!==gon.versionName&&(r="This student already has a submission in Version "+n+". Uploading a new submission to this version (Version "+gon.versionName+") will supersede their old submission."),e.html(r),e.prepend("<i class='fa fa-warning' aria-hidden='true'>"),e.show()):e.hide()}),$(".submissionsManager--uploadModal form").validate({rules:{owner_id:{required:!0},pdf_attachment:{required:!0,extension:"pdf"}},submitHandler:function(t){return $(t).find(":submit").attr("disabled",!0)}})},l.assignment_submissions["new"]=function(){return o($(".js-submitAssignment"))},l.assignment_submissions.submit_images=function(){return $("form").validate({rules:{required:!0},submitHandler:function(t){return $(t).find(":submit").attr("disabled",!0),$(".js-submitImagesSpinner").css("display","inline-block")}})},o=function(t){var i;switch(i=t.data(),$.post(i.postUrl+"/attempt",{submission_event:"opened_submit_assignment_modal"}),$(".js-showLateSubmissionWarning").toggleClass("is-hidden",!i.showLateSubmissionWarning),$(".js-showEmptyOutlineError").toggleClass("is-hidden",i.readyForSubmission),u(i.templateUrl,i.assignmentTitle),i.submissionFormat){case"fixed_length":return e(),a($(".js-uploadPDFForm"),i);case"variable_length":return n(),s($(".js-uploadPDFForm"),i)}},e=function(){return $(".js-submitPDFInstructions").removeClass("is-hidden"),$(".js-submitVariableLengthInstructions").addClass("is-hidden")},n=function(){return $(".js-submitPDFInstructions").addClass("is-hidden"),$(".js-submitVariableLengthInstructions").removeClass("is-hidden")},s=function(t,n){return $(".js-submitImagesURL").attr("href",n.imagesUrl),$(".js-submitPDFButton").click(function(){return $.post(n.postUrl+"/attempt",{submission_event:"variable_length_pdf"}),a(t,n),e()})},a=function(t,e){var i;return t.find(".js-selectPDFAttachment").on("change",function(t){return $.post(e.postUrl+"/attempt",{submission_event:"selected_pdf_file",file_name:t.target.value})}),t.attr("action",e.postUrl),t.validate({rules:{pdf_attachment:{required:!0,extension:"pdf"}},submitHandler:function(t){return $(t).find(":submit").attr("disabled",!0)}}),i=t.find(".js-cancelForm"),"variable_length"===e.submissionFormat?i.on("click",n):i.on("click",function(){return window.location.href=gon.courseUrl})},u=function(t,e){var n;if($(".js-downloadPDFTemplate").toggleClass("is-hidden",!t),t)return n=pageContext().intl.formatMessage({id:"assignmentSubmissions.downloadTemplate",defaultMessage:"Download {assignmentTitle} PDF"},{assignmentTitle:e}),$(".js-downloadPDFTemplate--link").attr("href",t),$(".js-downloadPDFTemplate--label").text(" "+n)},l.assignment_submissions.setupStudentSubmissionModals=function(){var e,n,i,o,a,s,l,d;if(o=$("#submit-fixed-length-modal").modal({closeOnOverlayClick:!0}),$("#submit-fixed-length-modal .tiiBtn-tertiary").on("click",function(t){return t.preventDefault(),o.close()}),l=$("#submit-variable-length-modal").modal({closeOnOverlayClick:!0}),$("#submit-variable-length-modal .js-closeModal").on("click",function(t){return t.preventDefault(),l.close()}),s=$("#submit-typed-document-modal").modal({closeOnOverlayClick:!0}),$("#submit-typed-document-modal .js-closeModal").on("click",function(t){return t.preventDefault(),s.close()}),$(".js-submitCodeModal").length>0&&(a=$(".js-submitCodeModal").modal({closeOnOverlayClick:!0}),$(".js-submitCodeModal .js-closeModal").on("click",function(t){return t.preventDefault(),a.close()})),i=function(t,e){var n,i,r;return n=$(".js-submissionMethodSwitcher")[0],(i=e).onChange=t.showSubmissionPane,r=React.createElement(SubmissionMethods,i),ReactDOM.render(r,n)},n=!1,$(".js-submitAssignment").on("click",function(e){var d,f,h,p,g,m,v,b,y,x,w,_,C,k,S;switch(e.preventDefault(),C=$(this).data("submission-format"),x=$(this).data("post-url"),m=$(this).data("images-url"),h=$(this).data("assignment-id"),_=$(this).data("show-late-submission-warning"),S=$(this).data("template-url"),p=$(this).data("assignment-title"),u(S,p),$.post(x+"/attempt",{submission_event:"opened_submit_assignment_modal"}),$("#submission_pdf_attachment").on("change",function(t){return $.post(x+"/attempt",{submission_event:"selected_pdf_file",file_name:t.target.value})}),$("#submission_file").on("change",function(t){return $.post(x+"/attempt",{submission_event:"selected_file",file_name:t.target.value})}),_||$(".late-submission-warning, .js-lateSubmissionWarning").hide(),C){case"fixed_length":return $("#submit-fixed-length-modal").find("form").attr("action",x),$("#submit-fixed-length-form").validate({rules:{pdf_attachment:{required:!0,extension:"pdf"}},submitHandler:function(t){return $(t).find(":submit").attr("disabled",!0)}}),o.open();case"variable_length":return $(this).data("ready-for-submission")?($("#submit-variable-length-modal .msg.error").hide(),$("#submit-variable-length-modal .modal-body").removeClass("submission-disabled")):($("#submit-variable-length-modal .msg.error").show(),$("#submit-variable-length-modal .modal-body").addClass("submission-disabled")),$("#submit-variable-length-images").attr("href",m),$("#submit-variable-length-pdf").click(function(){return $.post(x+"/attempt",{submission_event:"variable_length_pdf"}),$("#submit-fixed-length-modal").find("form").attr("action",x),$("#submit-fixed-length-form").validate({rules:{pdf_attachment:{required:!0,extension:"pdf"}},submitHandler:function(t){return $(t).find(":submit").attr("disabled",!0)}}),o.open()}),l.open();case"typed_document":return(d=$("#submit-typed-document-modal form")).attr("action",x),d.validate({rules:{file:{required:!0}},submitHandler:function(t){return $(t).find(":submit").attr("disabled",!0)}}),s.open();case"code":return $(".js-submitCodeModal").find("form").attr("action",x),f=$(".js-repositorySelector"),
h&&($(".js-gitlabSubmissionLink").length>0&&(v=-1!==(y=(b=$(".js-gitlabSubmissionLink").attr("href")).indexOf("?assignment_id="))?b.substring(0,y)+"?assignment_id="+h:b+"?assignment_id="+h,$(".js-gitlabSubmissionLink").attr("href",v)),["github","bitbucket"].forEach(function(t){var e;return e=t+"AuthenticationPath",f.data(e,f.data(e).replace(/assignment_id=(\w+)/,"assignment_id="+h))})),(k=$(this).data("submissionMethods"))||(k={upload:!0,github:!0,bitbucket:!0}),g=new t(f.data()),i(g,k),$(this).data("leaderboardEnabled")?$(".js-leaderboardGroup").removeClass("is-hidden"):$(".js-leaderboardGroup").addClass("is-hidden"),a.open(),n?Dropzone.forElement(".js-submitCodeForm").options.url=x:($(".js-submitCodeForm").dropzone({paramName:function(){return"submission[files][]"},clickable:[".js-dropzone",".js-dropzoneMessage"],previewsContainer:".js-dropzonePreview",previewTemplate:$(".js-dropzonePreviewTemplate").html(),autoProcessQueue:!1,uploadMultiple:!0,maxFilesize:100,parallelUploads:5e3,accept:function(t,e){var n,i,o,a,s,l,u,d,f,h,p;if(this.firstFileAccepted||(this.firstFileAccepted=!0,$(".js-dropzonePreviewContainer").removeClass("is-hidden"),$(".js-dropzone").addClass("is-hidden"),$(".js-dropzoneMessage").removeClass("is-hidden")),i=(h=t.name.split("."))[h.length-1],n=window.location.href.toString().match(/courses\/(\d+)/)[1],p=["3043","4688","6192","5699","11800"],"zip"===i&&c.call(p,n)<0)return r(t,this,e);if(t.previewElement){for(o=0,s=(d=t.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;o<s;o++)"PROGRESS"!==(u=d[o]).nodeName&&(u.ariaLabel=pageContext().intl.formatMessage({id:"dropzone.file.progress.label_sr",defaultMessage:"{file} upload progress"},{file:t.name}));for(a=0,l=(f=t.previewElement.querySelectorAll("[data-dz-remove]")).length;a<l;a++)(u=f[a]).ariaLabel=pageContext().intl.formatMessage({id:"dropzone.file.remove.label_sr",defaultMessage:"remove {file}"},{file:t.name})}return e()},uploadprogress:function(t,e){var n,i,r,o,a;if(t.previewElement){for(a=[],n=0,i=(o=t.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;n<i;n++)"PROGRESS"===(r=o[n]).nodeName?a.push(r.value=e):(r.style.width=e+"%",a.push(r.ariaValueNow=e));return a}},init:function(){var t;return this.on("sending",function(t,e,n){var i;if(1===(i=$(".js-studentPickerDropdown.selectized")).length)return n.append("submission[owner_id]",i[0].value)}),this.on("successmultiple",function(t,e){return window.location=e.url}),$(".js-submitCode").on("click",(t=this,function(e){return!!g.validateForm()&&("upload"!==$('input[name="submission[method]"]:checked').val()||(window.dz=t,t.processQueue(),e.preventDefault()))})),this.on("reset",function(t){return function(){return t.firstFileAccepted=!1,$(".js-dropzone").removeClass("is-hidden"),$(".js-dropzonePreviewContainer").addClass("is-hidden"),$(".js-dropzoneMessage").addClass("is-hidden")}}(this))}}),n=!0);case"online":return w=$(this).data("new-url"),window.location=w}}),window.queryParams().submit_assignment_id)return e=window.queryParams().submit_assignment_id,0===(d=$(".js-submitAssignment[data-assignment-id="+e+"]")).length&&(d=$(".js-submitAssignment:first")),d.click()},i=function(t,e){var n;return(n=new Blob([t],{type:"application/octet-stream"})).upload={bytesSent:0,progress:0,total:n.size},n.accepted=!0,n.size=t.length,n.name=e,n.type="application/octet-stream",n},r=function(t,e,n){var r;return(r=new FileReader).onload=function(r){var o,a,s,l,u,c;try{for(a in l=new JSZip(r.target.result),o=[],s=l.files)(u=s[a]).dir||(c=i(u.asUint8Array(),a),o.push(c),e.addFile(c));return e.emit("addedfiles",o),n(),e.removeFile(t)}catch(d){return r=d,n("Error processing zip file")}},r.readAsArrayBuffer(t)},t=function(){function t(t){this.options=t,this.changeSubmissionService=d(this.changeSubmissionService,this),this.showSubmissionPane=d(this.showSubmissionPane,this),this.initValidations()}return t.prototype.showSubmissionPane=function(t){var e,n;switch(e=function(){return $(".js-fileUploadArea").hide(),$(".js-repositorySelector").show()},n=function(){return $(".js-repositorySelector").hide(),$(".js-fileUploadArea").show(),$(".js-submitCode").removeProp("disabled")},t){case"upload":return n();case"github":return e(),this.changeSubmissionService("github");case"bitbucket":return e(),this.changeSubmissionService("bitbucket")}},t.prototype.changeSubmissionService=function(t){var e,n,i;return e=$(".js-repositorySelector")[0],n={service:t,repositoriesUrl:this.options[t+"RepositoriesUrl"],isAuthenticated:!1!==this.options[t+"IsAuthenticated"],authenticationPath:this.options[t+"AuthenticationPath"]},i=React.createElement(RepositorySelector,n),ReactDOM.render(i,e)},t.prototype.initValidations=function(){return $(".js-submitCodeForm").validate({rules:{files:{required:{depends:function(){return"upload"===$('input[name="submission[method]"]:checked').val()}}},repository:{required:{depends:function(){return"upload"!==$('input[name="submission[method]"]:checked').val()}}},branch:{required:{depends:function(){return $("#submission_repository").val().length>0}}}}})},t.prototype.validateForm=function(){return $(".js-submitCodeForm").valid()},t}(),window.processZipFile=r}.call(this),function(){var t,e,n,i,r,o,a,s,l,u,c,d,f,h,p,g,m,v,b,y,x,w,C,k,S,T,M,D,A,I,j=function(t,e){return function(){return t.apply(e,arguments)}};(M=window.site).assignments=new Object,M.assignments.index=M.assignments.create=function(){var t,e;if(S(),t=k(),e=x(),T(),M.assignments.initDownloadGradesTooltip(),M.assignments.setupSectionsRows(),$(".js-linkVersionedAssignments").click(o),"undefined"!=typeof gon&&null!==gon&&(gon.open_link_assignment_modal&&e.open(),gon.open_create_assignments_page&&m(),gon.open_duplicate_modal))return t.open()},M.assignments["new"]=function(){return s()},M.assignments.create=M.assignments["new"],M.assignments.edit=function(){var t,e,n,r,o,a,l;return r=$(".js-assignmentName").val(),e=!1,n=$("input#assignment_submissions_anonymized").is(":checked"),t=!1,o=$("input[type='radio']:checked",".js-rubricVisibilitySettingsGroup").val(),a=!1,l=!1,window.onbeforeunload=function(){var n;if(n=$("input[name='assignment[section_overrides]']").length&&!l,e||t||a||n)return"Unsaved changes. Leave anyway?"},$(".js-assignmentName").on("input",function(){return e=$(".js-assignmentName").val()!==r}),$("input#assignment_submissions_anonymized").on("change",function(){return t=this.checked!==n}),$("input[type='radio']",".js-rubricVisibilitySettingsGroup").on("change",function(){return a=this.value!==o}),$(".js-assignmentForm").submit(function(){return e=t=a=!1,l=!0}),s(),M.assignments.handleBulkDefaultSettings(),i(),M.assignments.setupDeleteAssignmentModal(),M.assignments.setupAssignmentDeleteButton(),M.assignments.setUpCanvasOptions(),M.assignments.setUpBlackboardOptions(),M.assignments.setUpBrightspaceOptions(),M.assignments.setUpSakaiOptions(),M.assignments.setUpMoodleOptions(),gon.user_is_admin&&M.assignments.setUpLmsIdTooltips(),M.assignments.setUpTabs()},M.assignments.update=M.assignments.edit,M.assignments.setUpTabs=function(){var t,e;if(M.assignments.setUpSectionsManagement(),$(".js-settingsTabSelectorTab").each(function(){return $(this).click(function(t){var e,n;return e=(n=$(t.currentTarget)).data("tab-id"),window.location.hash=e,$(".js-settingsTabSelectorTab").removeClass("gsTab-is-selected"),n.addClass("gsTab-is-selected"),$(".js-settingsTab").hide(),$(".js-settingsTab[data-tab-id="+e+"]").show()})}),(t=window.location.hash.substr(1))&&(e=$(".js-settingsTabSelectorTab[data-tab-id="+t+"]")).length&&!e.prop("disabled"))return e.click()},M.assignments.setUpSectionsManagement=function(){var t,e,n,i,r,o,a,s,l,u,c,d;for((s=[]).push($("input[name$='assignment[student_submission]']")),s.push(r=$("input[name$='assignment[release_date_string]']")),s.push(e=$("input[name$='assignment[due_date_string]']")),s.push(t=$("input[name$='assignment[allow_late_submissions]']")),s.push(i=$("input[name$='assignment[hard_due_date_string]']")),s.push(n=$("input[name$='assignment[enforce_time_limit]']")),s.push(o=$("input[name$='assignment[time_limit_in_minutes]']")),(u=function(a){var s,l,u,c,d,f,h,p,g,m,v;if(null==a&&(a=!1),(s=$(".js-sectionsManagementContainer")).length>0)return p=_.clone(gon.sections_manager_props),a||(p.fallbackSubmissionWindow=_.clone(window.fallbackSubmissionWindow),h=$("#assignment_student_submission_false").is(":checked"),m=r.val(),(g=moment(m)).isValid()&&(p.fallbackSubmissionWindow.releaseDate=m),c=e.val(),(u=moment(c)).isValid()&&(p.fallbackSubmissionWindow.dueDate=c),l=h||!g.isValid()||!u.isValid()||!g.isSameOrBefore(u),t[1].checked?(f=i.val(),(d=moment(f)).isValid()&&(p.fallbackSubmissionWindow.hardDueDate=f),l=l||!d.isValid()||!u.isSameOrBefore(d)):delete p.fallbackSubmissionWindow.hardDueDate,l?$(".js-settingsTabSelectorTab[data-tab-id=section_management]").prop("disabled",!0):$(".js-settingsTabSelectorTab[data-tab-id=section_management]").prop("disabled",!1),n.length>0&&(n[1].checked?(v=Number.parseFloat(o.val()),Number.isFinite(v)&&!Number.isNaN(v)&&(p.fallbackSubmissionWindow.timeLimit=60*v)):delete p.fallbackSubmissionWindow.timeLimit)),window.fallbackSubmissionWindow=p.fallbackSubmissionWindow,ReactDOM.render(React.createElement(SectionsManagement,p),s[0])})(!0),c=[],a=0,l=s.length;a<l;a++)(d=s[a]).length>0?c.push(d.change(function(){return u()})):c.push(void 0);return c},M.assignments.displayVersionedAssignmentsAsChildRows=function(t){return $(".js-assignmentTableContainerRow").each(function(){var e,n,i,r;return r=$(this),i=t.api().row(r),n=r.data("assignment-container-id"),e=$(".js-assignmentTableAssignmentRow[data-assignment-container-id="+n+"]"),i.child(e).show()})},M.assignments.displaySectionsAsChildRows=function(t){return $(".js-assignmentTableAssignmentRow").each(function(){var e,n,i,r;return r=$(this),i=t.api().row(r),e=r.data("assignment-id"),n=$(".js-assignmentTableAssignmentSectionRow[data-assignment-id="+e+"]"),i.child(n).show()})},S=function(){return M.assignments.setupAssignmentActionsPopoverMenu(),$("#assignments-instructor-table.with-points:not(.blank)").DataTable({columns:[{},{},{orderData:[9,8],ariaTitle:pageContext().intl.formatMessage({id:"assignmentTable.releaseAndDueDate_sr",defaultMessage:"Release and due date in {timezone}"},{timezone:gon.timezone})},{},{orderData:[10]},{orderable:!1},{orderable:!1},{orderable:!1},{visible:!1},{visible:!1},{visible:!1}],order:[[2,"desc"]],dom:"t",paging:!1,drawCallback:function(){return M.assignments.displayVersionedAssignmentsAsChildRows(this),M.assignments.displaySectionsAsChildRows(this)}})},M.assignments.setupAssignmentActionsPopoverMenu=function(){return $(".js-assignmentTableAssignmentRow").each(function(){return new jBox("Tooltip",{attach:$(this).find(".js-toggleActionsPopoverMenu"),addClass:"jBox-wrapper-popover",content:$(this).find(".js-actionsPopoverMenu"),createOnInit:!0,closeOnClick:"body",closeOnMouseleave:!1,position:{x:"center",y:"bottom"},trigger:"click"})}),$(".js-assignmentTableContainerRow").each(function(){var t;if((t=$(this).find(".js-toggleActionsPopoverMenu")).length>0)return new jBox("Tooltip",{attach:t,addClass:"jBox-wrapper-popover",content:$(this).find(".js-actionsPopoverMenu"),createOnInit:!0,closeOnClick:"body",closeOnMouseleave:!1,position:{x:"center",y:"bottom"},trigger:"click"})})},M.assignments.setupSectionsRows=function(){return $(".js-assignmentSectionsButton").click(function(t){var e,n,i,r,o,a,s;return(e=$(t.currentTarget)).attr("aria-expanded",function(t,e){return"true"===e?"false":"true"}),a=e.attr("aria-expanded"),s=e.children().first(),i=(n=e.closest(".js-assignmentTableAssignmentRow")).find(".js-expandSectionDatesText"),r=n.data("assignment-id"),o=$(".js-assignmentTableAssignmentSectionRow[data-assignment-id="+r+"]"),"true"===a?(n.addClass("is-open"),i.hide(),s.removeClass("fa-chevron-down"),s.addClass("fa-chevron-up"),o.show()):(n.removeClass("is-open"),i.show(),s.removeClass("fa-chevron-up"),s.addClass("fa-chevron-down"),o.hide())})},k=function(){var t,e;return t=$("#duplicate-assignment-modal"),e=t.modal({onClose:function(){return t.find(".error-msg").remove(),t.find(".error").removeClass("error")}}),$(".js-duplicateAssignment").click(function(t){return t.preventDefault(),e.open()}),$(".js-expandCourse").attr("aria-expanded",!1),$(".js-expandCourse").click(function(t){var e;return(e=$(t.currentTarget)).toggleClass("treeSelectorNode-parent-is-expanded").attr("aria-expanded",function(t,e){return"false"===e?"true":"false"}),e.closest(".js-courseRow").find(".js-assignmentRow").toggle()}),$(".js-assignmentRow").toggle(!1),$(".js-selectAssignment").attr("aria-selected",!1),$(".js-selectAssignment").click(function(t){var e;return e=$(t.currentTarget),$(".js-selectAssignment").removeClass("treeSelectorNode-is-selected").attr("aria-selected",!1),e.addClass("treeSelectorNode-is-selected").attr("aria-selected",!0),$("#duplicate-btn").prop("disabled",!1),$("#assignment_id").val(e.data("assignment-id")),$("#assignment_container_id").val(e.data("assignment-container-id")),$("#assignment_title").val(e.text().trim())}),t.find(".tiiBtn-tertiary").click(function(t){return t.preventDefault(),e.close()}),e},T=function(){return $(".js-newAssignment").click(function(){return m()}),addEventListener("popstate",n),window.originalUrl=window.location.pathname,window.history.replaceState("assignments","Assignments","")},c=function(){var t;if(window.createAssignmentPageOpen)return window.createAssignmentPageOpen=!1,"create"===window.history.state&&(window.openAssignmentsPageBack=!0,window.history.back(),window.openAssignmentsPageBack=!1),t=$(".l-mainWrapper"),ReactDOM.unmountComponentAtNode(t[0]),t.html(window.prvdiv.children()),gon.createAssignmentProps.unclosable?($(".l-sidebar").css("pointer-events",""),$(".js-toggleSidebar").css("pointer-events","")):void 0},m=function(t){var e,n,i;if(null==t&&(t=!1),!window.createAssignmentPageOpen)return window.createAssignmentPageOpen=!0,e=$(".l-mainWrapper"),gon.createAssignmentProps.goBack=c,i=React.createElement(CreateAssignmentHot,gon.createAssignmentProps),(n=$("<div>")).hide(),n.append(e.children()),window.prvdiv=n,t||window.history.pushState("create","Create Assignment",gon.createAssignmentProps.urls.newAssignment),gon.createAssignmentProps.unclosable&&($(".l-sidebar").css("pointer-events","none"),$(".js-toggleSidebar").css("pointer-events","auto")),ReactDOM.render(i,e[0])},n=function(t){switch(t.state){case"assignments":if(c(),window.openAssignmentModalOnBack)return window.lmsAssignmentModal.open();break;case"create":if(window.openAssignmentModalOnBack&&window.lmsAssignmentModal.close(),!window.openAssignmentsPageBack)return m(!0)}},x=function(){var t,e,n,i,r,o,a;if((i=$(".js-linkLMSAssignmentModal")).length)return n=i.find("form"),o=$(".js-linkLMSAssignment"),r=$(".js-linkNewGradescopeAssignment"),e=$(".js-linkExistingGradescopeAssignment"),n.on("change",function(){var e,n;return n=r.prop("checked"),e=!!(null!=t?t.val():void 0),o.prop("disabled",!n&&!e)}),e.is(":disabled")||(t=$(".js-linkableAssignments").selectize({sortField:"text",onChange:function(){return e.prop("checked",!0)}})),window.lmsAssignmentModal=a=i.modal({closeOnOverlayClick:!1}),i.find(".js-closeModal").click(function(){return window.openAssignmentModalOnBack=!1,a.close()}),$(".js-linkLMSAssignment").on("click",function(){return r.prop("checked")?(a.close(),window.openAssignmentModalOnBack=!0,m()):gon.deep_link?window.location.href=t.val():$.ajax({url:t.val(),method:"post",data:{lms_id:gon.lms_assignment_id,name:gon.lms_assignment_name,lms_line_item_url:gon.lms_line_item_url},success:function(t){return location.href=t.redirect_to},error:function(t,e){if(e.responseJSON.redirect_to)return location.href=e.responseJSON.redirect_to}})}),a},M.assignments.validateDueDateFields=function(){var t;return(t=["#assignment_release_date_string","#assignment_due_date_string","#assignment_hard_due_date_string"]).forEach(function(e){return $(e).on("change",function(){return I(e,t)})})},M.assignments.setupDueDateFields=function(){return M.assignments.validateDueDateFields()},M.assignments.setUpTimeLimitField=function(){return $(".js-toggleTimeLimitField").on("click",function(){if(!D())return $(".js-enforceTimeLimit").prop("checked",!0),M.assignments.updateTimeLimit(),$(this).children("input").focus()}),$(".js-enforceTimeLimit").change(M.assignments.updateTimeLimit)},I=function(t,e){if(r()||"#assignment_hard_due_date_string"!==t)return $(t).valid()?e.forEach(function(t){return $(t).valid()}):void 0},M.assignments.validateAssignmentForm=function(){return $(".js-assignmentForm").validate({rules:{template_pdf:{extension:"pdf"},"assignment[title]":{required:!0,maxlength:255,uniqueTitleInCourse:function(){return gon.existing_assignment_titles}},"assignment[total_points]":{required:{depends:function(){return["ProgrammingAssignment","TextAssignment"].includes($("#assignment_type").val())}}},"assignment[release_date_string]":{required:{depends:function(){return $("#assignment_student_submission_true").is(":checked")}},dateIsSameOrBefore:function(){return[$("#assignment_due_date_string").val(),pageContext().intl.formatMessage({id:"validatorMessage.dueDate",defaultMessage:"due date"})]}},"assignment[due_date_string]":{required:{depends:function(){return $("#assignment_student_submission_true").is(":checked")}},dateIsSameOrBefore:function(){return[$("#assignment_hard_due_date_string").val(),pageContext().intl.formatMessage({id:"validatorMessage.lateDueDate",defaultMessage:"late due date"})]}},"assignment[hard_due_date_string]":{required:{depends:function(){return r()}},dateIsSameOrAfter:function(){return[$("#assignment_due_date_string").val(),pageContext().intl.formatMessage({id:"validatorMessage.dueDate",defaultMessage:"due date"})]}},"assignment[time_limit_in_minutes]":{required:{depends:function(){return D()}}}},submitHandler:function(t){return $(".js-assignmentForm input[type=submit]").attr("disabled",!0),t.submit()}})},M.assignments.requireTemplatePDF=function(){var t;if((t=$("form#new_assignment input[name=template_pdf]")).length)return t.rules("add","required")},s=function(){return M.assignments.setupDueDateFields(),M.assignments.setUpTimeLimitField(),A({first_time:!0}),$("input[name$='assignment[student_submission]']").change(function(){return A({first_time:!1})}),$("input[name='assignment[submission_type]']").change(function(){return A({first_time:!1})}),$("input[name$='assignment[group_submission]']").change(function(){return $("#assignment_group_submission").is(":checked")?($("#assignment_group_size").attr("disabled",null).removeClass("disabled"),$("#assignment_group_size").focus()):$("#assignment_group_size").attr("disabled","disabled").addClass("disabled")}),M.assignments.validateAssignmentForm(),M.assignments.requireTemplatePDF()},M.assignments.setUpCanvasOptions=function(){var t;if($(".js-openLinkCanvasAssignmentModal").click(h),$(".js-unlinkCanvasAssignment").click(function(){return $.ajax({url:gon.canvasAssignmentLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Canvas assignment.")}}),!1}),null!=(t=window.gon)?t.showLinkCanvasAssignmentModal:void 0)return h()},h=function(){var t,e;return t=$(".js-canvasAssignmentModalTarget"),e={initialAssignmentId:gon.canvasAssignmentId,assignmentListUrl:gon.listCanvasAssignmentsUrl,createCanvasLinkUrl:gon.canvasAssignmentLinkUrl,ourAssignmentName:$(".js-assignmentName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkCanvasAssignmentModal,e),t[0])},M.assignments.setUpBlackboardOptions=function(){var t;if($(".js-openLinkBlackboardAssignmentModal").click(d),$(".js-unlinkBlackboardAssignment").click(function(){return $.ajax({url:gon.blackboardAssignmentLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Blackboard assignment.")}}),!1}),null!=(t=window.gon)?t.showLinkBlackboardAssignmentModal:void 0)return d()},d=function(){var t,e;return t=$(".js-blackboardAssignmentModalTarget"),e={initialAssignmentId:gon.blackboardAssignmentId,assignmentListUrl:gon.listBlackboardAssignmentsUrl,createBlackboardLinkUrl:gon.blackboardAssignmentLinkUrl,ourAssignmentName:$(".js-assignmentName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkBlackboardAssignmentModal,e),t[0])},M.assignments.setUpBrightspaceOptions=function(){var t;if($(".js-openLinkBrightspaceAssignmentModal").click(f),$(".js-unlinkBrightspaceAssignment").click(function(){return $.ajax({url:gon.brightspaceAssignmentLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Brightspace assignment.")}}),!1}),null!=(t=window.gon)?t.showLinkBrightspaceAssignmentModal:void 0)return f()},f=function(){var t,e;return t=$(".js-brightspaceAssignmentModalTarget"),e={initialAssignmentId:gon.brightspaceAssignmentId,assignmentListUrl:gon.listBrightspaceAssignmentsUrl,createBrightspaceLinkUrl:gon.brightspaceAssignmentLinkUrl,ourAssignmentName:$(".js-assignmentName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkBrightspaceAssignmentModal,e),t[0])},M.assignments.setUpSakaiOptions=function(){var t;if($(".js-openLinkSakaiAssignmentModal").click(g),$(".js-unlinkSakaiAssignment").click(function(){return $.ajax({url:gon.sakaiAssignmentLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Sakai assignment.")}}),!1}),null!=(t=window.gon)?t.showLinkSakaiAssignmentModal:void 0)return g()},g=function(){var t,e;return t=$(".js-sakaiAssignmentModalTarget"),e={initialAssignmentId:gon.sakaiAssignmentId,assignment:gon.assignment,assignmentListUrl:gon.listSakaiAssignmentsUrl,createNewGradebookItemUrl:gon.createNewGradebookItemUrl,createSakaiLinkUrl:gon.sakaiAssignmentLinkUrl,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkSakaiAssignmentModal,e),t[0])},M.assignments.setUpMoodleOptions=function(){var t;if($(".js-openLinkMoodleAssignmentModal").click(p),$(".js-unlinkMoodleAssignment").click(function(){return $.ajax({url:gon.moodleAssignmentLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Moodle assignment.")}}),!1}),null!=(t=window.gon)?t.showLinkMoodleAssignmentModal:void 0)return p()},p=function(){var t,e;return t=$(".js-moodleAssignmentModalTarget"),e={initialAssignmentId:gon.moodleAssignmentId,assignmentListUrl:gon.listMoodleAssignmentsUrl,createMoodleLinkUrl:gon.moodleAssignmentLinkUrl,editAccountUrl:gon.editAccountUrl,ourAssignmentName:$(".js-assignmentName").val(),onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkMoodleAssignmentModal,e),t[0])},M.assignments.handleBulkDefaultSettings=function(){var t;return t=$("#update_existing_questions").data("all-questions-settings"),$("input[name='assignment[scoring_type]'], #assignment_ceiling, #assignment_floor").on("change",function(){return[$("input[name='assignment[scoring_type]']:checked").val(),$("#assignment_ceiling").is(":checked"),$("#assignment_floor").is(":checked")].toString()===t.toString()?($("#update_existing_questions").attr("disabled",!0),$("label[for=update_existing_questions]").addClass("disabled"),$("#applyToAllQuestionsNote").removeClass("is-hidden")):($("#update_existing_questions").attr("disabled",!1),$("label[for=update_existing_questions]").removeClass("disabled"),$("#applyToAllQuestionsNote").addClass("is-hidden"))})},i=function(){var t,e,n,i;if(0!==(n=$(".js-replaceTemplateWarning")).length)return t=$(".js-replaceTemplate"),e=t.siblings(".js-fileUploadPrompt"),i=t.data("filename"),t.on("change",function(){return n.removeClass("is-hidden")}),$(".js-undoReplacedTemplate").on("click",function(r){return r.preventDefault(),t.val(""),e.html(i),n.addClass("is-hidden")})},M.assignments.setupDeleteAssignmentModal=function(){var t,e;return t=$(".js-deleteAssignmentModal"),e=t.modal({closeOnOverlayClick:!1}),$(".js-deleteAssignmentButtonForModal").on("click",function(t){return t.preventDefault(),e.open()}),t.find(".tiiBtn-tertiary").on("click",function(t){return t.preventDefault(),e.close()}),C(),$(".js-deleteAssignmentButton").hide(),t.find("input[type=checkbox]").on("change",function(){var e,n;return n=t.find("input[type=checkbox]:checked"),e=t.find("input[type=checkbox]"),n.length===e.length?($(".js-deleteAssignmentDisabledButton").hide(),$(".js-deleteAssignmentButton").show()):($(".js-deleteAssignmentDisabledButton").show(),$(".js-deleteAssignmentButton").hide())}),e},C=function(){return new jBox("Tooltip",{addClass:"jBox-wrapper-popover",attach:$(".js-deleteAssignmentDisabledButton"),position:{x:"center",y:"bottom"},width:300,offset:{y:4},content:$(".js-deleteAssignmentWarning"),hasInteractiveContent:!1})},M.assignments.setupAssignmentDeleteButton=function(){var t;return t=new jBox("Tooltip",{addClass:"jBox-wrapper-popover",attach:$(".js-deleteAssignmentButtonForPopover"),position:{x:"center",y:"bottom"},width:300,offset:{y:4},content:$("#assignment-delete-button-tooltip"),trigger:"click",closeOnClick:"body",closeOnMouseleave:!1}),$("#assignment_manual_grading:disabled")&&new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",attach:$("#assignment_manual_grading:disabled").closest(".form--choice"),trigger:"mouseenter",closeOnMouseleave:!0,position:{x:"center",y:"bottom"},content:$(".js-manualGradingTooltip")}),$("#assignment-delete-button-cancel").on("click",function(){return t.close()})},A=function(t){var e,n;return e=$("#assignment_student_submission_false").is(":checked"),n=$("#assignment-form-dates-and-submission-format"),e?t.first_time?n.hide():n.slideUp():(t.first_time?n.show():n.slideDown(),"online"===$("input[name='assignment[submission_type]']:checked").val()?t.first_time?$("form#new_assignment .fileUpload").hide():$("form#new_assignment .fileUpload").slideUp():t.first_time?$("form#new_assignment .fileUpload").show():$("form#new_assignment .fileUpload").slideDown())},r=function(){return $("#allow_late_submissions").is(":checked")||$("#assignment_allow_late_submissions").is(":checked")},M.assignments.updateHardDueDate=function(){var t;return r()?(t=$("#assignment_due_date_string").val(),$("#assignment_hard_due_date_string").attr("disabled",!1).attr("readOnly",!0).removeClass("disabled").val(t).attr("readOnly",!1),$("label[for$='assignment_hard_due_date_string']").attr("disabled",!1).removeClass("disabled")):($("#assignment_hard_due_date_string").attr("disabled",!0).addClass("disabled").val(null).removeClass("valid"),$("label[for$='assignment_hard_due_date_string']").attr("disabled",!0).addClass("disabled").removeClass("valid"))},D=function(){return $(".js-enforceTimeLimit").is(":checked")},M.assignments.updateTimeLimit=function(){var t;return t=!D(),$(".js-toggleTimeLimitField > input").attr("disabled",t),t&&$(".js-toggleTimeLimitField > input").val(null),$(".js-toggleTimeLimitField > label").toggleClass("disabled",t)},e=function(t,e,n){return"<div>\n  "+t+"<br /><br />\n  <a href='"+n+"' target='_blank' rel='noopener noreferrer' class='link link-bold link-noUnderline'>\n    "+e+"\n    <i class='fa fa-external-link' role='img' aria-hidden='true'></i>\n  </a>\n</div>"},M.assignments.setUpStatisticsTooltips=function(){var t,n,i,r,o,a,s,l;return n=pageContext().intl.formatMessage({id:"common.learnMore",defaultMessage:"Learn More"}),t="https://help.gradescope.com/article/gkwvq606fq-instructor-assignment-bubble-sheets#statistics",r=pageContext().intl.formatMessage({id:"assignmentStatistics.reliabilityTooltip_html",defaultMessage:"The reliability score uses Cronbach's Alpha to measure the likelihood that the assignment's achieved grades reflect the students' subject knowledge. A reliable score usually falls <strong>between 0.50 and 0.95</strong>."}),i=e(r,n,t),new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",attach:$(".js-alphaTooltip"),closeOnClick:"body",content:i,position:{x:"center",y:"bottom"},trigger:"click",width:400}),a=pageContext().intl.formatMessage({id:"assignmentStatistics.stdDevTooltip_html",defaultMessage:"<strong>Standard Deviation</strong> illustrates how individual students' grades vary compared to the assignment's average. Lower standard deviation scores would indicate that student grades are clustered closer to the recorded mean as opposed to being more spread out."}),o=e(a,n,t),new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",attach:$(".js-stdDevTooltip"),closeOnClick:"body",content:o,position:{x:"center",y:"bottom"},trigger:"click",width:250}),l=pageContext().intl.formatMessage({id:"assignmentStatistics.stdErrorTooltip_html",defaultMessage:"The <strong>standard error of measurement (SEM)</strong> assesses the assignment's precision. Using the assignment's standard deviation value, an SEM is calculated to determine the student's highest and lowest hypothetical grade by + or - the SEM from their achieved grade. Lower value SEMs indicate the assignment may be more reliable."}),s=e(l,n,t),new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",attach:$(".js-stdErrorTooltip"),closeOnClick:"body",content:s,position:{x:"center",y:"bottom"},trigger:"click",width:250})},M.assignments.grade=function(){var t,e;if(t=document.querySelector(".js-gradeByCourseSections"))return e=function(n){var i;return i={isOpen:n,onCancel:function(){return e(!1)},showAIAssistedGradingAndSectionsMsg:gon.showAIAssistedGradingAndSectionsMsg,sections:gon.sections,questions:gon.questions,courseId:gon.course_id},ReactDOM.render(React.createElement(GradeByCourseSectionsModal,i),t)},$(".js-gradeByCourseSectionsButton").on("click",function(){return e(!0)}),e(!1)},M.assignments.review_grades=function(){var e;if(M.assignments.setUpStatisticsTooltips(),M.assignments.setupPostGradesToLTIv1p1Modal(),w(),M.assignments.setUpNotifyStudentsModal(),M.assignments.initDownloadGradesTooltip(),M.assignments.renderReviewGradesChart(),M.assignments.setUpBinSizeSecretHotkey(),new t(gon.generated_file,gon.generated_file_path,gon.create_bulk_export_path).attachHandlers(),(e=$(".gradingSurvey")).length)return new GradingSurvey(e)},M.assignments.setUpBinSizeSecretHotkey=function(){return key("ctrl+shift+b",function(){var t;return t=prompt("Please enter the desired number of bins",10),gon.num_bins=parseInt(t),$(".reviewGrades--chart svg").remove(),M.assignments.renderReviewGradesChart()})},w=function(){var t,e,n,i,r;return t=$(".js-reviewGradesTable"),M.course_memberships.setupSwapButtons(t),i=0,e=(n=$(".js-lastFirstName").length>0)?4:3,r=n?5:4,$(".js-sections").length>0&&(e++,r++),t.DataTable({order:[[e,"desc"],[r,"desc"],[i,"asc"]],dom:"f<t>",autoWidth:!1,paging:!1,columnDefs:[{targets:["js-lastFirstName"],visible:!1}]})},M.assignments.setUpNotifyStudentsModal=function(){var t;return t=$(".js-notifyStudentsModal").modal(),$(".js-notifyStudentsModal .js-closeModal").click(function(){return t.close()}),$(".js-notifyStudents").on("click",function(e){return e.preventDefault(),t.open()}),$(".js-notifyStudentsModal form").on("submit",function(){return $(".js-notifyStudentsModal input[type=submit]").attr("disabled",!0)})},M.assignments.renderReviewGradesChart=function(){var t,e,n,i,r,o,a,s,l,u,c,d,f,h,p,g,m;if("undefined"!=typeof gon&&null!==gon?gon.any_graded_submissions:void 0)return n=d3.format(",.0f"),r={top:20,right:10,bottom:40,left:10},d=parseInt(d3.select(".js-reviewGradesChart").style("width")),i=250-r.top-r.bottom,p=gon.assignment_max_score_possible,parseFloat(p)||(p=Math.max.apply(null,gon.chart_data)),h=[0,p],g=d3.scale.linear().domain(h).range([0,d]),o=Math.max(2,gon.num_bins),c=g.ticks(o),u=d3.scale.linear().domain([0,_.last(c)]).range(h),a=_.map(c,function(t){return u(t)}),e=d3.layout.histogram().bins(a)(gon.chart_data),m=d3.scale.linear().domain([0,d3.max(e,function(t){return t.y})]).range([i,0]),f=d3.svg.axis().scale(g).orient("bottom"),(l=d3.select(".reviewGrades--chart").append("svg").attr("width",d+r.left+r.right).attr("height",i+r.top+r.bottom)).append("title").text(pageContext().intl.formatMessage({id:"reviewGrades.histogram.title_sr",defaultMessage:"Histogram of score distribution"})),(t=(s=l.append("g").attr("transform","translate("+r.left+","+r.top+")")).selectAll(".bar").data(e).enter().append("g").attr("class","bar").attr("transform",function(t){return"translate("+g(t.x)+","+m(t.y)+")"})).append("rect").attr("x",1).attr("width",g(e[0].dx)-1).attr("height",function(t){return i-m(t.y)}),t.append("text").attr("dy",".75em").attr("y",-20).attr("x",g(e[0].dx)/2).attr("text-anchor","middle").text(function(t){return n(t.y)}),s.append("g").attr("class","x axis").attr("transform","translate(0,"+i+")").call(f)},
M.assignments.setupPostGradesToLTIv1p1Modal=function(){var t,e,n,i,r,o;if((t=$(".js-postGradesToLTIv1p1Modal")).length)return n=t.find(".js-postGradesToLTIv1p1"),e=t.find(".progressBar"),o=t.find("form").attr("action"),b(t),r=n.prop("disabled"),n.prop("disabled",r),n.on("click",function(){return n.prop("disabled",!0),e.show(),$.ajax({method:"post",url:o,success:function(t){return v(t.jid,a)}})}),i=t.modal(),$(".js-openPostGradesToLTIv1p1Modal").click(i.open),t.find(".js-closeModal").click(i.close)},v=function(t,e){return $.ajax({url:gon.ltiv1p1JobStatusUrl,dataType:"json",data:{jid:t},success:function(n){return e(t,n)}})},a=function(t,e){if(!e.failed)return e.percent_complete&&y(e.percent_complete),e.complete?u():setTimeout(function(){return v(t,a)},5e3);l(t,e)},l=function(t,e){var n;return bugsnagClient.notify({name:"PostGradesToLTIv1p1Error",message:"Post grades failed."},{severity:"error",metaData:{jid:t,data:e}}),n="Error posting grades to "+gon.ltiv1p1LMSName+". Please try again. If the problem persists, contact help@gradescope.com.",alert(n),$(".js-postGradesToLTIv1p1Modal").find(".js-postGradesToLTIv1p1").prop("disabled",!1)},y=function(t,e){var n,i,r;if(i=(r=$(".js-postGradesToLTIv1p1Modal")).find(".progressBar--fill"),n=r.find(".progressBar--caption"),i.css("width",t+"%"),e)return n.html(e)},b=function(t){return t.find(".progressBar").hide(),y(0,'<i class="fa fa-spin fa-spinner"></i> Posting grades...')},u=function(){var t,e,n,i;return t=$(".js-postGradesToLTIv1p1Modal"),e=$(".js-openPostGradesToLTIv1p1Modal"),n=t.find(".js-postGradesToLTIv1p1"),i="<i class='fa fa-check'></i> Grades successfully posted to "+gon.ltiv1p1LMSName+"!",y(100,i),e.one("click",function(){return b(t),n.prop("disabled",!1)})},M.assignments.setUpLmsIdTooltips=function(){return $(".lmsResource").each(function(t,e){var n,i;if(i=$(".lmsResource").eq(0).data("lms-id"))return n=$("<div class='type-body'>LMS ID: "+i+"</div>"),new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",attach:$(e),position:{x:"center",y:"bottom"},content:n,trigger:"click",closeOnClick:"body",hasInteractiveContent:!1})})},M.assignments.statistics=function(){var t,e,n,i,r,o;return M.assignments.drawAssignmentStatisticsGraph=function(t,n,i,o,a,s,l,u){var c,d,f,h,p,g;return c=36-22,f={onRectMouseOver:function(e){var n,i,o,l;if(o=e.e.srcElement||e.e.originalTarget,l=e.point[0],n=e.value,l.values&&(n=l.values[0][1],l=l.values[0][0]),$(o).svgAddClass("hover"),!$(o).svgHasClass("selected")&&(i=r(t,o,l,n,a,s),$(o).svgHasClass("sibling-selected")))return $(i).svgAddClass("statisticsChartLabel-is-siblingSelected")},onRectMouseOut:function(){return $(t).find("rect").each(function(){return $(this).svgRemoveClass("hover")}),$(t).find(".js-statisticsChartLabel").each(function(){if(!$(this).hasClass("statisticsChartLabel-is-siblingSelected"))return $(this).remove()})},onRectMouseClick:function(n,i,r){var o,u,c;return n.e.stopPropagation(),o=n.e.srcElement||n.e.originalTarget,(u=n.point[0]).values&&(u.values[0][1],u=u.values[0][0]),c=[],r.getSiblings(u).forEach(function(t){return c.push(i[t])}),l(u),e(t,o,u,c,a,s)},onFullChartClick:function(){var e;return null!==u()&&($(t).find("rect").each(function(){return $(this).svgRemoveClass("selected"),$(this).svgRemoveClass("statisticsChartLabel-is-siblingSelected")}),$(".js-statisticsChartLabel").remove(),e=document.body.scrollTop,document.body.scrollTop=e),l(null)},onLoad:function(n,i){var r,o;if(o=u(),parseFloat(o))return(r=n[o])?setTimeout(function(){var l;return l=[],i.getSiblings(o).forEach(function(t){return l.push(n[t])}),e(t,r,o,l,a,s)},1):alert("The question you tried to highlight does not exist.")}},d={xAxis:pageContext().intl.formatMessage({id:"assignmentStatistics.axisLabels.question",defaultMessage:"Question"})},p={chartHeight:285,containerPadding:c,fadeOnHover:!0,yAxisTickValues:[0,20,40,60,80,100]},g=$(t).find("svg"),h=new DiscreteBarChart(g[0],[{key:"data",values:n}],f,d,p),g.height(285),g.width($(t).width()-c),i&&h.showMeanLine(t,g,o),h},M.assignments.drawTagStatisticsGraph=function(t,e,i,r){var a,s,l,u,c,d;return a=36-22,l={onRectMouseOver:function(e){var n,i,r;if(i=e.e.srcElement||e.e.originalTarget,r=e.point[0],n=e.value,r.values&&(n=r.values[0][1],r=r.values[0][0]),$(i).svgAddClass("hover"),!$(i).svgHasClass("selected"))return o(t,i,r,n)},onRectMouseOut:function(){return $(t).find("rect").each(function(){return $(this).svgRemoveClass("hover")}),$(t).find(".js-statisticsChartTagInformation").each(function(){if(!$(this).hasClass("statisticsChartLabel-is-selected"))return $(this).remove()})},onRectMouseClick:function(i){var o,a;return o=i.e.srcElement||i.e.originalTarget,(a=i.point[0]).values&&(a.values[0][1],a=a.values[0][0]),r(a),n(t,o,a,e)},onFullChartClick:function(){return $(t).find("rect").each(function(){return $(this).svgRemoveClass("selected")}),$(t).find(".js-statisticsChartTagInformation").remove(),r(null)},onLoad:function(r){var o,a;if(a=i())return(o=r[unescape(a)])?n(t,o,unescape(a),e):alert("The tag you tried to select does not exist.")}},s={xAxis:pageContext().intl.formatMessage({id:"assignmentStatistics.axisLabels.tag",defaultMessage:"Tag"})},c={chartHeight:285,containerPadding:a,staggerLabels:!0,handleOverlap:!0,fadeOnHover:!0,yAxisTickValues:[0,20,40,60,80,100]},d=$(t).find("svg"),u=new DiscreteBarChart(d[0],[{key:"data",values:e}],l,s,c),$(t).height(290),d.height(290),d.width($(t).width()-a),u},e=function(e,n,i,o,a,s){var l,u,c;if(u=t(i),c=a[i],l=100*s.questions[c].mean,!$(n).svgHasClass("selected")&&($(e).find("rect.nv-bar.positive.selected").each(function(){return $(this).svgRemoveClass("selected")}),$(e).find("rect.sibling-selected").each(function(){return $(this).svgRemoveClass("sibling-selected")}),$(n).svgAddClass("selected"),$(".js-statisticsQuestion-"+u+" .js-statisticsTitle").addClass("statisticsItem--title-is-selected"),$(".js-statisticsQuestion-"+u+" .js-statisticsPoints").addClass("statisticsItem--points-is-selected"),0===$(e).find(".js-statisticsChartLabel").length&&r(e,n,i,l,a,s),$(e).find(".js-statisticsChartLabel.statisticsChartLabel-is-selected").remove(),$(e).find(".js-statisticsChartLabel:not(.statisticsChartLabel-is-selected)").addClass("statisticsChartLabel-is-selected"),o))return o.forEach(function(t){return $(t).svgAddClass("sibling-selected")})},n=function(t,e,n,i){var r,a;if(r=(_.find(i,function(t){return t[0]===n})||[])[1],!$(e).svgHasClass("selected"))return $(t).find("rect.selected").each(function(){return $(this).svgRemoveClass("selected")}),$(e).svgAddClass("selected"),$(t).find(".js-statisticsChartTagInformation").remove(),a=o(t,e,n,r),$(a).addClass("statisticsChartLabel-is-selected")},function(t){var e,n;return e=parseInt($(t).attr("data-question-id")),n=window.location.href.slice(0,window.location.href.indexOf("assignments/"))+"questions/"+e+"/save_tags",$(".js-questionTag-"+e).selectize({persist:!1,create:function(t){return{value:t,text:t}},onItemAdd:function(t){return persistAddTag(n,t),showRefreshTagsNotification()},onItemRemove:function(t){return persistRemoveTag(n,t),showRefreshTagsNotification()},dropdownParent:"body"})},r=function(t,e,n,r,o,a){var s,l,u,c,d;return u=o[n],d=a.questions[u].weight,c=parseFloat(d)>0?Math.round(r,-1):"n/a",l=pageContext().intl.formatMessage({id:"assignmentStatistics.chartLabels.mean",defaultMessage:"Mean"}),s=$("<div id='question-"+n+"-information' class='statisticsChartLabel js-statisticsChartLabel "+Math.random()+"'> <span class='statisticsChartLabel--questionTitle'>Question "+n+"</span> <div class='statisticsChartLabel--barDetails'> <span class='statisticsChartLabel--barDetailNumber'>"+c+"%</span> <span class='statisticsChartLabel--barDetailLabel'>"+l+"</span> </div> </div>").hide(),$(t).append(s),i(t,s,e,r),$(s).show(),s},o=function(t,e,n,r){var o,a,s;return s=Math.round(r,-1),a=pageContext().intl.formatMessage({id:"assignmentStatistics.chartLabels.mean",defaultMessage:"Mean"}),o=$("<div id='tag-"+n+"-information' class='statisticsChartLabel js-statisticsChartTagInformation'> <span class='statisticsChartLabel--questionTitle'>"+n+"</span> <div class='statisticsChartLabel--barDetails'> <span class='statisticsChartLabel--barDetailNumber'>"+s+"%</span> <span class='statisticsChartLabel--barDetailLabel'>"+a+"</span> </div> </div>").hide(),$(t).append(o),i(t,o,e,r),$(o).show(),o},i=function(t,e,n,i){var r,o,a,s,l,u,c;return r=$(n).offset(),l=$(t).offset(),o=(s=r.top+parseFloat($(n).attr("height")))-i/100*(s-$(t).find("svg").offset().top),c=$(e).width()-$(n).attr("width"),a=0,i<75&&(a+=5),i<50&&(a+=5),i<25&&(a+=15),u=8,e.css({position:"absolute",top:o-l.top-$(e).height()-a,left:r.left-l.left-c/2-u})},t=function(t){return t.toString().replace(".","\\.")},function(t){return+parseFloat(100*t).toFixed(2)+"%"}},M.assignments.statistics(),M.pdf_assignments=M.assignments,M.bubble_sheet_assignments=M.assignments,M.assignments.initDownloadGradesTooltip=function(){var t;return t=new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",attach:$(".js-downloadGradesTooltipLink"),content:$(".js-downloadGradesTooltipContent"),constructOnInit:!0,createOnInit:!0,closeOnClick:"body",closeOnMouseleave:!1,position:{x:"center",y:"top"},trigger:"click",zIndex:10001}),$(t.attachedElements).on("click",function(e){return e.stopImmediatePropagation(),t.position({target:this})})},o=function(){var t,e;return t=$(".js-linkVersionedAssignmentsModalTarget"),e={assignments:gon.unversioned_assignments,assignmentContainersPath:gon.assignment_containers_path,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkAssignmentVersionsModal,e),t[0])},t=function(){function t(t,e,n){this.openBulkExportModal=j(this.openBulkExportModal,this),this.checkExportFileProgress=j(this.checkExportFileProgress,this),this.updateExportFileProgress=j(this.updateExportFileProgress,this),this.progressText=j(this.progressText,this),this.jsonUrl=j(this.jsonUrl,this),this.zipUrl=j(this.zipUrl,this),this.attachHandlers=j(this.attachHandlers,this),this.generatedFile=t||{},this.bulkExportModal=$(".js-bulkExportModal").modal(),this.generatedFilePath=e,this.createBulkExportPath=n}return t.prototype.attachHandlers=function(){return $(".js-bulkExport").on("click",this.openBulkExportModal),null!=queryParams().open_export_modal&&$(".js-bulkExport").click(),$(".js-bulkExportModal").find(".js-closeModal").click((t=this,function(){return t.bulkExportModal.close()}));var t},t.prototype.zipUrl=function(){return this.generatedFilePath.replace("generated_file_id",this.generatedFile.id)+".zip"},t.prototype.jsonUrl=function(){return this.generatedFilePath.replace("generated_file_id",this.generatedFile.id)+".json"},t.prototype.progressText=function(){var t,e;switch(e=100*this.generatedFile.progress){case 0:t="Starting...";break;case 90:t="Zipping submissions...";break;case 98:t="Uploading...";break;default:t="Exporting submissions..."}return t+" ("+e.toFixed(0)+"%)"},t.prototype.updateExportFileProgress=function(t){var e,n;return this.generatedFile=t,n=100*this.generatedFile.progress,$(".js-bulkExportProgress .progressBar--fill").css("width",n+"%"),$(".js-bulkExportProgress .progressBar--caption").html(this.progressText()),"completed"===t.status?((e=$(".js-bulkExportModalDownload")).attr("href",this.zipUrl()),e.removeClass("disabled"),$(".js-bulkExportProgress").hide()):setTimeout(this.checkExportFileProgress,5e3)},t.prototype.checkExportFileProgress=function(){return $.ajax(this.jsonUrl(),{method:"GET",success:this.updateExportFileProgress})},t.prototype.openBulkExportModal=function(){return this.bulkExportModal.open(),null==this.generatedFile.id?$.ajax(this.createBulkExportPath,{method:"POST",success:(t=this,function(e){return t.generatedFile.id=e.generated_file_id,setTimeout(t.checkExportFileProgress,1e3)}),error:function(t){return function(e){var n;if(401===e.status&&(n=(e.responseJSON||{}).error))return t.bulkExportModal.close(),alert(n)}}(this)}):"completed"!==this.generatedFile.status?setTimeout(this.checkExportFileProgress,1e3):void 0;var t},t}()}.call(this),function(){var t;(t=window.site).contact=new Object,t.contact.sales=function(){return t.contact.validateSalesForm()},t.contact.validateSalesForm=function(){return $(".js-salesForm").validate({rules:{email:{required:!0,stricterEmail:!0},full_name:"required",message:"required"},invalidHandler:function(){return ga("send",{hitType:"event",eventCategory:"pricing",eventAction:"contact us failure",eventLabel:"send message"})},submitHandler:function(t){return t.submit()}})}}.call(this),function(){var t,e,n,i,r={}.hasOwnProperty,o=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};(n=window.site).course_memberships=new Object,e=function(){var t;return(t=$(".js-editMembershipModal")).modal(),t.find(".js-closeModal").on("click",t.modal().close),$(".rosterCell--editIcon, .rosterCell--editColumnIcon").click(function(){var e,n,i,r,o,a,s,l,u,c,d,f,h,p;for(l in t.find("input[type=text]").val(""),t.modal().open(),d=(r=$(this).data()).cm,c=r.role,f=r.sections,i=r.action,t.find("form").attr("action",i),e=$("#course_membership_full_name"),n=$("#course_membership_first_name, #course_membership_last_name"),null!==d.first_name&&null!==d.last_name?(e.parent().hide(),e.prop("disabled",!0),n.parent().show(),n.prop("disabled",!1)):(e.parent().show(),e.prop("disabled",!1),n.parent().hide(),n.prop("disabled",!0)),d)if(p=d[l],$("#course_membership_"+l).val(p),"data"===l)for(o in p)a=p[o],$(("#course_membership_data_"+o).replace(/\s/g,"_")).val(a);if(r.lmsUserId&&$("#course_membership_lms_user_id").val(r.lmsUserId),(s=$("#course_membership_user_email")).val(r.email),r.loggedIn?(s.attr("disabled","disabled"),s.attr("title",pageContext().intl.formatMessage({id:"courseMemberships.cannotChangeEmail",defaultMessage:"This user has logged in at least once, so you cannot change their email address.  Please ask them to change it themselves, or email 'help@gradescope.com' if they cannot access their account anymore."}))):(s.removeAttr("disabled"),s.removeAttr("title")),h=document.querySelector(".js-sectionSelectorTarget"))return u={sections:gon.sections,defaultSections:f,disabled:0!==c&&0===f.length},ReactDOM.unmountComponentAtNode(h),ReactDOM.render(React.createElement(SectionsSelect,u),h)})},t=function(){var t,e;return t=$(".js-courseRecordModal"),e=t.modal(),$(".js-rosterName").click(function(n){var i,o,a;return i=$(n.target),a=i.data("url"),o=i.data("name"),$.get(a,function(n){var i,s,l,u,c,d,f,h,p,g;if(t.find("h1").text(pageContext().intl.formatMessage({id:"courseMemberships.studentGrades",defaultMessage:"{name}'s Grades"},{name:o})),0===n.length)t.find(".modal--body").html(pageContext().intl.formatMessage({id:"courseMemberships.noSubmissions_html",defaultMessage:"<p>This student doesn't have any submissions for this course.</p>"}));else{for(c in l=$("<table>").addClass("table"),u=$("<thead>"),i=$("<tr>"),f=pageContext().intl.formatMessage({id:"courseMemberships.courseRecordModal.assignmentName",defaultMessage:"Assignment Name"}),p=pageContext().intl.formatMessage({id:"courseMemberships.courseRecordModal.score",defaultMessage:"Score"}),i.append([$("<th>").html(f),$("<th>").html(p)]),u.append(i),l.append(u),n)r.call(n,c)&&(d=n[c],s=$("<tr>"),a=d.assignment.submission.url,g=$("<a href="+a+">"+d.assignment.title+"</a>"),h=d.assignment.submission.score+"/"+d.assignment.total_points,s.append([$("<td>").addClass("table--primaryLink").html(g),$("<td>").html(h)]),l.append(s));t.find(".modal--body").html(l)}return e.open()})})},n.course_memberships.setupSwapButtons=function(t){return $(".js-swapNameColumns").click(function(e){return e.stopPropagation(),i(t)})},i=function(t){var e,n,i;return i=(n=(e=t.DataTable()).column(".js-lastFirstName").visible())?0:1,n?(e.column(".js-firstLastName").visible(!0,!1),e.column(".js-lastFirstName").visible(!1,!1)):(e.column(".js-firstLastName").visible(!1,!1),e.column(".js-lastFirstName").visible(!0,!1)),e.order([i,"asc"]).columns.adjust().draw(!1)},n.course_memberships.index=function(){var i,r,a,s,l,u,c,d,f,h,p,g,m,v,b,y,x,w,C,k,S,T,M,D,A,I,j,F,E,O,P,L,N,B,R,z,H,U,q,W,V,Y,X,G,Z,K,J,Q,tt,et,nt,it,rt,ot,at,st,lt,ut,ct,dt,ft,ht,pt,gt,mt,vt,bt,yt,xt,wt,_t,Ct,kt,St,Tt,Mt,Dt,At,It,jt,$t,Ft,Et,Ot,Pt,Lt,Nt,Bt,Rt,zt,Ht,Ut,qt,Wt,Vt,Yt,Xt,Gt,Zt,Kt,Jt,Qt,te,ee,ne,ie,re,oe,ae,se,le,ue,ce;for(Mt=new QueryParamsRouter,e(),t(),new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",attach:$(".js-sectionInfo"),content:$(".js-sectionInfoTooltip"),closeOnMouseleave:!1,width:300}),Nt=null,lt=null,dt=null,ut=null,gt=null,st=null,Zt=null,zt=null,n.course_memberships.filteredSections=[],new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",attach:$(".js-entryCodeTooltipLink"),content:$(".js-entryCodeTooltip"),hasInteractiveContent:!1}),b=$(".js-rosterTable"),z=$(".js-sidebarRoster"),C=$(".js-rosterRoleFilter"),w=$(".js-rosterFilterOption"),F=$(".js-roleCounts"),Lt=function(){var t,e,n,i;for(i=[],t=0,e=(n=gon.role_names).length;t<e;t++)Ot=n[t],i.push(0);return i}(),pt=0,mt=(At=b.find("select")).length;pt<mt;pt++)Rt=At[pt],Lt[Rt.value]++;if($.fn.dataTableExt.afnFiltering.push(function(t,e,i){var r,o,a,s;switch(w.val()){case"role":return r=C.val(),o=$(".js-rosterRoleCell select",t.aoData[i].nTr).val(),!r||r===o;case"section":switch(s=$(".js-editButtonCell button",t.aoData[i].nTr).data("sections"),a=s.map(function(t){return t.name}),Mt.getCurrentParams().operation){case"and":return 0===n.course_memberships.filteredSections.length||_.all(n.course_memberships.filteredSections,function(t){return a.includes(t)});case"nand":return 0===n.course_memberships.filteredSections.length||!_.all(n.course_memberships.filteredSections,function(t){return a.includes(t)});case"exact":return n.course_memberships.filteredSections.length===a.length&&_.all(n.course_memberships.filteredSections,function(t){return a.includes(t)})&&_.all(a,function(t){return n.course_memberships.filteredSections.includes(t)});case"nor":return 0===n.course_memberships.filteredSections.length||!_.any(n.course_memberships.filteredSections,function(t){return a.includes(t)});default:return 0===n.course_memberships.filteredSections.length||_.any(n.course_memberships.filteredSections,function(t){return a.includes(t)})}}}),n.course_memberships.setupSwapButtons(b),Bt=b.dataTable({paging:!1,sortable:!0,dom:"lf<t>",columnDefs:[{targets:["js-noSort"],sortable:!1},{targets:["js-lastFirstName"],visible:!1}]}),ot=(at=Mt.getCurrentParams()).filter||"role")switch(w.val(ot),ot){case"role":C.val(at.role);break;case"section":n.course_memberships.filteredSections=at.sections||[]}if((Qt=document.querySelector(".js-rosterSectionsFilterTarget"))&&(Tt={sectionNames:gon.sections.map(function(t){return t.name}),className:"is-hidden rosterSectionsFilter js-rosterSectionsFilter",defaultSections:n.course_memberships.filteredSections,onChange:function(t){var e;return n.course_memberships.filteredSections=(null!=t?t.map(function(t){return t.value}):void 0)||[],(e=Mt.getCurrentParams()).sections=n.course_memberships.filteredSections||[],Mt.setCurrentParams(e),Bt.fnFilter()}},ReactDOM.render(React.createElement(RosterSectionsSelectFilter,Tt),Qt)),k=$(".js-rosterSectionsFilter"),ot){switch(w.val(ot),ot){case"role":C.show(),k.hide();break;case"section":C.hide(),k.show()}Bt.fnFilter()}return C.on("change",function(){var t,e;return t=C.val(),e=Mt.getCurrentParams(),t?e.role=t:delete e.role,Mt.setCurrentParams(e),Bt.fnFilter()}),w.on("change",function(){var t,e,i;switch(e=$(this).val(),(i=Mt.getCurrentParams()).filter=e,e){case"role":C.show(),k.hide(),(t=C.val())?i.role=t:delete i.role,delete i.sections;break;case"section":k.show(),C.hide(),i.sections=n.course_memberships.filteredSections||[],delete i.role}return Mt.setCurrentParams(i),Bt.fnFilter()}),$t=function(t){return z.find("#sidebar-instructor-"+t.user_id).fadeOutAndRemove()},$(".js-rosterRoleSelect").on("change",function(){var t,e;return e=$(this),t=e.siblings(".js-rosterRoleMsg"),$.ajax({url:e.data("url"),type:"PATCH",data:{course_membership:{role:e.val()}},success:function(e){return t.closest("tr").find(".js-rosterDeleteUser").prop("disabled",!e.can_delete),t.html(e.message),t.removeClass("msg-error").addClass("msg-info").fadeIn().css("display","inline-block"),setTimeout(function(){return t.fadeOut()},3e3),Lt[e.old_role]--,Lt[e.role]++,ae(),"Instructor"===gon.role_names[e.role]?$(e.instructor_html).appendToAndFadeIn(z):"Instructor"===gon.role_names[e.old_role]?$t(e):void 0},error:function(n){return 401===n.status&&"message"in n.responseJSON?(t.html(n.responseJSON.message),e.val(n.responseJSON.role)):t.html("Something went wrong"),t.removeClass("msg-info").addClass("msg-error").fadeIn().css("display","inline-block"),setTimeout(function(){return t.fadeOut()},3e3)}})}),b.on("ajax:success",".js-rosterDeleteForm",function(t,e){if(Lt[e.role]--,$(t.target).parents("tr").fadeOutAndRemove({callback:ae}),"Instructor"===gon.role_names[e.role])return $t(e)}),(ae=function(){var t,e,n,i,r,o,a,s,l;for(F.empty(),e="en"===(r=pageContext().i18n.locale)||"en-XX"===r,a=[],t=n=0,i=(o=gon.role_names_en).length;n<i;t=++n)("TA"!==(l=o[t])&&"Reader"!==l||0!==Lt[t])&&(s=1===Lt[t]?gon.role_names[t]:gon.role_names_pluralized[t],e&&"TA"===l||(s=s.toLowerCase()),a.push($("<div>").attr("class","actionBar--label").text(Lt[t]+" "+s).appendTo(F)));return a})(),d=$(".js-addOneOrManyModal"),c=$(".js-addMemberModal"),u=$(".js-addOneForm"),r=$(".js-addManyModal"),i=$(".js-addManyForm"),E=$("#roster_csv_file"),O=$(".js-rosterCSVUploadError"),P=$(".js-rosterCSVUploadErrorMsg"),a=i.find(":submit"),f=$(".js-addStudentsCSVModal"),H=$(".js-splitNamesRequiredError"),I=$(".js-newStudents"),y=$(".js-csvColumnSelectForm"),v=function(){return y.find("select")},W=function(){return v().not(".is-hidden select")},s=$(".js-addMoreColumnsBtn"),l=s.parent(),L=y.find("table"),T=L.find("th:first, thead td:first"),S=L.find("th:nth-child(2), thead td:nth-child(2)"),M=L.find("th:nth-child(3), thead td:nth-child(3)"),B=L.find("thead tr:first-of-type"),x=function(){return B.find("input").filter(function(){return!this.value})},N=L.find("tbody"),j=$(".js-numOtherStudents"),q=$(".js-useFullNameColumn"),U=$(".js-useFirstLastNameColumns"),h=f.find(".js-submitBtn"),Q=d.modal(),J=c.modal({closeOnOverlayClick:!1}),K=r.modal({closeOnOverlayClick:!1}),et=f.modal({closeOnOverlayClick:!1}),$(".js-addMembers").on("click",Q.open),$(".js-rosterAddOne").on("click",J.open),$(".js-rosterAddMany").on("click",K.open),$(".js-addStudentsModalBackArrow").on("click",function(){return $(".js-addCSVModalError").hide(),K.open()}),d.find(".js-closeModal").on("click",Q.close),c.find(".js-closeModal").on("click",function(){return $(".js-addMemberModalError").hide(),J.close()}),r.find(".js-closeModal").on("click",K.close),f.find(".js-closeModal").on("click",function(){return $(".js-addCSVModalError").hide(),et.close()}),u.validate({rules:{"user[email]":{required:!0,stricterEmail:!0}}}),i.validate({rules:{"roster[csv_file]":{required:!0,extension:"csv"}}}),E.on("change",function(){return O.hide()}),se=function(){return location.reload()},u.on("ajax:success",function(){return $(".js-addMemberModalError").hide(),se()}),u.on("ajax:error",function(t,e){var n;return(n=e.responseJSON.error)?($(".js-addMemberModalErrorMsg").text(n),$(".js-addMemberModalError").show()):location.reload()}),tt=$(".js-addSectionSelectorTarget"),Et=function(t){return Tt={sections:gon.sections,defaultSections:[],name:"user[section_names][]",disabled:t},t&&ReactDOM.unmountComponentAtNode(tt[0]),ReactDOM.render(React.createElement(SectionsSelect,Tt),tt[0])},Pt=$(".js-addMemberModal").find("input[type=radio][name='course_membership[role]']"),tt.length>0&&(Et("0"!==Pt.val()),Pt.change(function(){return"0"===$(this).val()?Et(!1):Et(!0)})),_t=function(){var t,e;return t=$(".js-enrollmentNotificationModal"),Tt={isOpen:!0,closeModal:window.unmountAsync(t[0]),sendEnrollmentNotificationUrl:gon.sendEnrollmentNotificationUrl},e=React.createElement(EnrollmentNotificationModal,Tt),ReactDOM.render(e,t[0])},$(".js-openEnrollmentNotificationModal").click(_t),X=3,V={full_name_column:["name","fullname","full_name","full name"],first_name_column:["first","firstname","first_name","first name"],last_name_column:["last","lastname","last_name","last name"],email_column:["email","emailaddress","email_address","email address"],sid_column:["sid","studentid","student_id","student id"]},Y={full_name_column:pageContext().intl.formatMessage({id:"courseMemberships.addStudentsCSVModal.fullNameColumn",defaultMessage:"Select a full name column"}),first_name_column:pageContext().intl.formatMessage({id:"courseMemberships.addStudentsCSVModal.firstNameColumn",defaultMessage:"Select a first name column"}),last_name_column:pageContext().intl.formatMessage({id:"courseMemberships.addStudentsCSVModal.lastNameColumn",defaultMessage:"Select a last name column"}),email_column:pageContext().intl.formatMessage({id:"courseMemberships.addStudentsCSVModal.emailColumn",defaultMessage:"Select an email column"}),sid_column:pageContext().intl.formatMessage({id:"courseMemberships.addStudentsCSVModal.sidColumn",defaultMessage:"Select a student ID column"}),other:pageContext().intl.formatMessage({id:"courseMemberships.addStudentsCSVModal.otherColumn",defaultMessage:"Select a column"})},Ct=function(){var t,e;return a.addClass("loading"),H.hide(),(e=new FileReader).onload=function(t){var e;return e=t.target.result.strip(),Papa.parse(e,{header:!0,skipEmptyLines:!0,complete:wt})},t=E.get(0).files[0],e.readAsText(t)},rt=function(t){return!!t[0].full_name&&(!_.find(t,function(t){return o.call(t.full_name,",")<0})||void 0)},jt=function(t,e){return e.map(function(e){return delete e[t]})},Ft=function(t,e){var n,i,r,o;for(o=(""+pageContext().intl.formatMessage({id:"courseMemberships.role.label",defaultMessage:"Role"})).toUpperCase(),n=(i=e.map(function(t){return t.toUpperCase()})).indexOf(o),r=[];-1!==n;)t=jt(e[n],t),e.splice(n,1),i.splice(n,1),r.push(n=i.indexOf(o));return r},wt=function(t){var e,n,i,r,o,s,l,u,c,d,f;if(0===t.errors.length){if(Nt=t.data,lt=t.meta.fields,Ft(Nt,lt),$(".table--btn-removeColumn").each(function(){return this.click()}),o=_.intersection(lt,V.first_name_column).length,u=_.intersection(lt,V.last_name_column).length,e=rt(Nt))for(lt.push("first_name"),lt.push("last_name"),s=0,c=Nt.length;s<c;s++)f=Nt[s],r=(d=Kt(f.full_name))[0],l=d[1],f.first_name=r,f.last_name=l;o&&u||e||gon.require_split_names?ue():ce(),St(v()),lt.forEach(function(t){if(ht(t))return G()[0].selectize.setValue(t)}),K.close(),et.open()}else n=t.errors[0],i=pageContext().intl.formatMessage({id:"courseMemberships.addStudentsCSVModal.importError",defaultMessage:"Error in Row {errorRow}: {errorMessage}"},{errorRow:n.row+1,errorMessage:n.message}),P.text(i),O.show();return a.removeClass("loading")},$("body").on("submit",".js-addManyForm",function(t){return t.preventDefault(),Ct()}),vt=pageContext().i18n.locale,yt=pageContext().intl.formatMessage({id:"common.section",defaultMessage:"Section"}).toLocaleLowerCase(vt),ht=function(t){var e;return e=t.toLocaleLowerCase(vt),bt(e,yt,vt)||bt(e,"section","en")},bt=function(t,e,n){var i,r,o,a;for(i=r=0,o=t.length-(a=e.length);0<=o?r<=o:r>=o;i=0<=o?++r:--r)if(0===t.substring(i,i+a).localeCompare(e,n))return!0;return!1},it=function(t,e){var n,i,r,a;if(e)for(i=0,r=t.length;i<r;i++)if(a=(n=t[i]).toLowerCase(),o.call(e,a)>=0)return n},St=function(t){return t.each(function(t,e){var n,i,r,a,s,l;return r=e.getAttribute("name"),n=it(lt,V[r]),a=function(){var t,e,n;for(n=[],t=0,e=lt.length;t<e;t++)i=lt[t],n.push({value:i,text:i});return n}(),s=Y[r]||Y.other,a.unshift({value:"",text:s}),(l=$(e).get(0).selectize)?(l.clearOptions(),l.addOption(a),l.addItem(n||"")):$(e).selectize({options:a,items:[n||""],onChange:function(t){return this.$control.toggleClass("error",!t||o.call(zt,t)>=0),re()}})}),re()},le=function(t,e){if(gon.require_split_names)return t&&e?H.hide():H.show()},kt=function(t){var e;return(e={})[""+pageContext().intl.formatMessage({id:"courseMemberships.role.instructor",defaultMessage:"Instructor"})]=pageContext().intl.formatMessage({id:"courseMemberships.role.instructorPlural",defaultMessage:"Instructors"}),e[""+pageContext().intl.formatMessage({id:"courseMemberships.role.reader",defaultMessage:"Reader"})]=pageContext().intl.formatMessage({id:"courseMemberships.role.readerPlural",defaultMessage:"Readers"}),e[""+pageContext().intl.formatMessage({id:"courseMemberships.role.student",defaultMessage:"Student"})]=pageContext().intl.formatMessage({id:"courseMemberships.role.studentPlural",defaultMessage:"Students"}),e[""+pageContext().intl.formatMessage({id:"courseMemberships.role.ta",defaultMessage:"TA"})]=pageContext().intl.formatMessage({id:"courseMemberships.role.taPlural",defaultMessage:"TAs"}),e[t]||t+"s"},Gt=function(t){return t>2e3?$(".js-tooManyStudentsWarning").removeClass("is-hidden"):$(".js-tooManyStudentsWarning").addClass("is-hidden")},oe=function(t){var e;return Ot=$("input[name='options[role]']:checked + label").text(),e=1===t?Ot:kt(Ot),Ot!==pageContext().intl.formatMessage({id:"courseMemberships.role.ta",defaultMessage:"TA"})&&(e=e.toLowerCase()),j.text(pageContext().intl.formatMessage({id:"courseMemberships.addStudentsCSVModal.numOtherRoles",defaultMessage:"... and {numOthers} other {singularOrPluralRole}"},{numOthers:t,singularOrPluralRole:e}))},re=function(){var t,e,n,i,r,o,a,s,l,u,c,d;if(N.empty(),t=W(),dt=t.filter('[name="full_name_column"]').val(),ut=t.filter('[name="first_name_column"]').val(),gt=t.filter('[name="last_name_column"]').val(),st=t.filter('[name="email_column"]').val(),Zt=t.filter('[name="sid_column"]').val(),zt=$.map(t,function(t){return t.value}),_.reduce(zt,function(t,e){return t||e})){for(i=0,o=(l=Nt.slice(0,X)).length;i<o;i++){for(c=l[i],u=$("<tr>"),r=0,a=zt.length;r<a;r++)e=zt[r],d=c[e]||"",n=function(){switch(e){case dt:return ct(d);default:return d}}(),u.append($("<td>").addClass("table--cell-padded").text(n));N.append(u)}return(s=Nt.length-X)>0?(oe(s).show(),$("input[name='options[role]']").on("change",function(){return oe(s)})):j.hide(),Gt(s),le(ut,gt),ie(),ne()}},nt=function(){var t;return t=W().map(function(t,e){return e.value}).toArray(),0===_.difference(lt,t).length},ee=function(){return W().length>=lt.length+1},Z=function(){return!(nt()||ee())},xt=0,G=function(){var t,e,n,i,r,o,a,s,u;if(Z())return xt++,s=pageContext().intl.formatMessage({id:"courseMemberships.addStudentsCSVModal.required",defaultMessage:"Please fill out this field."}),e=$("<input>").attr("type","text").attr("placeholder",pageContext().intl.formatMessage({id:"courseMemberships.addStudentsCSVModal.fieldName",defaultMessage:"Field name"})).prop("required",!0).prop("aria-label",s).prop("title",s).data("new-col",xt).addClass("form--textInput").addClass("table--columnNameInput"),i=$("<button>").attr("class","table--btn-removeColumn").attr("title",pageContext().intl.formatMessage({id:"courseMemberships.addStudentsCSVModal.removeField",defaultMessage:"Remove field"})),t=$("<i>").attr("class","fa fa-times-circle"),o=$("<select>").data("new-col",xt),r=$("<i>").attr("class","fa fa-users table--btn-sectionsColumn"),i.append(t),n=$("<th>").addClass("table--cell-padded").append(e,i,r),r.hide(),a=$("<td>").addClass("table--cell-padded").append(o),l.before(n),v().filter(":last").parent().after(a),i.on("click",_.bind(It,this,n)),St(o),u=function(t){return ht(t.target.value)&&gon.showSectionsIcon?r.show():r.hide()},o.on("change",function(t){return u(t),e.val(t.target.value),e.attr("data-field-name",t.target.value),ie()}),e.on("input",u),I.animate({scrollLeft:"+=200px"}),ne(),o},s.on("click",G),It=function(t){var e;return e=t.index(),t.remove(),L.find("thead td").eq(e).remove(),re()},ne=function(){return l.toggle(Z())},ce=function(){return te(!0),re()},ue=function(){return te(!1),W().length>lt.length&&It(L.find("th:nth-last-child(2)")),re()},te=function(t){return S.toggleClass("is-hidden",t),M.toggleClass("is-hidden",t),T.toggleClass("is-hidden",!t),q.toggleClass("is-hidden",t),U.toggleClass("is-hidden",!t)},q.on("click",ce),U.on("click",ue),ie=function(){var t,e,n;return n=_.some(W(),function(t){return!$(t).data("optional")&&!t.value}),e=0!==x().length,t=zt.length!==_.uniq(zt).length,h.prop("disabled",n||e||t)},B.on("input","input:text",ie),B.on("change","input:text",function(){var t,e;return(t=$(this)).toggleClass("valid",this.value).toggleClass("error",!this.value),e=t.data("new-col"),W().filter(function(){return $(this).data("new-col")===e}).attr("name",this.value)}),Jt=function(){var t,e,n,i,r,o,a,s,l,u,c,d,p,g,m,v,b,x,w,_;for(e=50,$(".js-addCSVModalError").hide(),h.addClass("loading"),g=[],l=0,c=Nt.length;l<c;l++){for(x=Nt[l],p={extra:{}},u=0,d=zt.length;u<d;u++)if(o=zt[u])switch(_=x[o].strip(),o){case dt:p.name=ct(_);break;case ut:
p.first_name=_;break;case gt:p.last_name=_;break;case st:p.email=_;break;case Zt:p.sid=_;break;default:s=L.find(".table--columnNameInput[data-field-name='"+o+"']").val(),ht(s)?_&&(void 0===p.section_names&&(p.section_names=[]),p.section_names.push(_)):p.extra[s]=_}g.push(p)}return w=y.attr("action"),n={},m=f.find(".js-notifyByEmail").is(":checked"),i=f.find(".js-enableGroupService").is(":checked"),a=$(".js-groupSetDropdown").val(),Ot=$('input[name="options[role]"]:checked').val(),m&&(n.notify_by_email="1"),i&&(n.enable_group_service="1",n.group_set_id=a),n.role=Ot,g.reduce,v=$(".js-addManyProgressBar"),(b=v.find(".progressBar--fill")).css("width","0%"),f.find(".js-closeModal"),n.num_succeeded=0,r=[],t=function(i){var o,a;return a=Math.min(i+e,g.length),n.students=g.slice(i,a),o=a>=g.length,$.post(w,n).success(function(e){var i;return v.is(":visible")?(i=100*a/g.length,b.css("width",i+"%"),o?(h.removeClass("loading"),h.prop("disabled",!1),se()):(n.num_succeeded+=e.num_succeeded,r=r.concat(e.failed_imports),n.failed_imports=r,setTimeout(function(){return t(a)},100))):(h.removeClass("loading"),h.prop("disabled",!1),void v.hide())}).error(function(t){var e,n;return(e=(n=t.responseJSON)?n.error:t.responseText)?($(".js-addCSVModalErrorMsg").text(e),$(".js-addCSVModalError").show(),h.removeClass("loading"),h.prop("disabled",!1),v.hide()):location.reload()})},h.prop("disabled",!0),v.show(),t(0)},h.on("click",Jt),$(".js-enableGroupService").on("change",function(){var t;return(t=$(this)).siblings(".js-groupSetDropdown").attr("disabled",!t.is(":checked"))}),Dt=function(t,e){var n,i,r,o;if(n=null!=(o=e.responseJSON)?o.redirect_to:void 0)return r=location.href.split("?")[0]+"?"+$.param(((i={})[""+t]=1,i)),n+="?"+$.param({redirect_to_after:r}),location.href=n},ft=function(t,e){bugsnagClient.notify({name:"SyncRosterError",message:"LMS roster syncing failed."},{severity:"error",metaData:{jid:t,data:e}}),alert("Error syncing roster. Please try again. If the problem persists, contact help@gradescope.com."),window.location.reload()},Yt=function(t,e){var n,i,r,o;return r=t.find(".js-submitBtn"),n=t.find(".js-closeModal"),i=t.find(".js-progressBar"),o=new ProgressHandler(i,null,ft),t.find("form").on("submit",function(){return r.prop("disabled",!0),n.prop("disabled",!0)}),t.on("ajax:success",function(t,e){return o.startProgress(gon.jobStatusUrl,e.jid)}),t.on("ajax:error",function(t,n){return e(n)}),o.resetProgress('<i class="fa fa-spin fa-spinner"></i>'+pageContext().intl.formatMessage({id:"courseMemberships.rosterSyncProgress",defaultMessage:"Syncing roster..."}))},qt=function(t){var e;return e=t.modal(),t.find(".js-closeModal").on("click",e.close),$(".js-openSyncCanvasRosterModal").on("click",e.open),gon.openSyncCanvasRosterModal&&e.open(),Yt(t,function(t){return Dt("sync_with_canvas",t)})},(m=$(".js-syncCanvasRosterModal")).length&&qt(m),Ht=function(t){var e;return e=t.modal(),t.find(".js-closeModal").on("click",e.close),$(".js-openSyncBlackboardRosterModal").on("click",e.open),Yt(t,function(t){var e;return e=JSON.stringify(t.responseJSON),bugsnagClient.notify({name:"BlackboardRosterSyncError",message:e}),alert("There was an error fetching the Blackboard roster. Please contact help@gradescope.com")})},(p=$(".js-syncBlackboardRosterModal")).length&&Ht(p),Ut=function(t){var e;return e=t.modal(),t.find(".js-closeModal").on("click",e.close),$(".js-openSyncBrightspaceRosterModal").on("click",e.open),gon.openSyncBrightspaceRosterModal&&e.open(),Yt(t,function(t){return Dt("sync_with_brightspace",t)})},(g=$(".js-syncBrightspaceRosterModal")).length&&Ut(g),Xt=function(t){var e;return e=t.modal(),t.find(".js-closeModal").on("click",e.close),$(".js-openSyncSakaiRosterModal").on("click",e.open),gon.openSyncSakaiRosterModal&&e.open(),Yt(t,function(t){return Dt("sync_with_sakai",t)})},(R=$(".js-syncSakaiRosterModal")).length&&Xt(R),Vt=function(t){var e;return e=t.modal(),t.find(".js-closeModal").on("click",e.close),$(".js-openSyncMoodleRosterModal").on("click",e.open),Yt(t,function(t){var e;return e=JSON.stringify(t.responseJSON),bugsnagClient.notify({name:"MoodleRosterSyncError",message:e}),alert("There was an error fetching the Moodle roster. Please contact help@gradescope.com")})},(A=$(".js-syncMoodleRosterModal")).length&&Vt(A),Wt=function(t){var e;return e=t.modal(),t.find(".js-closeModal").on("click",e.close),$(".js-openSyncLTIv1p3RosterModal").on("click",e.open),Yt(t,function(t){var e;return e=JSON.stringify(t.responseJSON),bugsnagClient.notify({name:"LTIv1p3RosterSyncError",message:e}),alert("There was an error fetching the LTI 1.3 roster. Please contact help@gradescope.com")})},(D=$(".js-syncLTIv1p3RosterModal")).length&&Wt(D),ct=function(t){var e,n;return t&&o.call(t,",")>=0&&(e=(n=t.split(","))[0],t=[n[1],e].join(" ")),t},Kt=function(t){var e,n;if(t&&o.call(t,",")>=0)return e=(n=t.split(","))[0],[n[1],e]},function(t,e){var n,i,r,o;return n=(o=t.split("?"))[0],(i=o[1])&&(r=i.split("&").filter(function(t){return t.length}).filter(function(t){return t.split("=")[0]!==e})).length?n+"?"+r.join("&"):n}}}.call(this),function(){var t,e,n,i,r,o,a,s,l,u,c;(c=window.site).courses=new Object,c.courses["new"]=function(){return c.courses.setupCourseForm()},c.courses.show=function(){var t;if(c.courses.setupDropCourseModal(),a(),u(),s(),$(".js-submitPayment").length&&l(),c.assignment_submissions.setupStudentSubmissionModals(),o(),c.assignments.setupSectionsRows(),new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",attach:$(".courseHeader--entryCode"),content:$("#entry-code-tooltip"),trigger:"mouseenter",closeOnMouseleave:!0,width:340,hasInteractiveContent:!1}),(t=$(".gradingSurvey")).length)return new GradingSurvey(t)},c.courses.create=function(){return c.courses.setupCourseForm()},c.courses.setupDropCourseModal=function(){var t,e;return t=$(".js-dropCourseModal"),e=t.modal({closeOnOverlayClick:!0}),$(".js-dropCourse").on("click",function(n){return n.preventDefault(),e.open(),t.find("#js-dropCourseModalTitle").focus()}),t.find(".js-closeModal").on("click",function(){return e.close()})},c.courses.edit=function(){return c.courses.setupCourseForm(),c.courses.setupCourseDeleteButton(),c.courses.setupCourseUnpublishButton(),c.courses.setUpCanvasOptions(),c.courses.setUpBlackboardOptions(),c.courses.setUpBrightspaceOptions(),c.courses.setUpSakaiOptions(),c.courses.setUpMoodleOptions(),gon.user_is_admin&&c.courses.setUpLmsIdTooltips(),gon.user_is_admin&&c.courses.setUpTextAssignmentsFeatureCheckboxes(),c.courses.setupDropCourseModal()},c.courses.setUpTextAssignmentsFeatureCheckboxes=function(){var t,e,n,i,r,o,a;return t=$("input[type='checkbox'][name='course[assignment_versioning_enabled]']"),e=$("input[type='checkbox'][name='course[bubble_sheet_assignments_enabled]']"),o=$('input[type="checkbox"][name="course[text_assignments_enabled]"]'),r=$('input[type="checkbox"][name="course[text_assignment_embedded_similarity_report_enabled]"]'),i=$('input[type="checkbox"][name="course[text_assignment_cv_similarity_report_enabled]"]'),n=$("input[type='checkbox'][name='course[bubble_sheet_versioning_enabled]']"),a=function(){return o.is(":checked")&&r.is(":checked")},o.on("change",function(){return $('input[name="course[text_assignment_commenting_enabled]"]').prop("disabled",!o.is(":checked")),r.prop("disabled",!o.is(":checked")),i.prop("disabled",!a())}),r.on("change",function(){if(i.prop("disabled",!a()),!r.is(":checked"))return i.prop("checked",!1)}),t.on("change",function(){var i,r;if(i=t.is(":checked"),r=e.is(":checked"),n.prop("disabled",!i||!r),!i||!r)return n.prop("checked",!1)}),e.on("change",function(){var i,r;if(r=e.is(":checked"),i=t.is(":checked"),n.prop("disabled",!i||!r),!i||!r)return n.prop("checked",!1)})},c.courses.setupCourseForm=function(){return $("#course-form").validate({rules:{"course[shortname]":{required:!0,maxlength:255},"course[name]":{required:!0,maxlength:255},"course[term]":"required","course[year]":"required","course[school_name]":{required:!0}}}),$("#course_subject_tags").selectize({delimiter:",",create:!0})},c.courses.setupCourseDeleteButton=function(){var t,e,n;return $("#course-delete-button").hasClass("disabled")?(n="mouseenter",t=!0):(n="click",t=!1),e=new jBox("Tooltip",{attach:$("#course-delete-button"),position:{x:"center",y:"bottom"},width:300,offset:{y:4},content:$("#course-delete-button-tooltip"),trigger:n,closeOnClick:"body",closeOnMouseleave:t,addClass:"jBox-wrapper-popover"}),$("#course-delete-button-cancel").on("click",function(){return e.close()})},c.courses.setupCourseUnpublishButton=function(){var t,e;return $(".js-unpublishCourse").hasClass("disabled")?new jBox("Tooltip",{attach:$(".js-unpublishCourse"),position:{x:"center",y:"top"},width:300,offset:{y:4},content:$("#course-unpublish-tooltip"),trigger:"mouseenter",closeOnClick:"body",closeOnMouseleave:!0,addClass:"jBox-wrapper-popover"}):(t=$(".js-unpublishCourseModal"),e=t.modal({closeOnOverlayClick:!0}),$(".js-unpublishCourse").on("click",function(t){return t.preventDefault(),e.open()}),t.find(".js-closeUnpublishCourseModal").on("click",function(){return e.close()}))},u=function(){return $("#assignments-student-table:not(.blank)").dataTable({columns:[{orderData:[0]},{orderData:[1]},{orderData:[4,3],ariaTitle:pageContext().intl.formatMessage({id:"assignmentTable.releaseAndDueDate_sr",defaultMessage:"Release and due date in {timezone}"},{timezone:gon.timezone})},{visible:!1},{visible:!1}],order:[[2,"desc"]],dom:"t",paging:!1})},a=function(){return c.assignments.setupAssignmentActionsPopoverMenu(),$("#assignments-instructor-table:not(.blank)").DataTable({columns:[{},{orderData:[8,7],ariaTitle:pageContext().intl.formatMessage({id:"assignmentTable.releaseAndDueDate_sr",defaultMessage:"Release and due date in {timezone}"},{timezone:gon.timezone})},{},{orderData:[9]},{orderable:!1},{orderable:!1},{orderable:!1},{visible:!1},{visible:!1},{visible:!1}],order:[[1,"desc"]],dom:"t",paging:!1,drawCallback:function(){return c.assignments.displayVersionedAssignmentsAsChildRows(this),c.assignments.displaySectionsAsChildRows(this)}})},s=function(){var t,e;return t=$(".js-upgradeModal"),e=t.modal({closeOnOverlayClick:!0}),$(".js-upgradeCourse").on("click",function(t){return t.preventDefault(),e.open()}),t.find(".js-closeModal").on("click",function(){return e.close()})},l=function(){var t,e,n,i,r,o,a,s,l;return $(".js-featureTiers").hide(),$('input[name="course[feature_tier_name]"]').on("click",function(){if($(".js-featureTiers").show(),$(".js-featureTierTotal").text($(this).data("total")),$(".js-featureTierName").text($(this).data("feature-tier-name")),$(".js-submitPayment").is(":disabled"))return $(".js-submitPayment").removeAttr("disabled")}),$(".js-cardErrors, .js-processingPayment, .js-paymentBrandIcon").hide(),r=(l=Stripe(gon.stripe_pk_key)).elements(),o={classes:{invalid:"error"},style:{base:{textAlign:"center"},empty:{"::placeholder":{textAlign:"center"}},invalid:{color:"inherit"}}},(t=r.create("cardNumber",o)).mount(".js-paymentCardNumber"),(i=r.create("cardExpiry",o)).mount(".js-paymentCardExpiry"),(n=r.create("cardCvc",o)).mount(".js-paymentCardCvc"),s=function(t){var e;return(e=$(".js-cardErrors")).hide(),t.token?($("input[name=stripeToken]").val(t.token.id),$(".js-submitPayment").hide(),$(".js-processingPayment").show(),document.querySelector("form").submit()):t.error?(e.text(t.error.message),e.show()):void 0},e={visa:".js-paymentVisa",mastercard:".js-paymentMastercard",amex:".js-paymentAmex",discover:".js-paymentDiscover",diners:".js-paymentDiners",jcb:".js-paymentJcb",unknown:".js-paymentUnknown"},a=function(t){var n;t in e&&(n=e[t]),$(".js-paymentBrandIcon").hide(),$(n).show()},t.on("change",function(t){return t.brand&&a(t.brand),s(t)}),i.on("change",function(t){return s(t)}),n.on("change",function(t){return s(t)}),$(".js-upgradeModal form").on("submit",function(e){return e.preventDefault(),l.createToken(t).then(s)})},c.courses.setUpCanvasOptions=function(){var t;if($(".js-openLinkCanvasCourseModal").click(n),$(".js-unlinkCanvasCourse").click(function(){return $.ajax({url:gon.canvasCourseLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Canvas course.")}}),!1}),null!=(t=window.gon)?t.showLinkCanvasCourseModal:void 0)return n()},n=function(){var t,e;return t=$(".js-canvasCourseModalTarget"),e={courseListUrl:gon.listCanvasCoursesUrl,createCanvasLinkUrl:gon.canvasCourseLinkUrl,initialCourseId:gon.canvasCourseId,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkCanvasCourseModal,e),t[0])},c.courses.setUpBlackboardOptions=function(){var e;if($(".js-openLinkBlackboardCourseModal").click(t),$(".js-unlinkBlackboardCourse").click(function(){return $.ajax({url:gon.blackboardCourseLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Blackboard course.")}}),!1}),null!=(e=window.gon)?e.showLinkBlackboardCourseModal:void 0)return t()},c.courses.setUpLmsIdTooltips=function(){return $(".lmsResource").each(function(t,e){var n,i;return i=$(".lmsResource").eq(0).data("lms-id"),n=$("<div class='type-body'>LMS ID: "+i+"</div>"),new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip",attach:$(e),position:{x:"center",y:"bottom"},content:n,trigger:"click",closeOnClick:"body",hasInteractiveContent:!1})})},t=function(){var t,e;return t=$(".js-blackboardCourseModalTarget"),e={courseListUrl:gon.listBlackboardCoursesUrl,createBlackboardLinkUrl:gon.blackboardCourseLinkUrl,initialCourseId:gon.blackboardCourseId,editAccountUrl:gon.editAccountUrl,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkBlackboardCourseModal,e),t[0])},c.courses.setUpBrightspaceOptions=function(){var t;if($(".js-openLinkBrightspaceCourseModal").click(e),$(".js-unlinkBrightspaceCourse").click(function(){return $.ajax({url:gon.brightspaceCourseLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Brightspace course.")}}),!1}),null!=(t=window.gon)?t.showLinkBrightspaceCourseModal:void 0)return e()},e=function(){var t,e;return t=$(".js-brightspaceCourseModalTarget"),e={courseListUrl:gon.listBrightspaceCoursesUrl,createBrightspaceLinkUrl:gon.brightspaceCourseLinkUrl,initialCourseId:gon.brightspaceCourseId,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkBrightspaceCourseModal,e),t[0])},c.courses.setUpSakaiOptions=function(){var t;if($(".js-openLinkSakaiCourseModal").click(r),$(".js-unlinkSakaiCourse").click(function(){return $.ajax({url:gon.sakaiCourseLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Sakai course.")}}),!1}),null!=(t=window.gon)?t.showLinkSakaiCourseModal:void 0)return r()},r=function(){var t,e;return t=$(".js-sakaiCourseModalTarget"),e={courseListUrl:gon.listSakaiCoursesUrl,createSakaiLinkUrl:gon.sakaiCourseLinkUrl,initialCourseId:gon.sakaiCourseId,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkSakaiCourseModal,e),t[0])},c.courses.setUpMoodleOptions=function(){var t;if($(".js-openLinkMoodleCourseModal").click(i),$(".js-unlinkMoodleCourse").click(function(){return $.ajax({url:gon.moodleCourseLinkUrl,method:"delete",success:function(t){return location.href=t.redirect_to},error:function(){return alert("Error unlinking Moodle course.")}}),!1}),null!=(t=window.gon)?t.showLinkMoodleCourseModal:void 0)return i()},i=function(){var t,e;return t=$(".js-moodleCourseModalTarget"),e={courseListUrl:gon.listMoodleCoursesUrl,createMoodleLinkUrl:gon.moodleCourseLinkUrl,initialCourseId:gon.moodleCourseId,editAccountUrl:gon.editAccountUrl,onClose:window.unmountAsync(t[0])},ReactDOM.render(React.createElement(LinkMoodleCourseModal,e),t[0])},o=function(){var t;if((t=$(".js-submitTypedDocumentForm")).length)return t.validate({rules:{file:{required:!0,extension:gon.text_assignment_supported_file_extensions.join(",")}}})}}.call(this),function(){var t,e,n=function(t,e){return function(){return t.apply(e,arguments)}};(e=window.site).help_center=new Object,t=function(){function t(t){var e;this.insideModal=t,this.openItemById=n(this.openItemById,this),$(".js-helpCenterItemTitle").each(function(){var t;return t=$(this).closest(".js-helpCenterItem").attr("id"),$(this).attr({"aria-expanded":"false","aria-controls":t}),this.href="#"+t}),this.insideModal&&(this.modal=$(".js-helpCenterModal").modal({onClose:(e=this,function(){return window.key.filter=e.originalKeyFilter||window.key.filter}),closeOnOverlayClick:!0}))}return t.prototype.showSection=function(t){return $(".js-helpCenterSection").hide(),t.show(),$(".js-helpCenterHeaderBreadcrumb").addClass("is-hidden"),$(t.data("breadcrumb-selector")).removeClass("is-hidden")},t.prototype.toggleItem=function(t){var e,n,i;return n=t.closest(".js-helpCenterItemTitle"),e=t.closest(".js-helpCenterSection"),this.showSection(e),$(".js-helpCenter iframe").remove(),i=!t.hasClass("helpCenter--item-is-expanded"),$(".js-helpCenterItem").removeClass("helpCenter--item-is-expanded"),i?(n.attr({"aria-expanded":"true"}),t.addClass("helpCenter--item-is-expanded"),this.insideModal?t.parent().scrollTo(t,{onAfter:function(){return n.focus()}}):(window.location.hash=t.attr("id"),$(window).scrollTo(t,{onAfter:function(){return n.focus()}}))):(n.attr({"aria-expanded":"false"}),n.focus())},t.prototype.openItemById=function(t){var e;return(e=$(t)).length>0&&t.match(/help-center-section/)?this.showSection(e):e.length>0&&t.match(/help-center-item/)?($(".js-helpCenterItem").removeClass("helpCenter--item-is-expanded"),this.toggleItem(e)):this.showSection($(".js-helpCenterHome"))},t.prototype.setup=function(){var t;return this.insideModal&&($(".js-helpCenterHomeBreadcrumb").click((t=this,function(e){return e.preventDefault(),t.showSection($(".js-helpCenterHome"))})),$(".js-helpCenterHomeLink").click(function(t){return function(e){var n;if("#"===(n=e.currentTarget.getAttribute("href"))[0])return e.preventDefault(),t.openItemById(n)}}(this)),$(".js-helpCenterItemContent a").click(function(t){return function(e){var n;if("#"===(n=e.currentTarget.getAttribute("href"))[0])return e.preventDefault(),t.openItemById(n)}}(this))),$(".js-helpCenterItemTitle").click(function(t){return function(e){var n;return e.preventDefault(),n=$(e.currentTarget).closest(".js-helpCenterItem"),t.toggleItem(n)}}(this)),$(".js-helpCenterVideoLink").click(function(t){var e,n;return(e=(n=$(t.currentTarget)).parent()).next().is("iframe")?e.next().remove():$('<iframe class="helpCenter--video helpCenter--video--yt" src="https://www.youtube.com/embed/'+n.attr("data-id")+'" frameborder="0" allowfullscreen></iframe>').insertAfter(e)}),this.showSection($(".js-helpCenterHome"))},t.prototype.openModal=function(){var t;return this.originalKeyFilter=window.key.filter,window.key.filter=function(t){return"Escape"===t.key},this.modal.open(),t="#help-center-item-"+($("body").attr("data-controller")+"_"+$("body").attr("data-action")).replace(/_/g,"-"),this.openItemById(t)},t}(),e.help_center.show=function(){var e;return(e=new t(!1)).setup(),e.openItemById(window.location.hash.split("?")[0]),window.onhashchange=function(){return e.openItemById(window.location.hash.split("?")[0])}},e.help_center.initHelpCenterForModal=function(){var e;return(e=new t(!0)).setup(),e}}.call(this),function(){var t;(t=window.site).invite_requests=new Object,t.invite_requests["new"]=function(){if($("#invite-request-form, .js-signupFormInviteRequest").length>0)return t.invite_requests.selectizeForm(),t.invite_requests.validateForm()},t.invite_requests.selectizeForm=function(){var t,e,n,i,r,o,a,s,l;if(l=function(t,e){var n,i;return n=$("<i>").attr("class","fa fa-warning"),e=$("<a>").attr("href",e).text(e).prop("outerHTML"),i=pageContext().intl.formatMessage({id:"studentAccountsSignupForm.differentGeoWarning",defaultMessage:"Note that your institution is using the {instance} instance of Gradescope. Please try signing up on the {link} website."},{instance:t,link:e}),$("#instructor-school-geo-warning").html(n.prop("outerHTML")+i),$("#instructor-school-geo-warning").show()},n=function(){return $("#instructor-school-geo-warning").hide()},gon.schools_primary_geo=gon.schools_primary_geo||{},t=$("#invite_request_school_id").selectize({sortField:"name",valueField:"id",labelField:"name",searchField:["name"],create:!0,addPrecedence:!1,preload:!0,openOnFocus:!0,loadThrottle:1e3,onOptionAdd:function(t,e){return gon.schools_primary_geo[e.id]=e.primary_geo},onChange:function(t){var e,i,r,o,a;return n(),null!=t&&t?(a=this.getItem(t),$("#invite_request_school_name").val(a.text()),o=a.data("value"),(r=gon.schools_primary_geo[o])!==gon.primary_geo?(e=gon.geos[r].name_adj,i=gon.geos[r].url,l(e,i)):void 0):$("#invite_request_school_name").val("")},createFilter:function(t){var e,n;return!!this.options&&(n=t.toLowerCase(),0===function(){var t,i,r,o;for(o=[],t=0,i=(r=_.values(this.options)).length;t<i;t++)(e=r[t]).name.toLowerCase()===n&&o.push(e);return o}.call(this).length)},create:function(t,e){return this.removeOption(0),e({id:0,name:t})},load:function(t,e){return t.length?(this.$control_input.is(":focus")&&this.clearOptions(),$.ajax({type:"get",datatype:"json",url:"/api/v1/schools",data:{page:1,length:25,school_name:encodeURIComponent(t)},success:function(t){return e(t)}})):e()}}),(null!=(o=$("#invite_request_school_name").val())?o.length:void 0)>0)return a=t[0].selectize,r=_.values(a.options),s=o.toLowerCase(),null!=(e=function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)(i=r[t]).name.toLowerCase()===s&&n.push(i);return n}()[0])?a.setValue(e.id):a.createItem(o)},t.invite_requests.validateForm=function(){return $("#invite-request-form, .js-signupFormInviteRequest").validate({rules:{"invite_request[name]":"required","invite_request[first_name]":"required","invite_request[school_id]":{required:{depends:function(){return!$("#school-name").val()}}},"invite_request[email]":{required:!0,stricterEmail:!0}},ignore:":hidden:not([class~=selectized]),:hidden > .selectized, .selectize-control .selectize-input input",submitHandler:function(t){return fbq&&fbq("track","CompleteRegistration"),t.submit()}})},t.invite_requests.create=t.invite_requests["new"],t.invite_requests.edit=t.invite_requests["new"],t.invite_requests.update=t.invite_requests["new"]}.call(this),function(){var t;(t=window.site).ltiv1p3_integrations=new Object,t.ltiv1p3_integrations.show=function(){return $(".js-ltiv1p3NamespacesTable").DataTable({language:{search:"_INPUT_",searchPlaceholder:"Search"},columnDefs:[{targets:["js-noSort"],sortable:!1}],paging:!1,dom:"fti"})}}.call(this),function(){var t;(t=window.site).online_assignment_submissions=new Object,t.online_assignment_submissions.setupRegradeAllModal=function(){var t,e;return t=$(".js-regradeAllConfirmationModal"),e=t.modal({closeOnOverlayClick:!0}),$(".js-regradeAllButton").on("click",function(){return e.open()}),t.find(".js-closeRegradeAllConfirmationModal").on("click",function(){return e.close()})},t.online_assignment_submissions.index=function(){var e,n,i,r;return e=$(".js-onlineAssignmentSubmissionsTable").first(),n=null!=(i=$(".js-sections").length>0)?i:{1:0},e.DataTable({dom:"frtilp",order:[[1+n,"asc"]],columnDefs:[{targets:0,sortable:!0,searchable:!0},{targets:[1+n,2+n,3+n],sortable:!0,searchable:!1},{targets:4+n,sortable:!1,searchable:!1}]}),r=function(){var t;return t=$(".table--primaryLink").length,$(".table--header h1").text("Submission".pluralize(t))},$(".deleteSubmissionForm").on("ajax:success",function(t){return $(t.target).parents("tr").fadeOutAndRemove({callback:r})}),t.online_assignment_submissions.setupRegradeAllModal()}}.call(this),function(){var t,e,n;(n=window.site).online_assignments=new Object,n.online_assignments.show=function(){return e()},n.online_assignments.edit=function(){return n.assignments.edit(),t()},n.online_assignments.update=n.online_assignments.edit,n.online_assignments.grade=n.assignments.grade,n.online_assignments.statistics=n.assignments.statistics,n.online_assignments.review_grades=n.assignments.review_grades,e=function(){return $(".js-startRespondusAssignment").on("click",function(){return setTimeout(function(){return $(".js-respondusNotStarting").show()},3e3),$(window).on("focus",function(){return window.location.reload()})})},t=function(){var t,e,n;if((n=$(".js-examSecurityTool")).length)return t=$(".js-enableExamSecurityTool"),e=$(".js-examSecurityToolOptions"),$(".js-enforceTimeLimit").on("change",function(){var n;return $(this).is(":checked")?(n=$(".js-enableExamSecurityTool:checked")).length?(n.attr("disabled",!1),n.closest(".js-examSecurityTool").find(".js-examSecurityToolOptions").show()):t.attr("disabled",!1):(t.attr("disabled",!0),e.hide())}),n.each(function(){var n,i;return n=$(this).find(".js-enableExamSecurityTool"),i=$(this).find(".js-examSecurityToolOptions"),n.on("change",function(){return $(this).is(":checked")?(t.attr("disabled",!0),e.hide(),$(this).attr("disabled",!1),i.show()):(t.attr("disabled",!1),e.hide())})})}}.call(this),function(){var t;(t=window.site).overrides=new Object,t.overrides.index=t.overrides.create=function(){var e;if(e=$(".js-overridesTable"),t.course_memberships.setupSwapButtons(e),e.DataTable({paging:!1,dom:"ft",language:{searchPlaceholder:pageContext().intl.formatMessage({id:"dataTables.findAStudent",defaultMessage:"Find a student\u2026"})},columnDefs:[{targets:["js-noSort"],sortable:!1},{targets:["js-noSearch"],searchable:!1},{targets:["js-lastFirstName"],visible:!1}],initComplete:function(){return $(".dataTables_filter").detach().appendTo(".js-searchFilterTarget")}}),$(".js-sectionSettingsButton").click(function(t){var e,n,i,r;return(e=$(t.currentTarget)).attr("aria-expanded",function(t,e){return"true"===e?"false":"true"}),n=e.attr("aria-expanded"),i=e.children().first(),r=$(".js-sectionSettingsTable"),"true"===n?(i.removeClass("fa-chevron-down"),i.addClass("fa-chevron-up"),r.show(),window.location.hash="section_settings"):(i.removeClass("fa-chevron-up"),i.addClass("fa-chevron-down"),r.hide(),window.history.replaceState(null,null," "))}),"#section_settings"===window.location.hash)return $(".js-sectionSettingsButton").click()}}.call(this),function(){var t;(t=window.site).password_resets=new Object,t.password_resets["new"]=function(){var t;return(t=queryParams().email)&&$("#email").val(t),$("#password_reset_form").validate({rules:{email:{required:!0,stricterEmail:!0}}})},t.password_resets.create=t.password_resets["new"],t.password_resets.edit=function(){return $("#password_set_form").validate({rules:{"user[password]":{required:!0,minlength:12},"user[password_confirmation]":{required:{depends:function(){return $("#user_password").val()}},equalTo:"#user_password"}}})},t.password_resets.update=t.password_resets.edit}.call(this),function(){var t;(t=window.site).programming_assignment_submissions=new Object,t.programming_assignment_submissions.setupRegradeAllModal=function(){var t,e;return t=$(".js-regradeAllConfirmationModal"),e=t.modal({closeOnOverlayClick:!0}),$(".js-regradeAllButton").on("click",function(){return e.open()}),t.find(".js-closeRegradeAllConfirmationModal").on("click",function(){return e.close()})},t.programming_assignment_submissions.index=function(){var e,n,i,r;return t.assignment_submissions.setupStudentSubmissionModals(),t.programming_assignment_submissions.setupRegradeAllModal(),e=$(".js-programmingAssignmentSubmissionsTable").first(),n=null!=(i=$(".js-sections").length>0)?i:{1:0},e.DataTable({dom:"frtilp",order:[[1+n,"asc"]],columnDefs:[{targets:0,sortable:!0,searchable:!0},{targets:[1+n,2+n],sortable:!0,searchable:!1},{targets:3+n,sortable:!1,searchable:!1}]}),$(".js-studentPickerDropdown").last().selectize({options:gon.roster,labelField:"name",valueField:"id",searchField:["name","email"],maxItems:1,create:!1,highlight:!0,closeAfterSelect:!0,selectOnTab:!0,render:{option:function(t,e){return'<div><span class="studentPicker--name">'+e(t.name)+"</span>"+(t.email?'<span class="studentPicker--email">'+e(t.email)+"</span>":"")+"</div>"}},onChange:function(t){var e,n,i;if($("#bitbucket-submission-link").length>0&&(e=-1!==(i=(n=$("#bitbucket-submission-link").attr("href")).indexOf("?for_user="))?n.substring(0,i)+"?for_user="+t:n+"?for_user="+t,$("#bitbucket-submission-link").attr("href",e)),$("#github-submission-link").length>0)return e=-1!==(i=(n=$("#github-submission-link").attr("href")).indexOf("?for_user="))?n.substring(0,i)+"?for_user="+t:n+"?for_user="+t,$("#github-submission-link").attr("href",e)}}),r=function(){var t;return t=$(".table--primaryLink").length,$(".table--header h1").text("Submission".pluralize(t))},$(".deleteSubmissionForm").on("ajax:success",function(t){return $(t.target).parents("tr").fadeOutAndRemove({callback:r})})},t.programming_assignment_submissions.show=t.assignment_submissions.show}.call(this),function(){var t,e,n,i,r,o;(r=window.site).programming_assignments=new Object,r.programming_assignments.create=function(){return n()},r.programming_assignments.edit=function(){return n(),r.assignments.setupDeleteAssignmentModal(),r.assignments.setupAssignmentDeleteButton(),r.assignments.setUpCanvasOptions(),r.assignments.setUpBlackboardOptions(),r.assignments.setUpBrightspaceOptions(),r.assignments.setUpSakaiOptions(),r.assignments.setUpMoodleOptions(),r.assignments.setUpTabs()},r.programming_assignments.update=r.programming_assignments.edit,r.programming_assignments.grade=r.assignments.grade,r.programming_assignments.review_grades=r.assignments.review_grades,i=function(t,e){var n;if(e)return n=React.createElement(Ansi,{linkify:!0,useClasses:!1,children:t}),ReactDOM.render(n,e)},o=function(t){var e,n,i,r;return"zip"!==t.name.substr(-3)?(r=pageContext().intl.formatMessage({id:"autograder.selectZipfile",defaultMessage:"Please select a zip file"}),$(".js-autograderZipErrors").text(r).show()):(n=new FileReader,i=["setup.sh","run_autograder"],e=[],n.onload=function(t){var n,r,o,a,s,l,u;for(u=new JSZip(t.target.result),o=0,a=i.length;o<a;o++)(n=i[o])in u.files||e.push(n);return e.length>0?(r=e.map(function(t){return"<span class='inlineCode'>"+t+"</span>"}).join(", "),s=pageContext().intl.formatMessage({id:"autograder.missingRequiredFile",defaultMessage:"Missing required {count, plural, one {file} other {files}} {files} (must be at the root of zip file)."},{files:r,count:e.length}),l=pageContext().intl.formatMessage({id:"autograder.viewDocumentation_html",defaultMessage:"Make sure you are zipping up your autograder files at the root, and not the folder containing those files (for an example of the correct approach, <a href='https://gradescope-autograders.readthedocs.io/en/latest/zipping_files.png'>see here</a>)."}),$(".js-autograderZipErrors").html(s+" "+l).show()):$(".js-autograderZipErrors").hide()},n.readAsArrayBuffer(t))},e=function(t){return"building"===t?pageContext().intl.formatMessage({id:"autograder.dockerImage.status.building",defaultMessage:"building"}):"built"===t?pageContext().intl.formatMessage({id:"autograder.dockerImage.status.built",defaultMessage:"built"}):"unprocessed"===t?pageContext().intl.formatMessage({id:"autograder.dockerImage.status.unprocessed",defaultMessage:"unprocessed"}):"failed"===t?pageContext().intl.formatMessage({id:"autograder.dockerImage.status.failed",defaultMessage:"failed"}):t},t=function(n,r){var o,a;return o="/courses/"+n+"/assignments/"+r.assignment_id+"/docker_images/"+r.id+".json",$.get(o,"",(a=this,function(o){var s,l,u;return s=e(o.status),$(".js-dockerImageStatus").text(s),$(".js-dockerImageUpdatedAt").text(o.updated_at),u=$(".js-dockerBuildStdout"),i(o.stdout,u[0]),u.scrollTop(u[0].scrollHeight),l=$(".js-dockerBuildStderr"),i(o.stderr,l[0]),l.scrollTop(l[0].scrollHeight),"building"===o.status||"unprocessed"===o.status?(setTimeout(t.bind(a,n,r),1e3),$(".js-dockerBuildOutput").trigger("open")):$(".js-dockerBuildSpinner").hide()}),"json")},r.programming_assignments.statistics=r.assignments.statistics,r.programming_assignments.configure_autograder=function(){var e,n,a,s,l,u,c,d,f;return f=s=!1,l=$("input#assignment_image_name").val(),d=pageContext().intl.formatMessage({id:"autograder.unsavedChanges",defaultMessage:"Unsaved changes. Leave anyway?"}),window.onbeforeunload=function(){if(f||s)return d},a=function(){var t,e;return t=$(".js-BaseImageSelectorTarget"),e={baseImages:gon.baseImages,selectedBaseImage:gon.selectedBaseImage,disabled:gon.autograder_configured&&!f},ReactDOM.render(React.createElement(BaseImageSelectorManager,e),t[0])},n=function(){return $(".js-submitAutograder").removeProp("disabled")},e=function(){return $(".js-submitAutograder").prop("disabled",!0)},$(".js-dockerBuildOutput").collapse({open:function(){return this.slideDown(100),
$(this.context).find("i.fa").removeClass("fa-caret-right"),$(this.context).find("i.fa").addClass("fa-caret-down")},close:function(){return this.slideUp(100),$(this.context).find("i.fa").removeClass("fa-caret-down"),$(this.context).find("i.fa").addClass("fa-caret-right")}}),gon.autograder_building?(setTimeout(t.bind(this,gon.course_id,gon.image),1e3),$(".js-dockerBuildSpinner").show(),$(".js-dockerBuildOutput").trigger("open")):$(".js-dockerBuildSpinner").hide(),$(".js-submitAutograder").on("click",function(){return f=s=!1,$(".js-autograderForm").submit()}),$("input#assignment_autograder_zip").on("change",function(t){var e;return f=!0,e=t.target.files[0],o(e),$(".js-submitAutograder").removeProp("disabled"),a(),n()}),$("input#assignment_image_name").on("input",function(t){var i;return i=t.target.value,s=i.trim()!==l.trim(),""===i.trim()?e():s?n():e()}),$("input[type='radio']#configuration_zip").click(function(){return $(".js-zipFileUpload, .js-dockerBuildStatusSection").show(),$(".js-manualDocker").hide(),a(),gon.autograder_configured&&!f?e():n()}),$("input[type='radio']#configuration_manual").click(function(){var t,i;return $(".js-zipFileUpload, .js-dockerBuildStatusSection").hide(),$(".js-manualDocker").show(),""===(t=(null!=(i=$("input#assignment_image_name").val())?i.trim():void 0)||"")||t===l?e():n()}),r.assignment_submissions.setupStudentSubmissionModals(),c=$(".js-dockerBuildStdout"),i(c.text(),c[0]),u=$(".js-dockerBuildStderr"),i(u.text(),u[0]),a()},n=function(){return r.assignments.setupDueDateFields(),$("#assignment_group_submission").change(function(){return $("#assignment_group_submission").is(":checked")?($("#assignment_group_size").attr("disabled",null).removeClass("disabled"),$("#assignment_group_size").focus()):$("#assignment_group_size").attr("disabled","disabled").addClass("disabled")}),$("input[name$='assignment[leaderboard_enabled]']").change(function(){return $("#assignment_leaderboard_enabled").is(":checked")?($("#assignment_leaderboard_max_entries").attr("disabled",null).removeClass("disabled"),$("#assignment_leaderboard_max_entries").focus()):$("#assignment_leaderboard_max_entries").attr("disabled","disabled").addClass("disabled")}),$("#assignment_manual_grading").change(function(t){return $(t.target).is(":checked")?$(".js-manualGradingFields").removeClass("is-hidden"):$(".js-manualGradingFields").addClass("is-hidden")}),r.assignments.validateAssignmentForm()},r.programming_assignments.review_similarity=function(){var t,e,n,i,o,a,s,l,u,c,d,f,h,p,g,m,v;return t=$(".js-similarityTable"),r.course_memberships.setupSwapButtons(t),d=((u=$(".js-lastFirstName").length>0)?3:2)+(l=null!=(h=$(".js-sections").length>0)?h:{1:0}),c=(u?4:3)+l,o=(u?6:5)+l,i=t.DataTable({dom:"frtilp",sortable:!0,order:[[d,"desc"]],columnDefs:[{targets:["js-lastFirstName"],visible:!1},{targets:c,type:"num-fmt"},{targets:o,name:"fileName",visible:!1}]}),m=i.data(),e=function(){return $.get(gon.pine_report.url,"",function(t){return"done"===t.status||"failed"===t.status?window.location.reload():setTimeout(e,3e3)})},window.gon&&gon.pine_report&&"done"!==(p=gon.pine_report.status)&&"failed"!==p&&e(),n=function(){return g(!1)},f=function(){return g(!0)},g=function(t){var e,i,r;return null==t&&(t=!1),r=document.querySelector(".js-similarityOptionsModal"),i={isOpen:t,closeModal:n,createReportURL:gon.report_options.create_report_url,commonMatchThreshold:gon.report_options.common_match_threshold,language:gon.report_options.language,supportedLanguages:gon.report_options.supported_languages},e=React.createElement(SimilarityOptionsModal,i),ReactDOM.render(e,r)},("undefined"!=typeof gon&&null!==gon?gon.report_options:void 0)&&g(!1),$(".js-reportSettings").on("click",f),v=$("#uploadTemplateFilesModal").modal({closeOnOverlayClick:!0}),$("#uploadTemplateFilesModal .js-closeModal").on("click",function(t){return t.preventDefault(),v.close()}),$(".js-templateFiles").on("click",function(){return v.open()}),a=function(t){var e,n;return i.clear(),e=m,t.length>0&&(n=t.map(function(t){return t.title}),e=m.filter(function(t){return n.indexOf(t[o])>-1})),i.rows.add(e).draw()},s=function(){return m.column("fileName:name").data().unique().sort().map(function(t,e){return{id:e,title:t,selected:!1}}).toArray()},function(){var t,e,n;if(t=$(".js-filesFilter")[0])return e={items:s(),onSelect:a},n=React.createElement(FilesFilter,e),ReactDOM.render(n,t)}(),function(){return $(".js-templateFilesForm").dropzone({paramName:function(){return"pine_base_code_project[files][]"},clickable:[".js-dropzone",".js-dropzoneMessage"],previewsContainer:".js-dropzonePreview",previewTemplate:$(".js-dropzonePreviewTemplate").html(),autoProcessQueue:!1,uploadMultiple:!0,maxFilesize:100,parallelUploads:5e3,accept:function(t,e){var n,i,r,o,a,s,l,u;if(this.firstFileAccepted||(this.firstFileAccepted=!0,$(".js-dropzonePreviewContainer").removeClass("is-hidden"),$(".js-dropzone").addClass("is-hidden"),$(".js-dropzoneMessage").removeClass("is-hidden"),$(".js-uploadTemplateFiles").attr("disabled",!1)),"zip"===(u=t.name.split("."))[u.length-1])return processZipFile(t,this,e);if(t.previewElement){for(n=0,r=(s=t.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;n<r;n++)"PROGRESS"!==(a=s[n]).nodeName&&(a.ariaLabel=pageContext().intl.formatMessage({id:"dropzone.file.progress.label_sr",defaultMessage:"{file} upload progress"},{file:t.name}));for(i=0,o=(l=t.previewElement.querySelectorAll("[data-dz-remove]")).length;i<o;i++)(a=l[i]).ariaLabel=pageContext().intl.formatMessage({id:"dropzone.file.remove.label_sr",defaultMessage:"remove {file}"},{file:t.name})}return e()},uploadprogress:function(t,e){var n,i,r,o,a;if(t.previewElement){for(a=[],n=0,i=(o=t.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;n<i;n++)"PROGRESS"===(r=o[n]).nodeName?a.push(r.value=e):(r.style.width=e+"%",a.push(r.ariaValueNow=e));return a}},init:function(){var t;return this.on("successmultiple",function(t,e){return window.location=e.url}),$(".js-templateFilesForm").on("submit",(t=this,function(e){if(0!==t.files.length)return t.processQueue(),e.preventDefault()})),this.on("reset",function(t){return function(){return t.firstFileAccepted=!1,$(".js-uploadTemplateFiles").attr("disabled",!0),$(".js-dropzone").removeClass("is-hidden"),$(".js-dropzonePreviewContainer").addClass("is-hidden"),$(".js-dropzoneMessage").addClass("is-hidden")}}(this))}})}()}}.call(this),function(){var t;(t=window.site).question_submissions=new Object,t.question_submissions.index=function(){return $("table#question_submissions").dataTable({paging:!1,dom:"lf<t>"}),$(".js-questionSubmissionsAnswerTitle").each(function(t,e){return renderMath(e)})}}.call(this),function(){var t;(t=window.site).questions=new Object,t.questions.setupQuestionStatisticsGraph=function(){var e,n;return t.questions.drawQuestionStatisticsGraph=function(t,e,i,r,o){var a,s,l,u,c,d,f;return s={onRectMouseOut:function(){return $("rect").each(function(){return $(this).svgRemoveClass("selected")}),$(".js-statisticsChartLabel").remove()},onRectMouseOver:function(e){var i,r,o,a,s;return s=e.e.srcElement||e.e.originalTarget,$(s).svgAddClass("selected"),i=s,o=e.point[0],r=e.value,o.values&&(r=o.values[0][1],o=o.values[0][0]),a=n(t,i,o,r),$(a).svgAddClass("selected")}},a={xAxis:"Points",yAxis:"% of Students"},(u=20*Math.floor(i/20))<i&&(u+=20),c={yDomain:[0,l=Math.min(100,u)],right_endpoint:r,fadeOnHover:!0,shift_axis:o,handleOverlap:!1,yAxisTickValues:f=(f=[0,20,40,60,80,100]).slice(0,f.indexOf(l)+1)},d=$(t).find("svg"),new Histogram(d[0],[{key:"data",values:e}],s,a,c),d.height(300),d.width($(t).width()-36)},n=function(t,n,i,r){var o;return o=$("<div id='question-"+i+"-information' class='statisticsChartLabel statisticsChartLabel-is-selected statisticsChartLabel-noShadow u-noTransition js-statisticsChartLabel'> <div class='statisticsChartLabel--barDetails'> <span class='statisticsChartLabel--barDetailNumber'> "+r+"% </span> <span class='statisticsChartLabel--barDetailLabel'>"+"of students"+"</span> </div> </div>").hide(),$(t).append(o),e(t,o,n),$(o).show(),o},e=function(t,e,n){var i,r,o,a,s;return i=$(n).offset(),o=$(t).offset(),s=$(e).width()-$(n).attr("width"),r=15,a=8,e.css({position:"absolute",top:i.top-o.top-$(e).height()-r,left:i.left-o.left-s/2-a})}},t.questions.setupQuestionStatisticsGraph()}.call(this),function(){var t,e,n,i,r,o=function(t,e){return function(){return t.apply(e,arguments)}};(r=window.site).regrade_requests=new Object,r.regrade_requests.staff_index=function(){return n(),e(),(new t).setUp(),$("form").on("ajax:success",function(){return location.reload()})},n=function(){var t,e;return t=3,e=1,gon.is_container&&(t=4,e=2),$(".js-sections").length>0?(t++,e++,$(".js-regradeRequestsTable").dataTable({paging:!1,dom:"f<t>",order:[[t,"asc"],[e,"asc"]],columnDefs:[{targets:["js-reviewColumn"],orderable:!1}]})):$(".js-regradeRequestsTable").dataTable({paging:!1,dom:"f<t>",order:[[t,"asc"],[e,"asc"]],columnDefs:[{targets:["js-reviewColumn"],orderable:!1}]})},e=function(){var t,e,n;return t=$(".js-openRegradeRequestEmailSettingsModal"),n=(e=$(".js-regradeRequestEmailSettingsModal")).modal(),e.find(".js-closeModal").click(n.close),t.click(n.open)},t=function(){function t(){this.updateSummary=o(this.updateSummary,this),this.updateForm=o(this.updateForm,this),this.updateOptionsState=o(this.updateOptionsState,this),this.setValidationRules=o(this.setValidationRules,this),this.renderDateTimeFields=o(this.renderDateTimeFields,this),this.setUp=o(this.setUp,this),this.modal=$(".js-regradeRequestSettingsModal"),this.form=this.modal.find("form"),this.enabledCheckbox=this.form.find("input[type=checkbox]"),this.summary=this.form.find(".js-regradeRequestSummary"),this.submitBtn=this.form.find("input[type=submit]"),this.closeBtn=this.form.find(".js-closeModal"),this.openBtn=$(".js-openRegradeRequestSettingsModal")}return t.prototype.setUp=function(){var t,e;return this.renderDateTimeFields(),this.setValidationRules(),this.updateOptionsState(),this.updateSummary(),this.enabledCheckbox.change((e=this,function(){return e.updateOptionsState()})),t=this.modal.modal(),this.closeBtn.click(t.close),this.openBtn.click(t.open)},t.prototype.renderDateTimeFields=function(){var t,e,n,i,r;return n=(t=$(".js-regradeRequestStartDate")).data("object"),e=t.data("value"),i={name:n+"[regrade_request_start_string]",id:"resource_regrade_request_start_string",label:pageContext().intl.formatMessage({id:"regradeRequests.settings.startDate",defaultMessage:"Start Date"}),onChange:(r=this,function(){return r.updateForm()}),onBlur:function(t){return function(){return t.updateForm()}}(this),defaultValue:e||"",disabled:!this.enabledCheckbox.prop("checked")},ReactDOM.render(React.createElement(SetupDateTimePicker,i),t[0]),n=(t=$(".js-regradeRequestEndDate")).data("object"),e=t.data("value"),i={name:n+"[regrade_request_end_string]",id:"resource_regrade_request_end_string",label:pageContext().intl.formatMessage({id:"regradeRequests.settings.endDate",defaultMessage:"End Date"}),onChange:function(t){return function(){return t.updateForm()}}(this),onBlur:function(t){return function(){return t.updateForm()}}(this),defaultValue:e||"",disabled:!this.enabledCheckbox.prop("checked")},ReactDOM.render(React.createElement(SetupDateTimePicker,i),t[0])},t.prototype.setValidationRules=function(){return this.form.validate({rules:{"assignment[regrade_request_start_string]":{dateIsBefore:function(){return[$("#resource_regrade_request_end_string").val(),pageContext().intl.formatMessage({id:"validatorMessage.endDate",defaultMessage:"End Date"})]}},"assignment[regrade_request_end_string]":{dateIsAfter:function(){return[$("#assignment_regrade_request_start_string").val(),pageContext().intl.formatMessage({id:"validatorMessage.startDate",defaultMessage:"Start Date"})]}}},submitHandler:(t=this,function(e){return t.submitBtn.attr("disabled",!0),e.submit()})});var t},t.prototype.updateOptionsState=function(){var t;return t=this.enabledCheckbox.prop("checked"),this.summary.closest(".form--group").toggle(t),this.renderDateTimeFields()},t.prototype.updateForm=function(){if(this.form.valid())return this.updateSummary()},t.prototype.updateSummary=function(){var t,e,n,i,r;return n=$("#resource_regrade_request_start_string")[0],t=$("#resource_regrade_request_end_string")[0],r="",i=!_.isEmpty(n.value),e=!_.isEmpty(t.value),r=i&&e?pageContext().intl.formatMessage({id:"coffeescript.regradeRequests.settings.regradeOpenWithStartAndEndDate",defaultMessage:"Regrade requests for this assignment are open from {startDate} until {endDate}."},{startDate:this.formatRegradeDate(n),endDate:this.formatRegradeDate(t)}):i?pageContext().intl.formatMessage({id:"coffeescript.regradeRequests.settings.regradeOpenWithStartDate",defaultMessage:"Regrade requests for this assignment are open from {startDate} until regrade requests are disabled."},{startDate:this.formatRegradeDate(n)}):e?pageContext().intl.formatMessage({id:"coffeescript.regradeRequests.settings.regradeOpenWithEndDate",defaultMessage:"Regrade requests for this assignment are open until {endDate}."},{endDate:this.formatRegradeDate(t)}):pageContext().intl.formatMessage({id:"coffeescript.regradeRequests.settings.regradeOpenUntilDisabled",defaultMessage:"Regrade requests for this assignment are open until regrade requests are disabled."}),this.summary.html(r)},t.prototype.formatRegradeDate=function(t){return moment(t.value).format("MMMM D [at] h:mm A")},t}(),r.regrade_requests.student_index=function(){return i()},i=function(){return $(".js-regradeRequestsTable").dataTable({paging:!1,dom:"<t>"})}}.call(this),function(){var t;(t=window.site).rubric_items=new Object,t.rubric_items.show=function(){return $(".js-rubricItemSubmissions").dataTable({dom:"f<t>",paging:!1})}}.call(this),function(){var t,e,n,i,r,o;(r=window.site).schools=new Object,o=function(t){var e;return e=0,nv.utils.windowResize(function(){return clearTimeout(e),e=setTimeout(t.update,200)})},n=function(t,e){var n;return(n=nv.models.discreteBarChart().tooltips(!1).staggerLabels(!0).duration(350).showValues(!0).color([])).valueFormat(d3.format(",f")),n.yAxis.tickFormat(d3.format(",f")),n.xAxis.tickPadding(8),n.yAxis.tickPadding(8),d3.select(t).datum([{values:e}]).call(n),nv.addGraph(function(){return n}),o(n),n},e=function(t,e,n){return t.map(function(t){var i,r,o,a;return{term:o=t.term,year:a=t.year,x:o.substr(0,2).toUpperCase()+" '"+a.toString().substr(2),y:(null!=(i=e[a])&&null!=(r=i[o])?r[n]:void 0)||0}})},t=function(t,e){var n;return n=0,Object.keys(t).forEach(function(i){var r;return r=t[i],Object.keys(r).forEach(function(t){var i;return i=r[t],n+=i[e]})}),n},i=function(t){var e;return(e=$(t).closest(".chart")).removeClass("chart-withValuesHidden"),e.find(".chart--loading").fadeOut()},r.schools.show=function(){var r,o,a;return r=e(gon.term_years,gon.course_counts_by_term,"courses"),n(".js-coursesByTermChart",r).discretebar.dispatch.on("elementClick",function(t){var e;return e=t.point,window.location=gon.courses_path+"?term="+e.term+"&year="+e.year}),o=e(gon.term_years,{}),n(".js-enrollmentsByTermChart",o),n(".js-activeStudentsByTermChart",o),n(".js-assignmentsByTermChart",o),n(".js-submissionsByTermChart",o),a=t(gon.course_counts_by_term,"courses"),$(".js-totalCoursesStat").text(a.toLocaleString()),$.get(gon.assignment_counts_by_term_path,function(r){var o,a;return o=e(gon.term_years,r,"assignments"),n(".js-assignmentsByTermChart",o),i(".js-assignmentsByTermChart"),a=t(r,"assignments"),$(".js-totalAssignmentsStat").text(a.toLocaleString())}),$.get(gon.submission_counts_by_term_path,function(r){var o,a;return o=e(gon.term_years,r,"submissions"),n(".js-submissionsByTermChart",o),i(".js-submissionsByTermChart"),a=t(r,"submissions"),$(".js-totalSubmissionsStat").text(a.toLocaleString())}),$.get(gon.enrollment_counts_by_term_path,function(t){var r;return r=e(gon.term_years,t,"enrollments"),n(".js-enrollmentsByTermChart",r),i(".js-enrollmentsByTermChart")}),$.get(gon.active_student_counts_by_term_path,function(t){var r;return r=e(gon.term_years,t,"active_students"),n(".js-activeStudentsByTermChart",r),i(".js-activeStudentsByTermChart")}),$.get(gon.staff_and_student_counts_path,function(t){return $(".js-totalStaffStat").text(t.staff.toLocaleString()),$(".js-totalStudentsStat").text(t.students.toLocaleString())})},r.schools.courses=function(){return $(".js-selectTerm").on("change",function(){var t;return t=$(this).val(),window.location.href=t}),$(".js-schoolCoursesTable").DataTable({dom:"frtiplB",pageLength:50,buttons:["csv"]})},r.schools.staff=function(){return $(".js-selectTerm").on("change",function(){var t;return t=$(this).val(),window.location.href=t}),$(".js-schoolStaffTable").DataTable({dom:"frtiplB",pageLength:50,buttons:["csv"]})}}.call(this),function(){var t,e,n;(n=window.site).sso_integrations=new Object,e=function(){return $(".js-importMetadata").on("click",function(){var e,n,i,r,o;if((o=document.querySelector(".js-importMetadataField").value).length)return(r=new URL(gon.metadata_config_url)).searchParams.set("metadata_url",o),i=$(".js-importMetadataSuccess"),e=$(".js-importMetadataFailure"),n=$(".js-importMetadataProgress"),i.hide(),e.hide(),n.show(),$.ajax({url:r,datatype:"JSON",success:function(r){return t(r),n.hide(),e.hide(),i.fadeIn().css("display","inline-block")},error:function(){return n.hide(),i.hide(),e.fadeIn().css("display","inline-block")}})}),document.querySelector("#sso_integration_metadata_url").addEventListener("keydown",function(t){if("Enter"===t.key)return t.preventDefault(),document.querySelector(".js-importMetadata").click()})},t=function(t){var e,i,r;return e=t.data,(i=document.querySelector(".js-SSOIntegrationForm")).elements.sso_integration_idp_cert_multi.value=JSON.stringify(e.idp_cert_multi),i.elements.sso_integration_idp_sso_target_url.value=e.idp_sso_target_url,i.elements.sso_integration_idp_logout_redirect_url.value=e.idp_logout_redirect_url,r={idp_cert_multi:t.decorated_idp_cert_multi},n.renderReactComponent("IDPCertificatePreview",r,".js-idpCertificatePreview")},n.sso_integrations["new"]=function(){return e()},n.sso_integrations.create=n.sso_integrations["new"],n.sso_integrations.edit=function(){return e()},n.sso_integrations.update=n.sso_integrations.edit}.call(this),function(){var t;(t=window.site).student_accounts=new Object,t.student_accounts["new"]=function(){return t.student_accounts.selectizeForm(),t.student_accounts.validateForm()},t.student_accounts.create=t.student_accounts["new"],t.student_accounts.validateForm=function(){return $("#student-signup-form, .js-signupFormStudentSignup").validate({rules:{"user[name]":"required","user[email]":{required:!0,stricterEmail:!0},"user[school_id]":{required:!0},"user[course_entry_code]":{required:!0,rangelength:[6,6]}},messages:{"user[course_entry_code]":{rangelength:"Must be exactly 6 characters long."}},ignore:":hidden:not([class~=selectized]),:hidden > .selectized, .selectize-control .selectize-input input"})},t.student_accounts.selectizeForm=function(){var t,e,n,i,r,o,a,s,l;if(l=function(t,e){var n,i;return n=$("<i>").attr("class","fa fa-warning"),e=$("<a>").attr("href",e).text(e).prop("outerHTML"),i=pageContext().intl.formatMessage({id:"studentAccountsSignupForm.differentGeoWarning",defaultMessage:"Note that your institution is using the {instance} instance of Gradescope. Please try signing up on the {link} website."},{instance:t,link:e}),$("#school-geo-warning").html(n.prop("outerHTML")+i),$("#school-geo-warning").show()},n=function(){return $("#school-geo-warning").hide()},gon.schools_primary_geo=gon.schools_primary_geo||{},t=$("#user_school_id").selectize({sortField:"name",openOnFocus:!1,valueField:"id",labelField:"name",searchField:["name"],create:!1,addPrecedence:!1,preload:!0,loadThrottle:1e3,onOptionAdd:function(t,e){return gon.schools_primary_geo[e.id]=e.primary_geo},onChange:function(t){var e,i,r,o,a;return n(),null!=t&&t?(i=this.getItem(t),$("#user_school_name").val(i.text()),a=i.data("value"),(o=gon.schools_primary_geo[a])!==gon.primary_geo?(e=gon.geos[o].name_adj,r=gon.geos[o].url,l(e,r)):void 0):$("#user_school_name").val("")},load:function(t,e){return t.length?(this.$control_input.is(":focus")&&this.clearOptions(),$.ajax({type:"get",datatype:"json",url:"/api/v1/schools",data:{page:1,length:25,school_name:encodeURIComponent(t)},success:function(t){return e(t)}})):e()}}),(null!=(o=$("#user_school_name").val())?o.length:void 0)>0&&(a=t[0].selectize,r=_.values(a.options),s=o.toLowerCase(),null!=(e=function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)(i=r[t]).name.toLowerCase()===s&&n.push(i);return n}()[0])))return a.setValue(e.id)}}.call(this),function(){var t;(t=window.site).student_memberships=new Object,t.student_memberships["new"]=function(){return t.student_memberships.validateForm()},t.student_memberships.create=t.student_memberships["new"],t.student_memberships.validateForm=function(){return $("#student-membership-form").validate({rules:{"student_membership[course_entry_code]":{required:!0,rangelength:[6,6]}},messages:{"student_membership[course_entry_code]":{rangelength:"Must be exactly 6 characters long."}}})}}.call(this),function(){var t,e;(e=window.site).text_assignment_submissions=new Object,e.text_assignment_submissions["new"]=function(){var e,n;return n=$(".js-submitAssignment").data(),$.post(n.postUrl+"/attempt",{submission_event:"opened_submit_assignment_modal"}),$(".js-lateSubmissionWarning").toggleClass("is-hidden",!n.showLateSubmissionWarning),$("#submission_file").on("change",function(t){return $.post(n.postUrl+"/attempt",{submission_event:"selected_file",file_name:t.target.value})}),(e=$(".js-submitTypedDocumentForm")).attr("action",n.postUrl),t(),e.find(".js-cancelForm").on("click",function(){return window.location.href=gon.courseUrl})},e.text_assignment_submissions.index=function(){return $(".js-manageSubmissionsTable").DataTable({dom:"frtilp",columnDefs:[{orderable:!0,targets:_.range(0,4)},{orderable:!1,targets:"_all"}],language:{aria:{sortAscending:" "+pageContext().intl.formatMessage({id:"dataTables.aria.sortAscending",defaultMessage:"- click or press Return to sort in ascending order"}),sortDescending:" "+pageContext().intl.formatMessage({id:"dataTables.aria.sortDescending",defaultMessage:"- click or press Return to sort in descending order"})}}}),e.assignment_submissions.setupStudentSubmissionModals(),$(".js-selectStudent").selectize(),$(".deleteSubmissionForm").on("ajax:success",function(t){return $(t.target).parents("tr").fadeOutAndRemove()}),setUpTextAssignmentSimilarityReportTable(),t()},e.text_assignment_submissions.show=function(){return t()},t=function(){return $(".js-submitTypedDocumentForm").validate({rules:{file:{required:!0,extension:gon.supported_file_extensions.join(",")}}})}}.call(this),function(){var t,e;(e=window.site).text_assignments=new Object,e.text_assignments.create=function(){return t()},e.text_assignments.edit=function(){return t(),e.assignments.handleBulkDefaultSettings(),e.assignments.setupDeleteAssignmentModal(),e.assignments.setupAssignmentDeleteButton(),e.assignments.setUpCanvasOptions(),e.assignments.setUpBlackboardOptions(),e.assignments.setUpBrightspaceOptions(),e.assignments.setUpSakaiOptions(),e.assignments.setUpMoodleOptions(),gon.user_is_admin&&e.assignments.setUpLmsIdTooltips(),e.assignments.setUpTabs()},e.text_assignments.update=e.text_assignments.edit,e.text_assignments.review_grades=e.assignments.review_grades,e.text_assignments.statistics=function(){return e.questions.setUpQuestionStatistics()},e.text_assignments.similarity=function(){return setUpTextAssignmentSimilarityReportTable(),$(".js-similarityReportsTable").DataTable({columnDefs:[{orderable:!0,targets:_.range(0,2)},{orderable:!1,targets:"_all"}],dom:"frtilp",language:{aria:{sortAscending:" "+pageContext().intl.formatMessage({id:"dataTables.aria.sortAscending",defaultMessage:"- click or press Return to sort in ascending order"}),sortDescending:" "+pageContext().intl.formatMessage({id:"dataTables.aria.sortDescending",defaultMessage:"- click or press Return to sort in descending order"})}}})},t=function(){return e.assignments.setupDueDateFields(),$("input[name$='assignment[group_submission]']").change(function(){return $("#assignment_group_submission").is(":checked")?($("#assignment_group_size").attr("disabled",null).removeClass("disabled"),$("#assignment_group_size").focus()):$("#assignment_group_size").attr("disabled","disabled").addClass("disabled")}),e.assignments.validateAssignmentForm()}}.call(this),function(){window.site.tos=new Object}.call(this),function(){var t;(t=window.site).user_sessions=new Object,t.user_sessions["new"]=function(){return t.user_sessions.setUpOmniauthRememberMe()},t.user_sessions.setUpOmniauthRememberMe=function(){return $("#session_remember_me_sso").click(function(t){var e;return e=$(t.target).is(":checked"),$(".js-omniauthChoice").each(function(t,n){var i;return i=$(n).attr("href"),e?$(n).attr("href",i+"?remember_me=1"):$(n).attr("href",i.replace("?remember_me=1",""))})})}}.call(this),function(){var t,e,n,i,r,o,a,s,l,u,c,d,f,h,p,g,m,v,b,y;b=990,c=function(){return $(window).width()<=b},m=function(){return $("#sidebar").hasClass("sidebar-collapsed")||$(".l-sidebar").hasClass("l-sidebar-is-collapsed")},v=function(){return!$("#sidebar").hasClass("sidebar-show-mobile")&&!$(".l-sidebar").hasClass("l-sidebar-is-mobile")},r=function(){var t;return t=new CustomEvent("resize",{detail:{isSidebarResize:!0}}),window.dispatchEvent(t)},o=function(){var t;return t=setInterval(function(){return r},150),setTimeout(function(){return clearInterval(t)},500)},i=function(){return $(".l-sidebar").addClass("l-sidebar-is-collapsed"),$(".js-toggleSidebar").addClass("collapseIcon-is-collapsed"),$(".l-mainWrapper").addClass("l-mainWrapper-is-with-collapsed-sidebar"),$(".js-toggleSidebar").attr({"aria-label":pageContext().intl.formatMessage({id:"sidebar.expandLabel",defaultMessage:"Expand sidebar"})}),$(".js-toggleSidebar").attr({"aria-expanded":"false"}),$("#sidebar").addClass("sidebar-collapsed"),$(".l-mainWrapper").addClass("sidebar-collapsed"),$("#action-bar-container").addClass("sidebar-collapsed"),$("#sidebar-user-popover").removeClass("active").hide(),o()},s=function(){return $(".l-sidebar").removeClass("l-sidebar-is-collapsed"),$(".l-mainWrapper").removeClass("l-mainWrapper-is-with-collapsed-sidebar"),$(".js-toggleSidebar").removeClass("collapseIcon-is-collapsed"),$(".js-toggleSidebar").attr({"aria-label":pageContext().intl.formatMessage({id:"sidebar.collapseLabel",defaultMessage:"Collapse sidebar"})}),$(".js-toggleSidebar").attr({"aria-expanded":"true"}),$("#sidebar").removeClass("sidebar-collapsed").removeClass("l-sidebar-is-collapsed"),$(".l-mainWrapper").removeClass("sidebar-collapsed"),$("#action-bar-container").removeClass("sidebar-collapsed"),o()},y=function(){return m()&&s(),$(".l-mobileTopNav").addClass("l-mobileTopNav-is-hidden"),$(".l-mainWrapper").addClass("l-mainWrapper-is-with-mobile-sidebar"),$(".l-sidebar").addClass("l-sidebar-is-mobile"),$(".sidebar--mobileOverlay").show(),$(".l-mainWrapper").addClass("sidebar-show-mobile"),$("#sidebar").addClass("sidebar-show-mobile"),$("#top-nav").addClass("sidebar-show-mobile"),$("#sidebar-overlay").show(),$("html, body").css("overflow","hidden")},u=function(){return $(".l-mobileTopNav").removeClass("l-mobileTopNav-is-hidden"),$(".l-mainWrapper").removeClass("l-mainWrapper-is-with-mobile-sidebar"),$(".l-sidebar").removeClass("l-sidebar-is-mobile"),setTimeout(function(){return $("#sidebar-overlay").hide(),$(".sidebar--mobileOverlay").hide(),$("html, body").css("overflow","auto")},500),$("#sidebar").removeClass("sidebar-show-mobile"),$(".l-mainWrapper").removeClass("sidebar-show-mobile"),$("#top-nav").removeClass("sidebar-show-mobile")},h=function(){var t,e,n,i;return t=$("#sidebar-user-popover"),i=function(i){return i.stopPropagation(),t.hasClass("active")?e():n()},e=function(){return t.removeClass("active"),$("#popover-toggle-arrow").removeClass("active"),setTimeout(function(){return t.hide()},300)},n=function(){return t.show(),$("#popover-toggle-arrow").addClass("active"),setTimeout(function(){return t.addClass("active")},50)},$(".sidebar-user-profile").click(i),t.click(i)},f=function(){return new jBox("Tooltip",{attach:$(".sidebar--userProfile"),addClass:"jBox-wrapper-popover",content:$(".sidebar--userProfileMenu"),createOnInit:!0,closeOnClick:!0,closeOnMouseleave:!1,position:{x:"center",y:"top"},offset:{x:-77},trigger:"click",pointer:"left:20"})},t=function(){return $(".js-toggleSidebar").on("touchstart click",function(t){return t.stopPropagation(),t.preventDefault(),c()?v()?void 0:u():m()?s():i()})},e=function(){return $(".js-toggleSidebarMobile").on("touchstart click",function(){if(v())return y()}),$(".sidebar--mobileOverlay").on("touchstart click",function(){return u()})},n=function(){return $(".sidebar-toggle-icon").on("touchstart click",function(t){return t.stopPropagation(),t.preventDefault(),c()?v()?y():u():m()?s():i()}),$("#sidebar-overlay").on("touchstart click",function(){return u()})},g=function(){return ssm.addState({id:"sidebar-view",query:"(max-width: "+b+"px)",onEnter:function(){if(m())return setTimeout(s,50)},onExit:function(){if(!v())return u()}})},d=function(){var t,e,n,i;return new jBox("Tooltip",{animation:"move",attach:$(".sidebar-home-icon"),position:{x:"left",y:"center"},offset:{x:-19},outside:"x",addClass:"jBox-wrapper-tooltip-inverse",title:pageContext().intl.formatMessage({id:"sidebar.backToHome",defaultMessage:"Gradescope: Back to Home"}),trigger:"click"}),new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip-inverse",animation:"move",attach:$(".sidebar--backToCourse"),position:{x:"left",y:"center"},offset:{x:-19},outside:"x",title:pageContext().intl.formatMessage({id:"sidebar.backToCourse",defaultMessage:"Back to Course"})}),n=new jBox("Tooltip",{animation:"move",position:{x:"left",y:"center"},offset:{x:-14},outside:"x",addClass:"jBox-wrapper-tooltip-inverse"}),i=new jBox("Tooltip",{onOpen:function(){if(!m())return this.close()},animation:"move",attach:$(".sidebar-menu-icon"),title:"Show Menu",position:{x:"left",y:"center"},offset:{x:-14},outside:"x",addClass:"jBox-wrapper-tooltip-inverse"}),e=function(t){var e;if(m())return e=$(t).find(".sidebar-list-item-label").text(),n.open({target:$(t)}),n.setTitle(e)},t=function(){return n.close()},$(".sidebar-list-item").hover(function(){return e(this)},function(){return t()}),$(".sidebar-list-item").on("focusin",function(){return e(this)}),$(".sidebar-list-item").on("focusout",function(){return t()}),$(".sidebar-menu-icon").click(function(){return i.close()})},p=function(){var t,e,n,i;return new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip-inverse",animation:"move",attach:$(".sidebar--collapsedHomeIcon"),position:{x:"left",y:"center"},offset:{x:-19},outside:"x",title:pageContext().intl.formatMessage({id:"sidebar.backToHome",defaultMessage:"Gradescope: Back to Home"})}),new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip-inverse",animation:"move",attach:$(".sidebar--backToCourse"),position:{x:"left",y:"center"},offset:{x:-19},outside:"x",title:pageContext().intl.formatMessage({id:"sidebar.backToCourse",defaultMessage:"Back to Course"})}),n=new jBox("Tooltip",{addClass:"jBox-wrapper-tooltip-inverse",animation:"move",position:{x:"left",y:"center"},offset:{x:-14},outside:"x"}),e=function(t){var e;if(m())return e=$(t).find(".sidebar--menuItemLabel").text(),n.open({target:$(t)}),n.setTitle(e)},t=function(){return n.close()},$(".sidebar--menuItem").hover(function(){return e(this)},function(){return t()}),$(".sidebar--menuItem").on("focusin",function(){return e(this)}),$(".sidebar--menuItem").on("focusout",function(){return t()}),i=new jBox("Tooltip",{onOpen:function(){if(!m())return this.close()},animation:"move",attach:$(".js-toggleSidebar"),title:"Show Menu",position:{x:"left",y:"center"},offset:{x:-14},outside:"x",addClass:"jBox-wrapper-tooltip-inverse"}),$(".js--sidebarToggle").click(function(){return i.close()})},l=function(){return $(".js-openHelpCenter").on("click",a)},a=function(t){return t.preventDefault(),site.help_center.helpCenter?site.help_center.helpCenter.openModal():$.get($(".js-helpCenter").data("url"),function(t){return $(".js-helpCenter").replaceWith(t),site.help_center.helpCenter=site.help_center.initHelpCenterForModal(),site.help_center.helpCenter.openModal()})},window.watchScrollForTopNav=function(){var t,e,n,i,r,o;if(n=20,$("#top-nav").length>0&&(e=$("#top-nav").outerHeight(),t=$(".l-mainWrapper")),$(".l-mobileTopNav").length>0&&(e=$(".l-mobileTopNav").outerHeight(),t=$(".l-content")),t)return o=0,i=!1,r=function(){var r,a;if(i=t.innerHeight+t.scrollTop()>=document.body.offsetHeight,r=t.scrollTop(),a=Math.abs(o-r),
!(i||a<=n))return r>o&&r>e?($(".l-mobileTopNav").addClass("l-mobileTopNav-is-hidden"),$("#top-nav").addClass("nav-hide")):($(".l-mobileTopNav").removeClass("l-mobileTopNav-is-hidden"),$("#top-nav").removeClass("nav-hide")),o=r},t.scroll(_.debounce(r,30))},$(function(){return h(),f(),t(),e(),$(".l-sidebar, #sidebar").on("transitionend",function(t){if(t.target===document.querySelector(".l-sidebar, #sidebar"))return r()}),n(),g(),watchScrollForTopNav(),p(),d(),l()})}.call(this),function(){var t,e,n,i,r,o,a,s,l;$(function(){var t;if(t=$(".l-actionBar")[0])return t.addEventListener("touchmove",function(t){return t.preventDefault()})}),t=16,r=null,n=function(){return new jBox("Tooltip",{attach:$(".js-toggleActionBarCollapsedMenu"),content:$(".actionBar--collapsedMenuContent"),createOnInit:!0,closeOnClick:"body",closeOnMouseleave:!1,position:{x:"center",y:"top"},trigger:"click"})},a=function(t){var e;return(e=t.clone(!0)).data("original",t),e.find(".actionBar--action").on("click",function(){return t.find(".actionBar--action")[0].click(),!1}),e.find(".actionBar--actionExtrasMore .js-actionExtrasMoreButton").each(function(e){return $(this).on("click",function(){return t.find(".actionBar--actionExtrasMore .js-actionExtrasMoreButton")[e].click(),!1})}),e},i=function(){if(r&&$(r.wrapper).is(":visible"))return r.options.fade=!1,r.close({ignoreDelay:!0}),r.options.fade=!0},o=function(){return $(".actionBar--collapsedMenuContent li:not(.js-actionBarExtraMenuElement) >").length},l=function(){var e,n,r,s,u,c,d,f,h,p,g,m;return m=!1,c=(n=$(".actionBar--collapsedMenuButtonContainer")).outerWidth(!0),r=$(".actionBar--collapsedMenuContent"),e=$(".l-actionBar"),d=0,e.find(">:not(.actionBar--actionList)").each(function(){if($(this).is(":visible"))return d+=$(this).outerWidth(!0)}),s=e.width()-d-t,p=$(".actionBar--actionList").outerWidth(!0),r.find("li:not(.js-actionBarExtraMenuElement)").each(function(){var t;if(t=$(this).data("original"))return 0===t.parent().length?$(this).remove():$(this).replaceWith(a(t))}),p>s?0!==(f=e.find("li:not(.actionBar--collapsedMenuButtonContainer,.actionBar--hiddenElement,.js-actionBarExtraMenuElement):first")).length&&(f.data("width",f.outerWidth(!0)),u=a(f),f.addClass("actionBar--hiddenElement"),u.appendTo(r.find("ul:not(.js-actionBarExtraMenuElement)")),m=!0):(g=p+(h=r.find("li:not(.js-actionBarExtraMenuElement):last")).data("width"),1===o()&&(g-=c),g<s&&(h.data("original").removeClass("actionBar--hiddenElement"),h.remove(),m=!0)),o()>0?n.find(">").show():(n.find(">").hide(),i()),m&&l()},e=100,s=_.throttle(l,e),window.responsiveActionBar=function(){if($(".actionBar--collapsedMenuButtonContainer").length)return $(window).on("load",function(){return l()}),$(window).on("resize",function(){return s()}),r=n(),l()},window.throttledUpdateActionBarCollapsedMenu=s}.call(this),function(){var t;t=function(){var t,e,n,i;if(i=window.site,n=(e=$("body")).attr("data-controller"),t=e.attr("data-action"),i.common.init(),i[n]&&(null!=i[n].init&&i[n].init(),null!=i[n][t]))return i[n][t]()},$(document).ready(t)}.call(this),function(){var t,e;e=function(){return new CustomEvent("resize",{detail:{isAlertClose:!0}})},t=function(t){return t.parent().fadeOut(function(){return $(this).remove(),window.dispatchEvent(e())})},$(function(){return $(".alert .alert-close").click(function(){return t($(this))}),$(".alert .alert--close").click(function(){return t($(this))})})}.call(this),function(){window.setUpFileUploadPrompt=function(t){var e,n,i,r,o,a;return i=(e=$(t)).data("filename"),o=e.data("prompt"),r=e.attr("multiple"),n=i||(o||(r?pageContext().intl.formatMessage({id:"fileUpload.multiplePrompt",defaultMessage:"Please select file(s)"}):pageContext().intl.formatMessage({id:"fileUpload.singlePrompt",defaultMessage:"Please select a file"}))),(a=function(){var i,r,o;return r=function(){var e,n,r,o;for(o=[],e=0,n=(r=t.files).length;e<n;e++)i=r[e],o.push(i.name);return o}(),o=function(){switch(r.length){case 0:return n;case 1:return r[0].truncate(40);default:return pageContext().intl.formatMessage({id:"fileUpload.numberFilesSelected",defaultMessage:"{numberOfFiles} files selected"},{numberOfFiles:r.length})}}(),e.siblings(".js-fileUploadPrompt").html(o)})(),e.on("change click",a)},$(function(){return $("input[type=file]").each(function(t,e){return window.setUpFileUploadPrompt(e)})})}.call(this);